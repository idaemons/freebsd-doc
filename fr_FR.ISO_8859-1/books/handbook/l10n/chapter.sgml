<!--
        The FreeBSD Documentation Project
        The FreeBSD French Documentation Project

        $FreeBSD$
        Original revision: 1.9
--> 

<chapter id="l10n">
  <title>Localisation</title>
  &trans.a.haby;
  
  <sect1 id="russian">
    <title>Russe (codage KOI8-R)</title>
    
    <para><emphasis>Contribution de &a.ache;  1 Mai
	1997</emphasis>.</para>
    
    <para>Vous trouverez plus d'informations sur la codification KOI8-R dans les
      <ulink URL="http://www.nagual.pp.ru/~ache/koi8.html">R&eacute;f&eacute;rences 
      KOI8-R (Jeu de caract&egrave;res russes pour Internet)</ulink>.</para>
    
    <sect2 id="russian-console">
      <title>Configuration de la console</title>
      
      <procedure>
	<step>
	  <para>Ajoutez la ligne suivante &agrave; votre fichier de 
            configuration du noyau&nbsp;:</para>
	    
	    <programlisting>
options         "SC_MOUSE_CHAR=0x03"</programlisting>

	    <para>pour d&eacute;placer les codes utilis&eacute;s pour le curseur
              de la souris hors de la plage des caract&egrave;res 
              pseudographiques KOI8-R.</para>
	</step>
	
	<step>
	  <para>L'entr&eacute;e pour la console russe de
	    <filename>/etc/rc.conf</filename> doit ressembler 
            &agrave;&nbsp;:</para>
		  
	  <programlisting>
keymap=ru.koi8-r
keychange="61 ^[[K"
scrnmap=koi8-r2cp866
font8x16=cp866b-8x16
font8x14=cp866-8x14
font8x8=cp866-8x8</programlisting>

	  <note>
	    <para><literal>^[</literal> signifie qu'il faut mettre le 
              caract&egrave;re <keycap>ESC</keycap> dans 
              <filename>/etc/rc.conf</filename>, et non la cha&icirc;ne de 
              caract&egrave;res <literal>^[</literal>.</para>
	  </note>
	  
	  <para>Cela correspond au clavier KOI8-R avec la police de
            caract&egrave;res alternative correspondant &agrave; la codification
            KOI8-R pour conserver les caract&egrave;res pseudographiques et 
            &agrave; la touche <keycap>Gray Delete</keycap> 
            reconfigur&eacute;e pour correspondre &agrave; l'entr&eacute;e pour
            le russe de &man.termcap.5; pour la console FreeBSD.</para>
	  
	  <para>Le passage de russe &agrave; latin se fera avec 
            <keycap>CapsLock</keycap>. L'ancienne fonctionnalit&eacute;e de
	    <keycap>CapsLock</keycap> est toujours disponible avec 
            <keycombo><keycap>Shift</keycap><keycap>CapsLock</keycap></keycombo>. 
            La diode <keycap>CapsLock</keycap> indiquera que le mode russe est 
            actif, et non le mode majuscules.</para>
	</step>
	
	<step>
	  <para>Pour chaque entr&eacute;e <literal>ttyv?</literal> de
	    <filename>/etc/ttys</filename>, modifiez le type de terminal de
	    <literal>cons25</literal> en <literal>cons25r</literal>, i.e., 
            chaque entr&eacute;e ressemblera &agrave;&nbsp;:</para>
	  
	  <programlisting>
ttyv0	"/usr/libexec/getty Pc"        cons25r	on  secure</programlisting>
	</step>
      </procedure>
    </sect2>
    
    <sect2 id="russian-locale">
      <title>Configuration pour 
        &ldquo;<foreignphrase>locale</foreignphrase>&rdquo;</title>
      
      <para><anchor id="russian-env">Il y a deux variables d'environnement pour
        la configuration de
        &ldquo;<foreignphrase>locale</foreignphrase>&rdquo;&nbsp;:</para>
      
      <itemizedlist>
	<listitem>
	  <para><envar>LANG</envar> pour la famille de fonctions POSIX 
            &man.setlocale.3;,</para>
	</listitem>
	
	<listitem>
	  <para><envar>MM_CHARSET</envar> pour le jeu de caract&egrave;res des
            applications MIME.</para>
	</listitem>
      </itemizedlist>
      
      <para>La meilleure fa&ccedil;on de proc&eacute;der est d'utiliser la
        classe de session utilisateur <literal>russian</literal> de 
        &man.passwd.5; dans <filename>/etc/login.conf</filename>. Reportez-vous
        aux pages de manuel de &man.login.conf.5; pour plus de 
        pr&eacute;cisions.</para>
      
      <sect3 id="russian-class">
	<title>M&eacute;thode utilisant la classe de session utilisateur</title>
	
	<para>V&eacute;rifiez tout d'abord qu'il y a bien une classe de session
	  <literal>russian</literal> dans votre
          <filename>/etc/login.conf</filename>, cette entr&eacute;e ressemble
          probablement &agrave;&nbsp;:</para>
	
	<programlisting>
russian:Russian Users Accounts:\
        :charset=KOI8-R:\
        :lang=ru_RU.KOI8-R:\
        :tc=default:</programlisting>
	
	<sect4>
	  <title>Comment faire avec &man.vipw.8;</title>
	  
	  <para>Si vous utilisez &man.vipw.8; pour ajouter de nouveaux comptes,
	    les entr&eacute;es de <filename>/etc/master.passwd</filename>  
	    doivent ressembler &agrave;&nbsp;:</para>

	  <programlisting>
utilisateur:mot_de_passe:1111:11:russian:0:0:Nom d'utilisateur:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/home/utilisateur:/bin/csh</programlisting>
	</sect4>
	
	<sect4>
	  <title>Comment faire avec &man.adduser.8;</title>
	  
	  <para>Si vous utilisez &man.adduser.8; pour ajouter de nouveaux
            comptes&nbsp;:</para>
	  
	  <itemizedlist>
	    <listitem>
	      <para>Positionnez&nbsp;:</para>
		
		<programlisting>
defaultclass = russian</programlisting>

		<para>dans <filename>/etc/adduser.conf</filename> (vous devez
                dans ce cas indiquer la classe <literal>default</literal> pour
                tous les comptes autres que russes),</para>
	    </listitem>
	    
	    <listitem>
	      <para>Une autre fa&ccedil;on de faire est de r&eacute;pondre
		<literal>russian</literal> chaque fois que vous 
                voyez l'invite&nbsp;:</para>

		<screen><prompt>Enter login class:</prompt> default []:</screen>
		<para>de &man.adduser.8;,</para>
	    </listitem>
	    
	    <listitem>
	      <para>Autre variante&nbsp;: utilisez&nbsp;:</para>
		
		<screen>&prompt.root; <userinput>adduser -class russian</userinput></screen>

		<para>chaque fois que vous voulez ajouter un compte utilisateur
                  russe.</para>
	    </listitem>
	  </itemizedlist>
	</sect4>
	
	<sect4>
	  <title>Comment faire avec &man.pw.8;</title>
	  
	  <para>Si vous utilisez &man.pw.8; pour ajouter de nouveaux comptes, 
            appelez-le comme suit&nbsp;:</para>
		
	  <screen>&prompt.root; <userinput>pw useradd nom_d_utilisateur -L russian</userinput></screen>
	</sect4>
      </sect3>
      
      <sect3>
	<title>M&eacute;thode utilisant les fichiers d'initialisation de
          l'interpr&eacute;teur de commandes</title>
	
	<para>Si vous ne voulez pas utiliser <link linkend="russian-class">la
          m&eacute;thode par la classe de session</link> pour une raison ou une
          autre, positionnez simplement ces <link linkend="russian-env">deux
          variables d'environnement</link> dans les fichiers de d&eacute;marrage
          de l'interpr&eacute;teur de commandes suivants&nbsp;:</para>
	
	<itemizedlist>
	  <listitem>
	    <para><filename>/etc/profile</filename>&nbsp;:</para>
	    
	    <programlisting>
LANG=ru_RU.KOI8-R; export LANG
MM_CHARSET=KOI8-R; export MM_CHARSET</programlisting>
	  </listitem>
	  
	  <listitem>
	    <para><filename>/etc/csh.login</filename>&nbsp;:</para>
	    
	    <programlisting>
setenv LANG ru_RU.KOI8-R
setenv MM_CHARSET KOI8-R</programlisting>
	  </listitem>
	</itemizedlist>
	
	<para>Vous pouvez aussi ajouter ces instructions &agrave;&nbsp;:</para>

	<itemizedlist>
	  <listitem>
	    <para><filename>/usr/share/skel/dot.profile</filename>&nbsp;:</para>
	    
	    <para>(comme pour <filename>/etc/profile</filename> 
              ci-dessus);</para>
	  </listitem>
	  
	  <listitem>
	    <para><filename>/usr/share/skel/dot.login</filename>&nbsp;:</para>
	    
	    <para>(comme pour <filename>/etc/csh.login</filename>
	     ci-dessus).</para>
	  </listitem>
	</itemizedlist>
      </sect3>
    </sect2>
    
    <sect2 id="russian-printer">
      <title>Configuration de l'imprimante</title>
      
      <para>Comme la plupart des imprimantes qui ont un jeu de caract&egrave;res
        russes ont un &ldquo;code page&rdquo; mat&eacute;riel CP866, il faut un
        filtre de sortie sp&eacute;cial pour la conversion KOI8-R -&gt; CP866.
        Ce type de filtre s'installe par d&eacute;faut dans
	<filename>/usr/libexec/lpr/ru/koi2alt</filename>. L'entr&eacute;e de
	<filename>/etc/printcap</filename> pour l'imprimante russe devra donc
        ressembler &agrave;&nbsp;:</para>

      <programlisting>
lp|Imprimante ligne russe locale:\
        :sh:of=/usr/libexec/lpr/ru/koi2alt:\
        :lp=/dev/lpt0:sd=/var/spool/output/lpd:lf=/var/log/lpd-errs:</programlisting>

      <para>Reportez-vous aux pages de manuel de &man.printcap.5; pour plus de
        d&eacute;tails.</para>
    </sect2>
    
    <sect2 id="russian-msdosfs">
      <title>Syst&egrave;me de fichiers MSDOS et noms de fichiers russes</title>
      
      <para>Suivez l'exemple d'entr&eacute;e dans &man.fstab.5; ci-dessous pour
        autoriser les noms de fichiers en russe avec le syst&egrave;me de
        fichiers MSDOS&nbsp;:</para>
      
      <programlisting>
/dev/sd0s1        /dos/c    msdos   rw,-W=koi2dos,-L=ru_RU.KOI8-R 0 0</programlisting>

      <para>Reportez-vous aux pages de manuel de &man.mount.msdos.8; pour avoir
        une description d&eacute;taill&eacute;e des options <option>-W</option>
        et <option>-L</option>.</para>
    </sect2>
    
    <sect2 id="russian-xwindow">
      <title>Configuration de X Window</title>
      
      <para>Instructions pas-&agrave;-pas:</para>
      
      <procedure>
	<step>
	  <para>Configurez d'abord 
            <link linkend="russian-locale">&ldquo;<foreignphrase>locale</foreignphrase>&rdquo;</link>
	    ind&eacute;pendamment de X, comme expliqu&eacute; plus haut.</para>
	  
	  <note>
	    <para><anchor id="russian-note">La configuration KOI8-R russe pour
              &ldquo;<foreignphrase>locale</foreignphrase>&rdquo; peut ne pas
              marcher avec d'anciennes versions de XFree86 (ant&eacute;rieures
              &agrave; la 3.3). La version de XFree86 de
	      <filename>/usr/ports/x11/XFree86</filename> est d'hors et
              d&eacute;j&agrave; la plus r&eacute;cente, cela fonctionnera donc,
              si vous avez install&eacute; cette version de XFree86. La version
              de XFree86 fournie avec la derni&egrave;re version de FreeBSD
              devrait aussi marcher (V&eacute;rifiez que le num&eacute;ro de
              version de XFree86 est au moins 3.3).</para>
	  </note>
	</step>
	
	<step>
	  <para>Allez dans le r&eacute;pertoire 
            <filename>/usr/ports/russian/X.language</filename> et 
            tapez-y&nbsp;:</para>
	    
	    <screen>&prompt.root; <userinput>make all install</userinput></screen>
	  <para>Cela installe la derni&egrave;re version des polices de
            caract&egrave;res KOI8-R. Il y a d&eacute;j&agrave; des polices
            KOI8-R fournies avec XFree86 3.3, mais les pr&eacute;c&eacute;dentes
	    se redimensionnent mieux.</para>
		
	  <para>Consultez la section <literal>"Files"</literal> de votre
	    <filename>/etc/XF86Config</filename>, les lignes suivantes doivent
            pr&eacute;c&eacute;der toutes autres entr&eacute;es
	    <literal>FontPath</literal>&nbsp;:</para>

	  <programlisting>
FontPath   "/usr/X11R6/lib/X11/fonts/cyrillic/misc"
FontPath   "/usr/X11R6/lib/X11/fonts/cyrillic/75dpi"
FontPath   "/usr/X11R6/lib/X11/fonts/cyrillic/100dpi"</programlisting>
	  
	  <para>Si vous utilisez un mode vid&eacute;o haute r&eacute;solution,
            intervertissez les lignes 75 dpi et 100 dpi.</para>
	</step>
	
	<step>
	  <para>Pour mettre en service le clavier russe, ajoutez la 
            ligne&nbsp;:</para>
	    
	  <programlisting>
XkbKeymap   "xfree86(ru)"
          </programlisting>

	  <para>&agrave; la section <literal>"Keyboard"</literal> de
	    <filename>/etc/XF86Config</filename>, et v&eacute;rifiez que
	    <literal>XkbDisable</literal> y est d&eacute;sactiv&eacute; 
            (mis en commentaires).</para>
		
	  <para>Le passage de russe &agrave; latin se fera avec 
            <keycap>CapsLock</keycap>. L'ancienne fonctionnalit&eacute;e de
	    CapsLock est toujours disponible avec 
            <keycombo><keycap>Shift</keycap><keycap>CapsLock</keycap></keycombo>
            (en mode latin uniquement).</para> 

	  <note>
	    <para>Le clavier russe XKB peut ne pas fonctionner avec d'anciennes
              versions de XFree86, voyez la <link linkend="russian-note">note
              &agrave; propos de 
              &ldquo;<foreignphrase>locale</foreignphrase>&rdquo;</link> pour
              plus d'informations. Le clavier russe XKB peut aussi ne pas
              fonctionner avec des applications non localis&eacute;es, pour
              &ecirc;tre un minimum localis&eacute;e, une application doit
              appeler la fonction 
              <literal>XtSetLanguageProc (NULL, NULL, NULL);</literal> assez en
              amont dans le code.</para>
	  </note>
	</step>
      </procedure>
    </sect2>
  </sect1>
  
  <sect1 id="german">
    <title>Allemand (ISO 8859-1)</title>
    
    <para>Slaven Rezic <email>eserte@cs.tu-berlin.de</email> a 
      r&eacute;dig&eacute; un guide sur l'utilisation des 
      <foreignphrase>umlaut</foreignphrase>s sur une machine FreeBSD. Ce guide 
      est &eacute;crit en allemand et disponible sur
      <ulink URL="http://www.de.freebsd.org/de/umlaute/">http://www.de.freebsd.org/de/umlaute/</ulink>.</para>
  </sect1>
</chapter>

<!-- 
     Local Variables:
     mode: sgml
     sgml-declaration: "../chapter.decl"
     sgml-indent-data: t
     sgml-omittag: nil
     sgml-always-quote-attributes: t
     sgml-parent-document: ("../handbook.sgml" "part" "chapter")
     End:
-->

