<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: 1.217
     $FreeBSD$
-->

<chapter id="install">
  <chapterinfo>
    <authorgroup>
      <author>
        <firstname>Jim</firstname>
	<surname>Mock</surname>
	<contrib>再構成、部分的に書き直し</contrib>
      </author>
    </authorgroup>

    <authorgroup>
      <author>
	<firstname>Randy</firstname>
	<surname>Pratt</surname>
	<contrib>Sysinstall について、ウォークスルー、スクリーンショット、
	  及びその他原稿 </contrib>
      </author>
    </authorgroup>
    <!-- January 2000 -->
  </chapterinfo>

  <title>FreeBSD のインストール</title>

  <sect1>
    <title>この章では</title>

    <indexterm><primary>installation</primary></indexterm>

    <para>FreeBSD では、<application>Sysinstall</application>
      と呼ばれるテキストベースの使いやすいインストールプログラムが用意されています。
      これは標準のインストールプログラムですが、
      各ベンダーは独自のインストール用プログラムを用意することもできます。
      この章では、FreeBSD をインストールする際に
      <application>Sysinstall</application>
      をどのように使えばよいかを説明しています。</para>

    <para>この章を読めば、次のことがわかるでしょう:</para>

    <itemizedlist>
      <listitem>
	<para>FreeBSD インストールディスクの作り方。</para>
      </listitem>
      
      <listitem>
	<para>FreeBSD がハードディスクをどのように参照するか、
	  またどのように分割するか。</para>
      </listitem>

      <listitem>
	<para><application>Sysinstall</application>
	  をどのように起動するか。</para>
      </listitem>

      <listitem>
	<para><application>Sysinstall</application>
	  が聞いてくる質問がどのような意味であり、
	  またどのように答えれば良いか。</para>
      </listitem>
    </itemizedlist>

    <para>この章を読む前に、以下のことを確認して下さい:</para>

    <itemizedlist>
      <listitem>
	<para>インストールしようとするバージョンの FreeBSD
	  に付属しているサポートハードウェア一覧を読んで、
	  あなたの使っているハードウェアがサポートされているかどうか確認して下さい。</para>
      </listitem>
    </itemizedlist>

    <note>
      <para>通常、これらのインストール説明書は i386 (<quote>PC 互換</quote>) 
        アーキテクチャのコンピュータを対象にしています。
        他のプラットフォーム (例えば Alpha)
	に特有の説明については明記されています。</para>
    </note>

  </sect1>
  <sect1 id="install-pre">
    <title>インストール前に行う作業</title>

    <sect2 id="install-inventory">
      <title>あなたのコンピュータの部品一覧を作る(Inventory)</title>

      <para>FreeBSDをインストールする前に、
	あなたのコンピュータで使用している部品の一覧を作っておいたほうがいいでしょう。
	FreeBSD のインストールルーチンは、部品 (ハードディスク、
	ネットワークカード、CDROM ドライブなど)
	のモデル番号とメーカーを表示し、
	さらにこれらのデバイスについて、使用する IRQ, IO
	ポートまで含めて正しい設定を認識しようと試みます。しかし、PC
	ハードウェアによっては、この過程は完全には成功せず、FreeBSD
	が認識した設定を修正しなければならないこともあります。</para>

      <para>Windows や Linux などの、
	他のオペレーティングシステムが既にインストールされている場合、
	それらのオペレーティングシステムでのあなたのハードウェアの設定を参考にすると良いでしょう。
	拡張カードなどの設定がよく分からない場合は、
	カード上の印刷を見ることで分かることもあります。
	よく使われる IRQ は 3, 5, 7 で、IO ポートアドレスは通常 0x330 のような
	16進数で書かれています。</para>

      <para>FreeBSD をインストールする前に、
	この情報を印刷するか書き留めておくかすることを勧めます。
	例えば次のような表です:</para>

      <table pgwide="1" frame="none">
	<title>サンプルデバイス一覧</title>

	<tgroup cols="4">
	  <thead>
	    <row>
	      <entry>デバイスの名前</entry>

	      <entry>IRQ</entry>

	      <entry>IO ポート</entry>

	      <entry>メモ</entry>
	    </row>
	  </thead>

	  <tbody>
	    <row>
	      <entry>1台目のハードディスク</entry>

	      <entry>N/A</entry>

	      <entry>N/A</entry>

	      <entry>4&nbsp;GB, Seagate 製、プライマリ IDE マスター</entry>
	    </row>

	    <row>
	      <entry>CDROM</entry>

	      <entry>N/A</entry>

	      <entry>N/A</entry>

	      <entry>プライマリ IDE スレーブ</entry>
	    </row>

	    <row>
	      <entry>2台目のハードディスク</entry>

	      <entry>N/A</entry>

	      <entry>N/A</entry>

	      <entry>2GB, IBM 製、セカンダリ IDE マスター</entry>
	    </row>

	    <row>
	      <entry>1つ目の IDE コントローラ</entry>

	      <entry>14</entry>

	      <entry>0x1f0</entry>

	      <entry></entry>
	    </row>

	    <row>
	      <entry>ネットワークカード</entry>

	      <entry>N/A</entry>

	      <entry>N/A</entry>

	      <entry>Intel 10/100</entry>
	    </row>

	    <row>
	      <entry>モデム</entry>

	      <entry>N/A</entry>

	      <entry>N/A</entry>

	      <entry>3Com 56K ファックスモデム、COM1 に接続</entry>
	    </row>

	    <row>
	      <entry>&hellip;</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>
    </sect2>

    <sect2>
      <title>データのバックアップ</title>
      
      <para>FreeBSD
	をインストールするコンピュータに価値のあるデータが入っている場合、
	確実にバックアップをとり、
	さらに正しくバックアップがとれていることを確認して下さい。FreeBSD
	のインストールルーチンは、ハードディスクに実際に書き込む前に何回か確認を求めますが、
	一度実際に書き込む作業が始まってしまうと、
	もう元に戻すことはできません。</para>
    </sect2>

    <sect2 id="install-where">
      <title>FreeBSD をインストールする場所の決定</title>

      <para>FreeBSD を、ハードディスクすべてを使ってインストールする場合は、
	この時点で確認しなければならないことは何もありません &mdash;
	この節を飛ばすことができます。</para>
	
      <para>しかし FreeBSD
	を他のオペレーティングシステムと共存させる必要がある場合は、
	データがディスクにどのように配置されており、
	それがどのように影響するかを大まかに理解する必要があります。</para>

      <sect3 id="install-where-i386">
	<title>i386 アーキテクチャでのディスクレイアウト</title>

      <para>PC のディスクは個別の塊に分割することができます。
	これらの塊は<firstterm>パーティション</firstterm>と呼ばれます。
	PC では、ディスク 1 台あたり 4 つまでパーティションを作成することができます。
	これらのパーティションは<firstterm>プライマリパーティション</firstterm>と呼ばれます。
	この制限を回避し、
	4 つ以上のパーティションを作成するために<firstterm>拡張パーティション</firstterm>と呼ばれる新しいパーティション形式が作られました。
	ディスク 1 台につき 1 つだけ拡張パーティションを作成することができます。
	論理パーティションと呼ばれる特別のパーティションは、
	この拡張パーティションの内部に作成することができます。</para>

      <para>それぞれのパーティションは、
	そのパーティションに含まれるデータの形式を示す数字である、
	<firstterm>パーティション ID</firstterm> を持ちます。FreeBSD
	パーティションのパーティション ID は <literal>165</literal>です。</para>

      <para>通常、各オペレーティングシステムは、
	それぞれ独自の方法で個々のパーティションを識別します。例えば DOS や
	Windows などの DOS の子孫は、
	プライマリパーティション及び論理パーティションそれぞれに
	<devicename>C:</devicename> から始まる
	<firstterm>ドライブレター</firstterm>を割り当てます。</para>

      <para>FreeBSD
	はプライマリパーティションにインストールしなければなりません。
	FreeBSD はあなたが作成したファイルを含むすべてのデータを、
	この一つのパーティションに保持することができます。
	しかし複数のディスクがある場合はそのうちのいくつか、もしくはすべてに、
	FreeBSD パーティションを作成することもできます。
	FreeBSD をインストールする時は
	1 つのパーティションを使用可能にしておかなければなりません。
	このパーティションは、新たに用意した空白のパーティションでもいいですし、
	または無くなっても構わないデータしか入っていない、
	既存のパーティションでも構いません。</para>

      <para>すべてのディスクで、既にすべてのパーティションを使用している場合は、
	他のオペレーティングシステムで提供されているツール
	(例えば DOS または Windows の <command>fdisk</command>) を使用して、
	そのうちの 1 つを FreeBSD のために解放しなければなりません。</para>

      <para>予備のパーティションがある場合にはそれを使うこともできます。
	しかし、まず始めは
	1 つまたは複数の既存のパーティションを縮小するということを考えても良いでしょう。</para>

      <para>FreeBSD の最小のインストールには、100&nbsp;MB
	程度のディスク容量が必要です。
	しかしこれは<emphasis>非常に</emphasis>小さなインストールであり、
	自分のファイルを作成するスペースはほとんど残らないでしょう。
	現実的には、グラフィカルな環境が必要ないのであれば 250&nbsp;MB,
	グラフィカルユーザインタフェースを使用するのであれば 350&nbsp;MB
	以上は必要でしょう。
	その上、多くのサードパーティ製ソフトウェアをインストールするならば、
	さらに多くのスペースが必要になるでしょう。</para>

      <para>FreeBSD のためのスペースを用意する際、
	パーティションサイズを変更するために、
	<application>Partition Magic</application>
	などの商用ツールを使用することができます。CDROM の
	<filename>tools</filename> ディレクトリにはこれと同様のことができる
	<application>FIPS</application> 及び <application>PResizer</application>
	という 2 つのフリーソフトウェアツールが含まれています。
	これらのツールのドキュメントも同じディレクトリにあります。</para>

      <warning>
	<para>これらのツールの使用方法を誤ると、
	  ディスク上のデータが消えてしまう可能性があります。
	  使用前には必ずバックアップをとって下さい。</para>
      </warning>

      <example>
	<title>既存のパーティションを変更せずに使用</title>

	<para>既に Windows がインストールされている 4&nbsp;GB のハードディスクが
	  1台接続されており、そのハードディスクは 2つのドライブレター
	  <devicename>C:</devicename> 及び <devicename>D:</devicename>
	  に分割されており、それぞれのサイズが 2&nbsp;GB である PC
	  を使用していると仮定します。
	  またこの時、<devicename>C:</devicename> には 1&nbsp;GB,
	  <devicename>D:</devicename> には 0.5&nbsp;GB のデータがあるとします。</para>

	<para>ドライブレター 1つあたり 1つのパーティションですから、
	  あなたのディスクには合計で
	  2つのパーティションがあるということを意味します。
	  この場合、<devicename>D:</devicename> にあるデータをすべて
	  <devicename>C:</devicename> にコピーすれば、
	  2 つ目のパーティションを解放し、FreeBSD
	  のために使うことができるでしょう。</para>
      </example>

      <example>
	<title>既存のパーティションを縮小する</title>

	<para>既に Windows がインストールされている 4&nbsp;GB のハードディスクが
	  1 台接続された PC を使用していると仮定します。さらに Windows
	  をインストールする際、1 つの大きなパーティションを作成し
	  <devicename>C:</devicename> ドライブとして 4&nbsp;GB を割り当てたとします。
	  そして現在 1.5&nbsp;GB 使用しており、FreeBSD で 2&nbsp;GB 使いたいとします。</para>

	<para>FreeBSD をインストールするためには、
	  以下のどちらかを行わなければなりません:</para>

	<orderedlist>
	  <listitem>
	    <para>Windows のデータをバックアップし、インストール時に 2&nbsp;GB
	      のパーティションを作成して再インストールする。</para>
	  </listitem>

	  <listitem>
	    <para>先に述べた <application>Partition Magic</application>
	      をはじめとする Windows パーティションを縮小するツールを使用する。
	  </listitem>
	</orderedlist>
      </example>

      </sect3>

      <sect3>
	<title>Alpha アーキテクチャでのディスクレイアウト</title>

	<indexterm><primary>Alpha</primary></indexterm>

	<para>Alpha 上で FreeBSD を使用するためには、
	  FreeBSD 専用のディスクを用意する必要があります。現在、
	  他のオペレーティングシステムと、ディスクを共有することはできません。
	  あなたの持っている Alpha マシンによりますが、ブートが可能でさえあれば、
	  このディスクは SCSI ディスクでも IDE
	  ディスクでもどちらでもインストール可能です。</para>

	<para>Digital / Compaq のマニュアルの例に従って、SRM
	  の入力を大文字で示します。SRM 自体は大文字小文字を区別しません。</para>

	<para>あなたのマシンのディスクの名前や形式を知るためには、
	  SRM コンソールプロンプトで <literal>SHOW DEVICE</literal>
	  コマンドを使用して下さい:</para>

	<screen>&gt;&gt;&gt;<userinput>show device</userinput>
dka0.0.0.4.0               DKA0           TOSHIBA CD-ROM XM-57  3476
dkc0.0.0.1009.0            DKC0                       RZ1BB-BS  0658
dkc100.1.0.1009.0          DKC100             SEAGATE ST34501W  0015
dva0.0.0.0.1               DVA0
ewa0.0.0.3.0               EWA0              00-00-F8-75-6D-01
pkc0.7.0.1009.0            PKC0                  SCSI Bus ID 7  5.27
pqa0.0.0.4.0               PQA0                       PCI EIDE
pqb0.0.1.4.0               PQB0                       PCI EIDE</screen>

	<para>この例では Digital Personal Workstation 433au を使用しており、
	  このマシンには 3 台のディスクが接続されていることを示しています。
	  1 つ目は <devicename>DKA0</devicename>と呼ばれる CDROM ドライブで、
	  他の 2 つはそれぞれ <devicename>DKC0</devicename>,
	  <devicename>DKC100</devicename> と呼ばれるディスクです。</para>

	<para><devicename>DKx</devicename>
	  という形式の名前がついているディスクは SCSI ディスクです。
	  例えば、<devicename>DKA100</devicename> は 1 つ目の SCSI バス (A)
	  に接続された SCSI ID が 1 である SCSI ディスクであるのに対し、
	  <devicename>DKC300</devicename> は 3 つ目の SCSI バス (C)
	  に接続された SCSI ID が 3 である SCSI ディスクである。
	  <devicename>PKx</devicename> というデバイス名は SCSI
	  ホストバスアダプタであることを示します。
	  <literal>SHOW DEVICE</literal> コマンドの出力に示されるように、
	  SCSI CDROM ドライブはその他の SCSI
	  ハードディスクドライブとして扱われます。</para>

	<para>IDE コントローラが <devicename>PQx</devicename>である場合、
	  IDE ディスクは、<devicename>DQx</devicename>
	  というような名前を持ちます。</para>

      </sect3>
    </sect2>

    <sect2>
      <title>ネットワーク設定の詳細をまとめる</title>

      <para>FreeBSD をネットワークを利用してインストールする場合は
	(例えば FTP サイト、または NFS サーバからインストールする場合),
	ネットワークの設定を知る必要があります。
	FreeBSD のインストールを完了するためにネットワークに接続できるよう、
	インストール中にこれらの情報を入力する必要があります。</para>

      <sect3>
	<title>イーサネットもしくはケーブル / DSL モデムでの接続</title>

	<para>イーサネットのネットワークに接続する場合、
	  もしくはケーブル / DSL モデムでインターネットに接続する場合は、
	  次の情報が必要になります:</para>

	<orderedlist>
	  <listitem>
	    <para>IP アドレス。</para>
	  </listitem>

	  <listitem>
	    <para>デフォルトゲートウェイの IP アドレス。</para>
	  </listitem>

	  <listitem>
	    <para>ホスト名。</para>
	  </listitem>

	  <listitem>
	    <para>DNS サーバの IP アドレス。</para>
	  </listitem>
	</orderedlist>

	<para>これらの情報がわからない場合、
	  システム管理者かプロバイダに問い合わせて下さい。
	  問い合わせると、<firstterm>DHCP</firstterm>
	  を使用して自動的に割り当てていると言われるかもしれません。その場合は
	  DHCP を使用しているということを書き留めておいて下さい。</para>
      </sect3>

      <sect3>
	<title>モデムを使用した接続</title>

	<para>非常に長い時間がかかりますが、
	  通常のモデムを使用したダイアルアップで ISP に接続している場合でも、
	  インターネット経由で FreeBSD をインストールすることができます。</para>

	<para>この場合、以下の内容をあらかじめ確認しておく必要があります:</para>

	<orderedlist>
	  <listitem>
	    <para>ISP にダイアルする際の電話番号。</para>
	  </listitem>

	  <listitem>
	    <para>接続に使用する COM: ポート。</para>
	  </listitem>

	  <listitem>
	    <para>ISP のアカウントのユーザ名及びパスワード。</para>
	  </listitem>
	</orderedlist>
      </sect3>
    </sect2>
    <sect2>
      <title>FreeBSD Errata の確認</title>
      
      <para>FreeBSD プロジェクトでは FreeBSD
	の各リリースができる限り安定するよう努力していますが、
	時々バグが発生してしまうことがあります。極まれに、
	発生したバグによりインストールプロセスに影響を与えることがあります。
	これらの問題は発見され解決されるとともに、FreeBSD Errata に追加され、
	FreeBSD のウェブサイトに掲示されます。
	注意すべき既知の問題が無いことを確かめるために、インストールする前に
	Errata を確認するべきです。</para>

      <para>Errata を含む、すべてのリリースに関する情報は、
	<ulink
	url="../../../../index.html">FreeBSD のウェブサイト</ulink>の
	<ulink
	url="../../../../releases/index.html">リリース情報</ulink>の項で確認することができます。</para>
    </sect2>

    <sect2>
      <title>FreeBSD インストールファイルの入手</title>

      <para>FreeBSD のインストールプロセスでは、
	以下のいずれかの場所に置いてあるファイルから FreeBSD
	をインストールします。</para>

      <itemizedlist>
	<title>ローカルメディア</title>
	
	<listitem>
	  <para>CDROM</para>
	</listitem>

	<listitem>
	  <para>同じコンピュータ上の DOS パーティション</para>
	</listitem>

	<listitem>
	  <para>テープ</para>
	</listitem>

	<listitem>
	  <para>フロッピーディスク</para>
	</listitem>
      </itemizedlist>

      <itemizedlist>
	<title>ネットワーク</title>

	<listitem>
	  <para>FTP サイト (必要に応じてファイアウォールを経由、
	    または HTTP プロキシを利用)</para>
	</listitem>

	<listitem>
	  <para>NFS サーバ</para>
	</listitem>

	<listitem>
	  <para>パラレルまたはシリアル専用接続</para>
	</listitem>
      </itemizedlist>

      <para>FreeBSD を CD または DVD で購入しているのであれば、
	必要なものはすべてそろっているので、次の節
	(<link linkend="install-floppies">ブートメディアの準備</link>)
	を読み飛ばしてください。</para>

      <para>FreeBSD のインストールファイルをまだ持っていないのであれば、
	<xref linkend="install-diff-media"> まで読み飛ばしてください。
	FreeBSD
	を上で示した場所からインストールするための準備について説明しています。
	このセクションを読み終わった後、ここに戻ってきて、
	<xref linkend="install-floppies"> を読んでください。</para>
    </sect2>

    <sect2 id="install-floppies">
      <title>ブートメディアの準備</title>
      
      <para>FreeBSD のインストールプロセスは、FreeBSD
	インストーラでコンピュータを起動することから始まります&mdash;インストーラは、
	別のオペレーティングシステムで実行するプログラムではありません。
	通常、コンピュータはハードディスクにインストールされたオペレーティングシステムから起動しますが、
	<quote>起動可能な</quote>
	フロッピーディスクから起動するように設定することもできます。
	また、CDROM ドライブのディスクからも起動できます。</para>

      <tip>
	<para>FreeBSD の CDROM または DVD を (購入したり、自分自身で準備をして)
	  持っており、
	  あなたのコンピュータで CDROM 及び DVD からの起動が可能である場合
	  (通常 <quote>Boot Order</quote> または類似の BIOS
	  オプションを指定します)、この節を飛ばしてください。
	  FreeBSD の CDROM と DVD イメージは起動可能であり、
	  他の特別な準備をすることなく FreeBSD
	  のインストールで利用できます。</para>
      </tip>
    
      <para>起動フロッピーディスクを作成するためには、
	次のステップに従って下さい:</para>

      <procedure>
	<step>
	  <title>起動フロッピーイメージの取得</title>
	  
	  <para>起動ディスクは、インストールメディアの <filename>floppies</filename>
	    ディレクトリから入手することができますし、また FTP サイトの <ulink
	    url="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/&rel.current;-RELEASE/floppies/">
	    floppies ディレクトリ</ulink>から i386 アーキテクチャ用を、<ulink
	    url="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/alpha/&rel.current;-RELEASE/floppies/">floppies ディレクトリ</ulink> から Alpha アーキテクチャ用を
	    ダウンロードすることもできます。</para>

	  <para>フロッピーイメージは <filename>.flp</filename>
	    という拡張子がついています。<filename>floppies/</filename>
	    ディレクトリには複数の異なるイメージがあり、インストールする
	    FreeBSD のバージョンによって、
	    また場合によってはインストールするハードウェアによって、
	    使い分ける必要があります。多くの場合は、
	    <filename>kern.flp</filename> と <filename>mfsroot.flp</filename>
	    の 2つのファイルを使用しますが、確実な情報については
	    同じディレクトリにある <filename>README.TXT</filename>
	    で確認して下さい。</para>

	  <important>
	    <para>FTP プログラムを使用してこれらのディスクイメージをダウンロードする時は、
	      必ず<emphasis>バイナリモード</emphasis>にして下さい。
	      Web ブラウザによっては<emphasis>テキスト</emphasis>
	      (または<emphasis>アスキー</emphasis>)
	      モードでダウンロードしてしまうものがあり、
	      ディスクから起動できないときは大抵これが原因です。</para>
	  </important>
	</step>

	<step>
	  <title>フロッピーディスクの用意</title>
	  
	  <para>ダウンロードするイメージファイル 1 つにつき
	    1 枚のフロッピーディスクを用意する必要があります。
	    これらのディスクに欠陥があってはいけません。
	    これを確認する最も簡単な方法は、
	    自分自身でフォーマットしてみることです。
	    フォーマットする前のフロッピーを信用してはいけません。</para>
	  
	  <important>
	    <para>FreeBSD をインストールしようとした時に、
	      インストールプログラムがクラッシュしたりフリーズしたり、
	      おかしな動作をした時、
	      まずはじめに疑うべきもののうちの 1 つはフロッピーです。
	      フロッピーイメージを他のディスクに書き込んで、
	      もう一度試してみて下さい。</para>
	  </important>
	</step>

	<step>
	  <title>フロッピーディスクへイメージファイルを書き込む。</title>

	  <para><filename>.flp</filename> ファイルは、
	    いつも行われているようにディスクにコピーされるような、
	    通常のファイルでは<emphasis>ありません</emphasis>。
	    そうではなく、ディスクの完全な内容のイメージです。
	    したがってファイルを書き込むのに、DOS の <command>copy</command>
	    のようなコマンドを利用することは<emphasis>できません</emphasis>。
	    そのかわりに、
	    イメージを直接ディスクに書き込む特別なツールを使用する必要があります。</para>

	  <indexterm><primary>DOS</primary></indexterm>
	  <para>DOS/Windows
	    が動作しているコンピュータでフロッピーを作成する場合は、
	    私たちが用意した <command>fdimage</command>
	    というツールを使用することができます。</para>

	  <para>CDROM に入っている フロッピーイメージを使おうとしており、
	    この時 CDROM が <devicename>E:</devicename> ドライブであった場合、
	    次のように実行します:</para>

	  <screen><prompt>E:\&gt;</prompt> <userinput>tools\fdimage floppies\kern.flp A:</userinput></screen>

	  <para>毎回フロッピーディスクを入れ換え、
	    ディスクにコピーしたファイルの名前を示すラベルを付けながら、
	    それぞれの <filename>.flp</filename>
	    ファイルに対してこのコマンドを繰り返します。
	    <filename>.flp</filename> ファイルを置いた場所に応じて、
	    コマンドラインを変更して下さい。
	    CDROM を持っていない場合、<command>fdimage</command> は FreeBSD の
	    FTP サイトの <ulink
	    url="ftp://ftp.FreeBSD.org/pub/FreeBSD/tools/"><filename>tools</filename>
	    ディレクトリ</ulink>からダウンロードすることができます。</para>
	  
	  <para>(別の FreeBSD システムのような) UNIX
	    システム上でフロッピーへの書き込みを行う場合は、
	    イメージファイルを直接ディスクに書き込むために &man.dd.1;
	    コマンドを使うことができます。FreeBSD 上では、
	    次のように実行します:</para>
	  
	  <screen>&prompt.root; <userinput>dd if=kern.flp of=/dev/fd0</userinput></screen>

	  <para>FreeBSD においては、<filename>/dev/fd0</filename> が
	    1 台目のフロッピーディスクドライブ (<devicename>A:</devicename>
	    ドライブ) を表します。同様に <filename>/dev/fd1</filename>
	    は <devicename>B:</devicename> ドライブを表します。
	    他の UNIX の変形では、
	    フロッピーディスクデバイスには別の名前がついているかもしれないので、
	    必要に応じてそのシステムのドキュメントを確認して下さい。</para>
	</step>
      </procedure>

      <para>これで FreeBSD をインストールする用意ができました。</para>
    </sect2>
  </sect1>

  <sect1 id="install-start">
    <title>インストールの開始</title>

    <important>
      <para>デフォルトでは、次のメッセージが表示されるまで
	インストーラはディスクに何の変更も加えません。</para>

      <literallayout class="monospaced">Last Chance: Are you SURE you want continue the installation?

If you're running this on a disk with data you wish to save then WE
STRONGLY ENCOURAGE YOU TO MAKE PROPER BACKUPS before proceeding!

We can take no responsibility for lost disk contents!</literallayout>

      <para>この最後の警告の前であれば、
	いつでもハードディスクの内容を変更することなくインストールを中断できます。
	もし、何かを間違って設定してしまったことが心配ならば、
	最後の警告の前に単にコンピュータをオフにしてください。
	被害を残さずに済みます。</para>
    </important>

    <sect2 id="install-starting">
      <title>起動</title>

      <sect3 id="install-starting-i386">
	<title>i386 アーキテクチャでの起動</title>

      <procedure>
	<step>
	  <para>まず、コンピュータの電源を切ります。</para>
	</step>

	<step>
	  <para>コンピュータの電源をいれます。
	    起動が始まると、すぐにシステムまたは BIOS
	    のセットアップメニューに入るためのオプションが表示されるはずです。
	    一般的には <keycap>F2</keycap>, <keycap>F10</keycap>,
	    <keycap>Del</keycap> のようなキーまたは
	    <keycombo action="simul">
	      <keycap>Alt</keycap>
	      <keycap>S</keycap>
	    </keycombo> のようなキーの組合せです。
	    画面上に示されるキーを使用してください。場合によっては、
	    起動すると画像を表示するコンピュータがあるかもしれません。
	    大抵の場合、<keycap>Esc</keycap> キーを押すと、
	    画像が消えて必要なメッセージを見ることができます。</para>
	</step>

	<step>
	  <para>どの装置からシステムが起動するかを制御する設定を探してください。
	    一般的には、<literal>Floppy</literal>, <literal>CDROM</literal>,
	    <literal>First Hard Disk</literal>
	    などの装置の一覧として表示されています。</para>

	  <para>フロッピーから起動する場合には
	    フロッピーディスクドライブが選択されていることを、
	    CDROM から起動するなら
	    CDROM ドライブが選択されていることを確認してください。
	    自信が無い場合は、
	    コンピュータやマザーボードのマニュアルを参照してください。</para>

	  <para>変更を保存して終了してください。
	    コンピュータが再起動するはずです。</para>
	</step>

	<step>
	  <para><xref linkend="install-floppies">
	    で説明されている起動フロッピーを使用する場合には、
	    その中の一枚が初期起動ディスクとなります。
	    おそらく <filename>kern.flp</filename> の内容を含むディスクです。
	    フロッピードライブにそのディスクを挿入してください。</para>

	  <para>CDROM から起動する場合、コンピュータを立ち上げ、
	    すぐに CDROM を挿入する必要があります。</para>

	  <para>もし、コンピュータがすでに存在している OS を読み込み、
	    通常通り起動してしまったのであれば、
	    以下の原因が考えられます。</para>

	  <orderedlist>
	    <listitem>
	      <para>起動ディスクが起動プロセスにおいて十分早いタイミングで挿入されていません。
		ディスクをそのままにしてコンピュータを再起動してください。</para>
	    </listitem>

	    <listitem>
	      <para>先程の BIOS の変更が適切に行われていません。
		正しいオプションを設定してやり直してください。</para>
	    </listitem>
	</orderedlist>
	</step>

	<step>
	  <para>FreeBSD は起動を開始します。CDROM から起動している場合、
	    次のような画面が表示されるでしょう (バージョン情報は省略しています)。</para>

	  <screen>Verifying DMI Pool Data ........
Boot from ATAPI CD-ROM :
 1. FD 2.88MB  System Type-(00)
Uncompressing ... done

BTX loader 1.00 BTX version is 1.01
Console: internal video/keyboard
BIOS drive A: is disk0
BIOS drive B: is disk1
BIOS drive C: is disk2
BIOS drive C: is disk3
BIOS 639kB/261120kB available memory

FreeBSD/i386 bootstrap loader, Revision 0.8

/kernel text=0x277391 data=0x3268c+0x332a8 |

|
Hit [Enter] to boot immediately, or any other key for command prompt.
Booting [kernel] in 9 seconds... _</screen>

	  <para>フロッピーディスクから起動している場合、
	    次のような画面が現れるでしょう (バージョン情報は省略しています)。</para>

	  <screen>Verifying DMI Pool Data ........ 

BTX loader 1.00  BTX version is 1.01 
Console: internal video/keyboard 
BIOS drive A: is disk0 
BIOS drive C: is disk1 
BIOS 639kB/261120kB available memory 

FreeBSD/i386 bootstrap loader, Revision 0.8 

/kernel text=0x277391 data=0x3268c+0x332a8 |

Please insert MFS root floppy and press enter:</screen>

	  <para>上記の説明にしたがって、
	    <filename>kern.flp</filename> ディスクを抜き、
	    <filename>mfsroot.flp</filename> ディスクを挿入し、
	    <keycap>Enter</keycap> を押してください。</para>
	</step>

	<step>
	  <para>フロッピーまたは CDROM のどちらから起動しても、
	    起動プロセスは次の地点に到達します。</para>

	  <screen>Hit [Enter] to boot immediately, or any other key for command prompt. 
Booting [kernel] in 9 seconds... _</screen>

	  <para>10 秒間待つか、<keycap>Enter</keycap> を押すと
	    カーネル構成メニューが起動するでしょう。</para>
	</step>
      </procedure>

      </sect3>
      <sect3>
	<title>Alpha アーキテクチャでの起動</title>

	<indexterm><primary>Alpha</primary></indexterm>

      <procedure>
	<step>
	  <para>まず、コンピュータの電源を切ります。</para>
	</step>

	<step>
	  <para>コンピュータの電源をいれ、ブートモニタプロンプトを待ちます。</para>
	</step>

	<step>
	  <para><xref linkend="install-floppies">
	    で説明されている起動フロッピーを使用する場合には、
	    その中の一枚が初期起動ディスクとなります。
	    おそらく <filename>kern.flp</filename> の内容を含むディスクです。
	    フロッピードライブにそのディスクを挿入し、
	    次のコマンドを入力して起動してください
	    (必要であればフロッピードライブ名を置き換えてください)。</para>

	  <screen>&gt;&gt;&gt;<userinput>BOOT DVA0 -FLAGS '' -FILE ''</userinput></screen>

	  <para>CDROM から起動する場合には、CDROM をドライブに挿入して、
	     次のコマンドを入力し、インストールを開始してください。
	     (必要であれば適切な CDROM ドライブ名を指定してください)。</para>

	  <screen>&gt;&gt;&gt;<userinput>BOOT DKA0 -FLAGS '' -FILE ''</userinput></screen>
	</step>

	<step>
	  <para>FreeBSD は起動を開始します。
	    フロッピーディスクから起動している場合、
	    ある時点で次のメッセージが現れるでしょう。</para>

	  <screen>Please insert MFS root floppy and press enter:</screen>

	  <para>上記の説明にしたがって、
	    <filename>kern.flp</filename> ディスクを抜き、
	    <filename>mfsroot.flp</filename> ディスクを挿入し、
	    <keycap>Enter</keycap> を押してください。</para>
	</step>

	<step>
	  <para>フロッピーまたは CDROM のどちらから起動しても、
	    起動プロセスは次の地点に到達します。</para>

	  <screen>Hit [Enter] to boot immediately, or any other key for command prompt. 
Booting [kernel] in 9 seconds... _</screen>

	  <para>10 秒間待つか、<keycap>Enter</keycap> を押すと
	    カーネル構成メニューが起動するでしょう。</para>
	</step>
      </procedure>

      </sect3>

    </sect2>

    <sect2 id="start-userconfig">
      <title>カーネルコンフィグレーション</title>

      <para><firstterm>カーネル</firstterm> は、
	オペレーティングシステムの中核をなすものです。
	使用しているシステムのすべてのデバイス
 	(ハードディスク、ネットワークカード、サウンドカードなど)
	へのアクセスを含むさまざまなことを担っています。
	FreeBSD カーネルが対応しているそれぞれのハードウェアには、
	対応するドライバが存在します。
	SCSI シーケンシャルアクセスドライバには
	<devicename>sa</devicename>、シリアル I/O ドライバ
	 (COM ポートを管理) には <devicename>sio</devicename> 
	といったように、
	それぞれのドライバは 2 または 3 文字の名前を持っています。</para>

      <para>カーネルが起動すると、
	それぞれのドライバはシステム上に対応するハードウェアが存在するかどうかを確認します。
	ハードウェアが検出された場合には、ドライバはハードウェアを初期化し、
	カーネルが利用できるようにします。</para>

      <para>この検出作業は一般に <firstterm>デバイス検出</firstterm> と呼ばれます。
	残念ながら、この作業は必ずしも間違いなく行われるとは限りません。
	いくつかのハードウェアドライバは、うまく共存することができません。
	片方のハードウェアが検出されることで、
	他のハードウェアが整合性のない状態になる可能性があります。
	これは PC の設計の基本的な制限から来ています。</para>

      <para>古いデバイスの多くは (PCI デバイスと対照的な)
	ISA デバイスと呼ばれるものです。
	ISA の仕様では、いくつかの情報
	(一般的には、ドライバが利用する Interrupt Request ライン数 (IRQ) や
	IO ポートアドレス)
	はデバイスにハードコーディングされている必要があります。
	通常これらの情報は、カードの <firstterm>ジャンパ</firstterm>
	で物理的に、または
	DOS ベースのユーティリティによって設定を行います。</para>

      <para>ふたつのデバイスが同じ IRQ やポートアドレスを共有できないので、
	このことは、しばしば問題の原因となります。</para>

      <para>PCI の仕様に準拠する新しいデバイスは、
	BISO と協調し、どの IRQ や IO ポートアドレスを利用すべきかという情報を得るので、
	設定の必要はありません。</para>

      <para>使用するコンピュータで ISA デバイスが使われているのであれば、
	そのデバイスに対する FreeBSD のドライバの
	IRQ および、ポートアドレスを、
	カードに設定された値に設定する必要があります。
	そのため、使用するハードウェアの部品一覧
	(<xref linkend="install-inventory"> 参照)
	が役にたつでしょう。</para>

      <para>残念ながらいくつかのドライバのデフォルトの IRQ、メモリポートは衝突します。
	いくつかの ISA デバイスは出荷時に IRQ またはメモリポートが衝突しているためです。
	FreeBSD ドライバのデフォルトは、
	製造業者のデフォルトを反映するように慎重に設定されているので、
	そのままの状態で多くのデバイスは動作するでしょう。</para>

      <para>このことは、日々 FreeBSD を使っている時には、
	ほとんど問題にはならないでしょう。
	使用しているコンピュータは、(使っているオペレーティングシステムに関わりなく)
	衝突するハードウェアを含んでいた場合、どちらかは動作しないため、
	通常衝突するような 2 つのハードウェアを含んではいないでしょう。</para>

      <para>FreeBSD を最初にインストールするときには、
	インストール作業を実行するカーネルが、
	さまざまなハードウェアコンフィグレーションに対応できるよう、
	できるだけ多くのドライバを含んでいるので問題が起きる可能性があります。
	このことは、これらのドライバのいくつかは衝突しうる設定であることを意味しています。
	デバイスは順番に検出され、もし使用しているデバイスが後で検出され、
	最初に検出されたものと衝突した場合には、使用しているハードウェアは
	FreeBSD のインストール時に機能しない、
	もしくは適切に検出されないかもしれません。</para>

      <para>そのため、FreeBSD のインストール時には、
	カーネルに設定してあるドライバのリストを確認し、
	必要のないデバイスを無効にしたり、
	使用しているデバイスのデフォルトの設定が適切でない場合には、
	ドライバの設定を確定
	(そして変更) する機会が用意されています。</para>

      <para>複雑に感じたかもしれませんが、実際はもう少し簡単です。</para>

      <para><xref linkend="kernel-config"> は、
	カーネルコンフィグレーションメニューの初期画面です。
	<guimenuitem>Start kernel configuration in full-screen visual
	  mode</guimenuitem> を選択することをお薦めします。
	このモードが最も簡単なインタフェースを提供しているので、
	新しいユーザに向いています。</para>

      <figure id="kernel-config">
	<title>カーネルコンフィグレーションメニュー</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/userconfig" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>カーネルコンフィグレーション画面 (<xref linkend="fig-userconfig">)
	は、4 つのセクションから構成されます。</para>

      <orderedlist>
	<listitem>
	  <para>すべてのドライバについて、<quote>active</quote>
	    と認識された一覧。
	    <literal>Storage</literal> や <literal>Network</literal>
	    のようにグループに分けられ、ドライバは折りたたまれています。
	    それぞれのドライバの説明、2 または 3 文字のドライバ名、
	    ドライバが使用している IRQ およびメモリポートが表示されています。
	    さらに、active ドライバが他のドライバと衝突している場合には、
	    ドライバ名の隣に <literal>CONF</literal> が示されています。
	    このセクションでは active なドライバのうち、
	    衝突しているドライバの数も表示されています。</para>
	</listitem>

	<listitem>
	  <para>inactive と認識されたドライバ。
	    カーネルには存在しますが、
	    カーネル起動時に対応するデバイスが検出されなかったドライバです。
	    active ドライバリスト同様にグループに分けられています。</para>
	</listitem>

	<listitem>
	  <para>現在選択されているドライバに関して、
	    IRQ およびメモリポートアドレスなどの詳細な情報。</para>
	</listitem>

	<listitem>
	  <para>その時点で有効なキーストロークについての情報</para>
	</listitem>
      </orderedlist>

      <figure id="fig-userconfig">
	<title>カーネルデバイスコンフィグレーションビジュアルインタフェース</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/userconfig2" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>この時点では衝突しているドライバが表示されているでしょう。
	このことは予想されているので心配しないでください。
	すべてのドライバが有効になっており、
	すでに説明したように、それらのうちのいくつかはお互いに衝突するでしょう。</para>

      <para>このドライバのリストから衝突を解決する作業を行ってください。</para>

      <procedure>
	<title>ドライバの衝突の解決</title>

	<step>
	  <para><keycap>X</keycap> を押すと、ドライバの完全な一覧が表示されるので、
	    すべてを見ることができます。
	    矢印キーを利用して、アクティブなドライバのリストをスクロールしたりスクロールバックできます。</para>

	  <para><keycap>X</keycap> を押すと
	    <xref linkend="hardware-conflicts"> が表示されます。</para>

	  <figure id="hardware-conflicts">
	    <title>拡大されたドライバのリスト</title>

	    <mediaobject>
	      <imageobject>
		<imagedata fileref="install/hdwrconf" format="PNG">
	      </imageobject>
	    </mediaobject>
	  </figure>
	</step>

	<step>
	  <para>使用していないデバイスのドライバをすべて無効にしてください。
	    無効にするには、まず矢印キーを使いドライバをハイライトで表示されるようにし、
	    その後 <keycap>Del</keycap> を押します。
	    ドライバは <literal>Inactive Drivers</literal> リストに移動します。</para>

	  <para>間違って必要なデバイスを無効にしてしまった場合には、
	    <keycap>Tab</keycap> を押して
	    <literal>Inactive Drivers</literal> リストに移動します。
	    無効にしたドライバを選択して、
	    <keycap>Enter</keycap> を押すと、アクティブリストに戻ります。</para>

	  <important>
	    <para><devicename>sc0</devicename> を無効にはしないでください。
	      このドライバはスクリーンをコントロールするので、
	      シリアルケーブルを使ってインストールするのでなければ、
	      このドライバは必要となります。</para>
	  </important>

	  <important>
	    <para>USB キーボードを利用している時のみ、
	      <devicename>atkbd0</devicename> を無効にしてください。
	      もし、通常のキーボードを使っているのであれば、
	      <devicename>atkbd0</devicename>
	      は有効にしたままにしておく必要があります。</para>
	  </important>
	</step>

	<step>
	  <para>衝突がなければ、このステップを飛ばすことが出来ます。
	    さもなければ、残っている衝突を解決する必要があります。
	    メッセージ領域に <quote>allowed conflict</quote> が示されていない場合には、
	    デバイス検出の IRQ、アドレスを変更する
	    <emphasis>もしくは</emphasis> ハードウェア上で
	    IRQ、アドレスを変更する必要があることを示しています。</para>

	  <para>デバイスを選択し <keycap>Enter</keycap> を押して、
	    ドライバの IRQ および IO ポートアドレスの設定を変更してください。
	    カーソルは画面の3番目のセクションに移動します。
	    そこで値を変更することができます。
	    ハードウェアの部品一覧を作成した時に調べた
	    IRQ およびポートアドレスの値を入力してください。
	    <keycap>Q</keycap> を押してデバイスの設定の編集を終え、
	    active ドライバ一覧に戻ってください。</para>
	  
	  <para>デバイスに設定すべき値に確信がない場合は <literal>-1</literal>
	    を使うことが出来ます。
	    いくつかの FreeBSD ドライバは、
	    ハードウェアを適切に検出し、設定すべき値を得ることができます。
	    この値を利用するには、<literal>-1</literal> の値で設定してください。</para>

	  <para>ハードウェアのアドレスを変更する手続きは、デバイスごとに異なります。
	    いくつかのデバイスは、使用しているコンピュータから物理的にカードを外し、
	    ジャンパや DIP スイッチで調整して設定します。
	    別のカードには、カードを再設定するために必要なプログラムを含む
	    DOS フロッピが付属しています。
	    どのような場合でも、デバイスに付属しているドキュメントに従ってください。
	    このように設定を行った場合には、
	    必然的にコンピュータを再起動する必要があるので、
	    再びブートから FreeBSD のインストール作業を行ってください。</para>
	</step>

	<step>
	  <para>すべての衝突が解決されると、画面の表示は
	    <xref linkend="userconfig-done"> のようになっているでしょう。</para>

	  <figure id="userconfig-done">
	    <title>衝突が解決した後のドライバの設定</title>

	    <mediaobject>
	      <imageobject>
		<imagedata fileref="install/probstart" format="PNG">
	      </imageobject>
	    </mediaobject>
	  </figure>

	  <para>見て分かるように、
	    システムに実際に存在するハードウェアのドライバだけが表示されているので、
	    アクティブなドライバの一覧は小さくなりました。</para>
	  
	  <para>ここでこれらの変更を保存し、
	    インストールの次のステップに進むことができます。
	    <keycap>Q</keycap> を押して、
	    デバイス設定インタフェースを終了してください。
	    次のメッセージが表示されます。</para>

	  <screen>Save these parameters before exiting? ([Y]es/[N]o/[C]ancel)</screen>

	  <para><keycap>Y</keycap> と答えると、
	    パラメータが保存されデバイス検出が開始します。
	    検出結果が黒地に白文字で表示された後、
	    <application>Sysinstall</application> が開始し、
	    メインメニュー (<xref linkend="sysinstall-main">)
	    が表示されます。</para>

	  <figure id="sysinstall-main">
	    <title>Sysinstall メインメニュー</title>
	    
	    <mediaobject>
	      <imageobject>
		<imagedata fileref="install/main1" format="PNG">
	      </imageobject>
	    </mediaobject>
	  </figure>
	</step>
      </procedure>
    </sect2>
    <sect2 id="view-probe">
      <title>デバイス検出結果を再表示する</title>
 
      <para>画面に表示される数百行の文字列は（バッファに）記憶されており、
	再表示することが出来ます。</para>

      <para>バッファを再表示するには、<keycap>Scroll Lock</keycap> キーを押します。
	これで、画面をスクロールできます。結果を見るためには、矢印キーもしくは
	<keycap>PageUp</keycap> か <keycap>PageDown</keycap> を使います。
	<keycap>Scroll Lock</keycap> をもう一度押すと、スクロールを停止します。</para>

      <para>直ちにこの作業を行って、カーネルがデバイス検出を実行している時に
	画面の外に流れた文字列を再表示してください。
	<xref linkend="install-dev-probe"> によく似た画面が現われるでしょうが、
	あなたのコンピュータに搭載されているデバイスによって、表示される文字列は異なるでしょう。</para>
 
      <figure id="install-dev-probe">
	<title>古典的なデバイス検出結果の例</title>

	<screen>avail memory = 253050880 (247120K bytes) 
Preloaded elf kernel "kernel" at 0xc0817000.
Preloaded mfs_root "/mfsroot" at 0xc0817084.
md0: Preloaded image &lt;/mfsroot&gt; 4423680 bytes at 0xc03ddcd4

md1: Malloc disk
Using $PIR table, 4 entries at 0xc00fde60
npx0: &lt;math processor&gt; on motherboard   
npx0: INT 16 interface   
pcib0: &lt;Host to PCI bridge&gt; on motherboard
pci0: &lt;PCI bus&gt; on pcib0
pcib1:&lt;VIA 82C598MVP (Apollo MVP3) PCI-PCI (AGP) bridge&gt; at device 1.0 on pci0
pci1: &lt;PCI bus&gt; on pcib1
pci1: &lt;Matrox MGA G200 AGP graphics accelereator&gt; at 0.0 irq 11
isab0: &lt;VIA 82C586 PCI-ISA bridge&gt; at device 7.0 on pci0
isa0: &lt;iSA bus&gt; on isab0
atapci0: &lt;VIA 82C586 ATA33 controller&gt; port 0xe000-0xe00f at device 7.1 on pci0
ata0: at 0x1f0 irq 14 on atapci0
ata1: at 0x170 irq 15 on atapci0
uhci0 &lt;VIA 83C572 USB controller&gt; port 0xe400-0xe41f irq 10 at device 7.2 on pci
0
usb0: &lt;VIA 83572 USB controller&gt; on uhci0
usb0: USB revision 1.0
uhub0: VIA UHCI root hub, class 9/0, rev 1.00/1.00, addr1
uhub0: 2 ports with 2 removable, self powered
pci0: &lt;unknown card&gt; (vendor=0x1106, dev=0x3040) at 7.3
dc0: &lt;ADMtek AN985 10/100BaseTX&gt; port 0xe800-0xe8ff mem 0xdb000000-0xeb0003ff ir
q 11 at device 8.0 on pci0
dc0: Ethernet address: 00:04:5a:74:6b:b5
miibus0: &lt;MII bus&gt; on dc0
ukphy0: &lt;Generic IEEE 802.3u media interface&gt; on miibus0
ukphy0: 10baseT, 10baseT-FDX, 100baseTX, 100baseTX-FDX, auto
ed0: &lt;NE2000 PCI Ethernet (RealTek 8029)&gt; port 0xec00-0xec1f irq 9 at device 10.
0 on pci0
ed0 address 52:54:05:de:73:1b, type NE2000 (16 bit)
isa0: too many dependant configs (8)
isa0: unexpected small tag 14
orm0: &lt;Option ROM&gt; at iomem 0xc0000-0xc7fff on isa0
fdc0: &lt;NEC 72065B or clone&gt; at port 0x3f0-0x3f5,0x3f7 irq 6 drq2 on isa0
fdc0: FIFO enabled, 8 bytes threshold
fd0: &lt;1440-KB 3.5" drive&gt; on fdc0 drive 0
atkbdc0: &lt;Keyboard controller (i8042)&gt; at port 0x60,0x64 on isa0
atkbd0: &lt;AT Keyboard&gt; flags 0x1 irq1 on atkbdc0
kbd0 at atkbd0
psm0: &lt;PS/2 Mouse&gt; irq 12 on atkbdc0
psm0: model Generic PS/@ mouse, device ID 0
vga0: &lt;Generic ISA VGA&gt; at port 0x3c0-0x3df iomem 0xa0000-0xbffff on isa0
sc0: &lt;System console&gt; at flags 0x100 on isa0
sc0: VGA &lt;16 virtual consoles, flags=0x300&gt;
sio0 at port 0x3f8-0x3ff irq 4 flags 0x10 on isa0
sio0: type 16550A
sio1 at port 0x2f8-0x2ff irq 3 on isa0
sio1: type 16550A
ppc0: &lt;Parallel port&gt; at port 0x378-0x37f irq 7 on isa0
pppc0: SMC-like chipset (ECP/EPP/PS2/NIBBLE) in COMPATIBLE mode
ppc0: FIFO with 16/16/15 bytes threshold
plip0: &lt;PLIP network interfce&gt; on ppbus0
ad0: 8063MB &lt;IBM-DHEA-38451&gt; [16383/16/63] at ata0-master UDMA33
acd0: CD-RW &lt;LITE-ON LTR-1210B&gt; at ata1-slave PIO4
Mounting root from ufs:/dev/md0c
/stand/sysinstall running as init on vty0</screen>
      </figure>

     <para>丹念に検出結果をチェックして、あなたが予期したすべてのデバイスを
	 FreeBSD が検出できた事を確認してください。デバイスが見つからなかった場合、
	検出結果へ表示されません。もしも、デバイスドライバへIRQやI/Oポートアドレスを
	設定する必要がある場合、設定が正しいか確認する必要があります。</para>

      <para>もし、UserConfig でデバイス検出の設定を変更する必要がある場合は、
	<application>sysinstall</application> を再起動して設定をやり直してください。
	おそらく、それが一番なじみやすい方法です。</para>

      <figure id="sysinstall-exit">
	<title>Sysinstallの終了を選ぶ</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/sysinstall-exit" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>矢印キーを使って、メインメニューから <guimenuitem>Exit Install</guimenuitem>
	を選びます。ディスプレイには次のメッセージが表示されます:</para>

      <screen>                      User Confirmation Requested 
         Are you sure you wish to exit? The system will reboot 
           (be sure to remove any floppies from the drives).

                            [ Yes ]    No</screen>

      <screen>                      訳：ユーザ承認要求
	  システムを再起動します。終了してもよろしいですか? 
           (再起動前にドライブよりフロッピーを取り出してください。)</screen>

      <para>ドライブに CD-ROM を入れたまま
	<guibutton>[Yes]</guibutton> を選べば、
	インストールプログラムが再び起動します。</para>

      <para>フロッピーディスクから起動しているなら、
	再起動する前に <filename>mfsroot.flp</filename> フロッピーディスクを取り出し、
	<filename>kern.flp</filename> フロッピーディスクに入れ替えてください。</para>

    </sect2>
  </sect1>

  <sect1 id="using-sysinstall">
    <title>Sysinstall の紹介</title>

    <para><application>Sysinstall</application> は FreeBSD プロジェク
      トが提供するインストール用アプリケーションです。これは、コンソー
      ル上で動作し、インストールの設定や制御に使えるいくつものメニュー
      や画面に分かれています。</para>

    <para><application>Sysinstall</application> のメニューはカーソル
      キー、<keycap>Enter</keycap>, <keycap>Space</keycap> 等で操作し
      ます。キーの詳しい解説とその意味については
      <application>Sysinstall</application> の使用法に説明されています。</para>

    <para>この説明を読むには、<xref linkend="sysinstall-main3"> に示す
      ように、<guimenuitem>Usage</guimenuitem> の項目が強調表示されて
      いて、<guibutton>[Select]</guibutton> ボタンが選択されていること
      を確認して、<keycap>Enter</keycap> を押してください。</para>

    <para>メニューシステムの使い方が表示されます。読み終ったら、
      <keycap>Enter</keycap> を押してメインメニューに戻りましょう。</para>

    <figure id="sysinstall-main3">
      <title>Sysinstall のメインメニューから Usage を選択</title>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="install/main1" format="PNG">
	</imageobject>
      </mediaobject>
    </figure>

    <sect2 id="select-doc">
      <title>ドキュメントメニューの選択</title>

      <para>メインメニューから、カーソルキーで
	<guimenuitem>Doc</guimenuitem> を選択して 
	<keycap>Enter</keycap> を押してください。</para>

      <figure id="main-doc">
	<title>ドキュメントメニューの選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/main-doc" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>これでドキュメントメニューが表示されます。</para>

      <figure id="docmenu1">
	<title>Sysinstall ドキュメントメニュー</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/docmenu1" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>用意されたドキュメントを読むのは大切なことです。</para>

      <para>ドキュメントを読むには、カーソルキーで選択して 
	<keycap>Enter</keycap> を押してください。読み終えたら、
	<keycap>Enter</keycap> を押すとドキュメントメニューに戻ります。</para>

      <para>メインのインストールメニューに戻るには、カーソルキーで
	<guimenuitem>Exit</guimenuitem> を選択して、
	<keycap>Enter</keycap> を押してください。</para>
    </sect2>

    <sect2 id="keymap">
      <title>キー配列メニューの選択</title>

      <para>キーボード配列を変更するには、カーソルキーで
	<guimenuitem>Keymap</guimenuitem> を選択して、
	<keycap>Enter</keycap> を押してください。</para>

      <figure id="sysinstall-keymap">
	<title>Sysinstall メインメニュー</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/main-keymap" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>上下のカーソルキーでメニュー項目を選択して 
	<keycap>Space</keycap> を押せば異なるキーボード配列を選択でき
	ます。もう一度 <keycap>Space</keycap> を押すと、選択を解除しま
	す。完了したら、カーソルキーで &gui.ok; を選択して 
	<keycap>Enter</keycap> を押してください。</para>

      <para>このスクリーン表示では、リストの一部しか表示されていません。
	&gui.cancel; を選択すると、デフォルトのキーマップを使用して、
	メインインストールメニューに戻ります。</para>

      <figure id="sysinstall-keymap-menu">
	<title>Sysinstall キー配列メニュー</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/keymap" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

    </sect2>

    <sect2 id="viewsetoptions">
      <title>インストールオプション画面</title>

    <para><guimenuitem>Options</guimenuitem> を選択して、
      <keycap>Enter</keycap> を押してください。</para>

    <figure id="sysinstall-options">
      <title>Sysinstall メインメニュー</title>

      <mediaobject>
        <imageobject>
	  <imagedata fileref="install/main-options" format="PNG">
	</imageobject>
      </mediaobject>
    </figure>

      <figure id="options">
	<title>Sysinstall オプション</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/options" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>ほとんどのユーザーにはデフォルトの値でよく、変更する必要は
	ありません。リリース名は、インストールするバージョンによって変わります。</para>

      <para>選択された項目の説明が、画面の下部に青く強調表示されます。
	オプションの 1 つは <guimenuitem>Use Defaults</guimenuitem> とい
	う、すべての値を初期値に戻すものであることに気をつけてください。</para>

      <para><keycap>F1</keycap> を押すと、さまざまなオプションについて
	の説明を読むことができます。</para>

      <para><keycap>Q</keycap> を押すと、メインインストールメニューに
	戻ります。</para>
    </sect2>

    <sect2 id="start-install">
      <title>標準インストールの開始</title>

      <para>Unix や FreeBSD が初めての人には 
	<guimenuitem>Standard</guimenuitem> インストールがお奨めです。
	カーソルキーで <guimenuitem>Standard</guimenuitem> を選択して、
	<keycap>Enter</keycap> を押してインストールを始めてください。</para>

      <figure id="sysinstall-standard">
	<title>標準インストールの開始</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/main-std" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>
    </sect2>
  </sect1>
  <sect1 id="install-steps">
    <title>ディスク領域の割り当て</title>

    <para>最初の課題は、FreeBSD 用にディスク領域を割り当て、
      <application>Sysinstall</application> が使えるようにラベルを作成
      することです。そうするためには、FreeBSD が disk 上にどのような情
      報があることを前提としているか知らなければなりません。</para>

    <sect2 id="install-drive-bios-numbering">
      <title>BIOS ドライブの番号付け</title>

      <para>FreeBSD をインストールして設定する前に、特に複数のハードディ
	スクを持っているならば気をつけておかなければならない重要なこと
	があります。</para>

      <indexterm><primary>DOS</primary></indexterm>
      <indexterm><primary>Microsoft Windows</primary></indexterm>
      <para>MS-DOS や Microsoft Windows のような BIOS に依存したオペレー
	ティングシステムが動いている PC では、BIOS がディスクドライブ
	の順序を構成でき、OS はその変化に追従します。これにより、ユー
	ザはいわゆる<quote>プライマリーマスター</quote>以外のディスク
	から起動することができます。この仕組みを用いればシステムのバッ
	クアップを取る最も簡単で安価な方法を構築できます。もう一つ同じ
	ディスクを買い、Ghost や XCOPY を用いて一つ目のディスクから二
	つめのディスクへのコピーを定期的に取ればいいのです。そして、一
	つ目のディスクに障害が起きたり、ウィルスに感染したり、オペレー
	ティングシステムの不具合でめちゃくちゃにされてしまった時には、
	BIOS に対してドライブを論理的に交換するように指示することで簡
	単に復旧できるのです。この方法はドライブのケーブルを交換するの
	と同じようなことなのですが、ケースを開ける必要がありません。</para>

      <indexterm><primary>SCSI</primary></indexterm>
      <indexterm><primary>BIOS</primary></indexterm>
      <para>SCSI コントローラを備えたもっと高価なシステムでは、しばし
	ば BIOS に拡張が施されており、同じように 7 台までのドライブの
	順番を組み換えることができるようになっています。</para>

      <para>以上のような機能を便利に使っているユーザは、FreeBSD では同
	じような結果にならないことに驚くかもしれません。FreeBSD は 
	BIOS を利用しないため、<quote>論理 BIOS ドライブマッピング
	</quote>については知らないのです。このため、特にいくつかのドラ
	イブが同じジオメトリを持っている時に、そしてまたあるものをもう
	一つのクローンとして使っている時に非常にややこしい状況になり得
	ます。</para>

      <para>FreeBSD を使う時は、インストール前にドライブの番号付けが自
	然なものになるように、必ず BIOS の設定を忘れずに戻しておきましょ
	う。もしドライブの番号付けを変更する必要がある場合には、ケース
	を開けジャンパーやケーブルを移動するというハードウェア的なやり
	かたをとってください。</para>

      <sidebar>
	<title>Bill と Fred のイケイケ冒険記より</title>
      
	<para>Bill は Fred のためにもう一つ FreeBSD 箱を作ろうと古い
	  Wintel 箱を潰しました。Bill は ユニット番号 0 の SCSI ドライ
	  ブを一つ追加し、そこに FreeBSD を入れました。</para>

	<para>Fred はこのシステムを使い始めましたが、数日後その古い 
	  SCSI ドライブがたくさんのソフトエラーを吐いているのに気付き、
	  Bill に報告しました。</para>

	<para>さらに数日後、Bill はその問題に対処しようと決意し、倉庫
	  のディスクドライブアーカイブから同じ SCSI ドライブを取ってき
	  ました。まずドライブのサーフィススキャンを行なってみましたが
	  特に問題なかったため、Bill はこのドライブをユニット番号 4 と
	  して取り付け、ドライブ 0 からドライブ 4 へのイメージコピーを
	  行ないました。 新しいドライブがインストールされ、しかもうま
	  く動いているため、Bill はそれを使い始めてもいいだろうと思い
	  ました。そこで彼は SCSI BIOS の機能を使ってシステムがユニッ
	  ト 4 から起動するようにディスクドライブの順序を入れ換えまし
	  た。FreeBSD が起動し、調子良く動き始めました。</para>

	<para>Fred は数日作業を続けましたが、すぐに Bill と Fred は新
	  しい冒険に挑戦することにしました。新しいバージョンの FreeBSD
	  にアップグレードするのです。Bill は SCSI ユニット 0 のディス
	  クは当てにならないので取りはずし、<quote>アーカイブ</quote> から持ってきた別
	  の新しいドライブと交換しました。そして、新しいバージョンの
	  FreeBSD を、Fred の持っていた魔法のインターネット FTP フロッ
	  ピーを用いて新しい SCSI ユニット 0 にインストールしたのです。
	  インストールはうまくいきました。</para>

	<para>Fred は新しいバージョンの FreeBSD を数日使ってみ
	  て、技術部門でも使えるくらい十分に良いものだと確認しました。
	  古いバージョンから全ての作業をコピーする時が来たのです。そ
	  こで Fred は SCSI ユニット 4 (古い FreeBSD で行なっていた作
	  業の最新のものを置いてあるドライブです) をマウントしました。
	  ところが、Fred は SCSI ユニット 4 には自分の貴重な作業がなに
	  も残っていないことを発見して慌てふためきました。</para>

	<para>データはどこへ行ったのでしょう?</para>

	<para>Bill がオリジナルの SCSI ユニット 0 のイメージをユニット
	  4 にコピーした時、ユニット 4 は <quote>新クローン</quote> になりました。
	  Bill がユニット 4 から起動するように SCSI BIOS で順序の入れ
	  換えを行なった時、実はおバカなことにそう変更したと思い込んで
	  いただけなのです。FreeBSD は依然として SCSI ユニット 0 上で
	  動いていたのです。BIOS にこのような変更を行なっても Boot と
	  Loader のコードの一部もしくは全部は選択された BIOS ドライブ
	  から取得されるものの、処理が FreeBSD のカーネルドライバーに
	  引き渡された時から BIOS ドライブの順序は無視され、FreeBSD は
	  通常のドライブ番号順に移行するのです。さきほどの例では、シス
	  テムはオリジナルの SCSI ユニット 0 で動き続けており、Fred の
	  データは全て SCSI ユニット 4 ではなくそのディスクに残ってい
	  たのです。システムが SCSI ユニット 4 で動いているように見え
	  たのは単に人の期待からくる妄想だったのです。</para>

	<para>こういった現象を発見しても、データは全く失なわれても損な
	  われてもいないことを、喜んで伝えておきます。古い SCSI ユニッ
	  ト 0 はガラクタの山から見つけ出され、Fred が行なった作業は全
	  て彼のもとへ返ってきたのです (そして Bill は自分が 0 までは
	  数えられることを学んだのでした)。</para>

	<para>この例では SCSI ドライブが用いられましたが、その概念は
	  IDE ドライブにも同じように当てはまります。</para>
      </sidebar>
    </sect2>

    <sect2>
      <title>ディスク構成</title>

      <para>ファイルを見つけるために FreeBSD
	が使用する構成の一番小さな単位はファイル名です。
	ファイル名は、大文字と小文字を区別します。
	このことは
	<filename>readme.txt</filename> および <filename>README.TXT</filename>
	が異なる二つのファイルであることを意味します。
	FreeBSD はそのファイルがプログラム、または文書、
	あるいはその他の形式かどうかを決定するために拡張子を使用しません。</para>

      <para>ファイルはディレクトリ内に格納されます。
	ディレクトリはファイルを一つも含んでいないかもしれせんし、
	または数百のファイルを含んでいるかもしれません。
	ディレクトリはまた別のディレクトリを含むことができます。
	つまり、ディレクトリの階層構造を構築することができます。
	このことにより、データ構造がはるかに簡単になります。</para>

      <para>ファイルおよびディレクトリは、
	必要な他のディレクトリ名とスラッシュ (<literal>/</literal>) を後に続けて
	ファイル名またはディレクトリ名を与えることによって参照されます。
	
	<filename>foo</filename> ディレクトリがあって、その中に
	<filename>bar</filename> ディレクトリがあるとします。
	そして、その中に <filename>readme.txt</filename> があるとすると、
	ファイルへのフルネーム、または<firstterm>パス</firstterm>は
	<filename>foo/bar/readme.txt</filename> となります。</para>

      <para>ディレクトリおよびファイルはファイルシステム内に格納されます。
	どのファイルシステムは、そのファイルシステムのための
	<firstterm>ルートディレクトリ</firstterm> とよばれる、
	まさに頂点の位置にちょうど一つのディレクトリを含んでいます。
	このルートディレクトリは他のディレクトリを含むことができます。</para>

      <para>これまでのところ、これはあなたの使ったことのある他の OS
	とおそらく似ているかもしれません。少し違いがあります。
	たとえば、DOS ではファイル名とディレクトリ名を分けるのに
	<literal>\</literal> を使います。
	一方、MacOS では <literal>:</literal> を使います。</para>

      <para>FreeBSD はパス内にドライブレターまたは他のドライブ名を使いません。
	あなたは FreeBSD で <filename>c:/foo/bar/readme.txt</filename>
	とは書かないでしょう。</para>

      <para>その代わり、一つのファイルシステムは
	<firstterm>ルートファイルシステム</firstterm>として設計されています。
	ルートファイルシステムのルートディレクトリは <literal>/</literal>
	として参照されます。それから、他のすべてのファイルシステムは、
	ルートファイルシステム以下に <firstterm>マウント</firstterm>
	されます。
	あなたが FreeBSD システムでどんなに多くのディスクを使用しても、
	すべてのディレクトリは、
	同じディスクの一部であるように見えるので問題ありません。</para>

      <para><literal>A</literal>,<literal>B</literal> および
	<literal>C</literal>
	と呼ばれる三つのファイルシステムがあると仮定しましょう。
	それぞれのファイルファイルシステムには一つのルートディレクトリがあり、
	<literal>A1</literal>, <literal>A2</literal>
	と呼ばれている二つの他のディレクトリを含んでいます
	(同様に	<literal>B1</literal>, <literal>B2</literal> および
	<literal>C1</literal>, <literal>C2</literal> があります)。</para>

      <para><literal>A</literal> をルートファイルシステムとします。
	このディレクトリになにが含まれているか見るために
	<command>ls</command> コマンドを使うと、
	<literal>A1</literal> および <literal>A2</literal>
	の二つのサブディレクトリが現れるでしょう。
	ディレクトリツリーは以下のようになります。</para>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="install/example-dir1" format="EPS">
	</imageobject>

	<textobject>
	  <literallayout class="monospaced"> /
 |
 +--- A1
 |
 `--- A2</literallayout>
	</textobject>
      </mediaobject>

      <para>ファイルシステムはファイルシステム内のディレクトリにマウントしなければいけません。
	それでは、<literal>A1</literal> ディレクトリに
	<literal>B</literal> ファイルシステムをマウントすると仮定します。
	<literal>B</literal> のルートディレクトリは <literal>A1</literal>
	に置き換えられ、
	そして <literal>B</literal> 内のディレクトリがそれに応じて現れます。</para>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="install/example-dir2" format="EPS">
	</imageobject>

	<textobject>
	  <literallayout class="monospaced"> /
 | 
 +--- A1
 |     |
 |     +--- B1
 |     |
 |     `--- B2
 |
 `--- A2</literallayout>
	</textobject>
      </mediaobject>

      <para><literal>B1</literal> または <literal>B2</literal>
	内にあるどんなファイルも、必要なときに
	<filename>/A1/B1</filename> または <filename>/A1/B2</filename>
	で到達できます。
	<filename>/A1</filename>
	にあったすべてのファイルは一時的に隠されました。
	それらは <literal>B</literal> が
	A から<firstterm>アンマウント</firstterm>されたら再び現れるでしょう。</para>

      <para>もし <literal>B</literal> が <literal>A2</literal>
	にマウントされていたら、この図のようになります。</para>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="install/example-dir3" format="EPS">
	</imageobject>

	<textobject>
	  <literallayout class="monospaced"> /
 |
 +--- A1
 |
 `--- A2
       |
       +--- B1
       |
       `--- B2</literallayout>
	</textobject>
      </mediaobject>

      <para>そして、パスはそれぞれ <filename>/A2/B1</filename> および
	<filename>/A2/B2</filename> となるでしょう。</para>

      <para>ファイルシステムは互いのファイルシステム上にもマウントできます。
	上記の最後の例に続けて、<literal>C</literal> ファイルシステム は
	<literal>B</literal> ファイルシステム内の <literal>B1</literal>
	ディレクトリ上にマウントできます。
	次の図のようになります。</para>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="install/example-dir4" format="EPS">
	</imageobject>
	
	<textobject>
	  <literallayout class="monospaced"> /
 |
 +--- A1
 |
 `--- A2
       |
       +--- B1
       |     |
       |     +--- C1
       |     |
       |     `--- C2
       |
       `--- B2</literallayout>
	</textobject>
      </mediaobject>

      <para>または <literal>C</literal> は <literal>A1</literal> の下の
	<literal>A</literal> ファイルシステムに直接マウントできます。</para>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="install/example-dir5" format="EPS">
	</imageobject>

	<textobject>
	  <literallayout class="monospaced"> /
 |
 +--- A1
 |     |
 |     +--- C1
 |     |
 |     `--- C2
 |
 `--- A2
       |
       +--- B1
       |
       `--- B2</literallayout>
	</textobject>
      </mediaobject>

      <para>もしあなたが DOS を使いなれているなら、
	まったく同じではありませんが、これは <command>join</command> コマンドと
	似ています。</para>

      <para>これは、通常あなた自身が心配する必要のあるものではありません。
	一般的に、FreeBSD をインストールするときにファイルシステムを作成し、
	どこにマウントするか決定します。そして、
	新しいディスクを追加しなければそれらを変更することはありません。</para>

      <para>一つの大きなファイルシステムを用意し、
	他のファイルシステムを作成する必要としないことはまったくもって可能です。
	この方法にはいくつかの短所と一つの利点があります。</para>

      <itemizedlist>
	<title>マルチファイルシステムの利点</title>
      
	<listitem>
	  <para>異なったファイルシステムは異なった
	    <firstterm>マウントオプション</firstterm> を使用できます。
	    たとえば、注意深い考えなのですが、
	    ルートファイルシステムを読みだし専用でマウントして、
	    不注意によって重大なファイルを削除、
	    または編集できないようににすることができます。
	</listitem>

	<listitem>
	  <para>FreeBSD はファイルシステムがどのように使われているかによって、
	    自動的にファイルシステム上のファイルの配置を最適化します。
	    したがって、連続的に書き込まれた多くの小さなファイルが含まれているファイルシステムは、
	    より大きく少ないファイルが含まれているファイルシステムと異なる最適化をするでしょう。
	    一つの大きなファイルシステムを作成すると、
	    この最適化は成り立たなくなります。</para>
	</listitem>
	
	<listitem>
	  <para>FreeBSD のファイルシステムはトラブルが起きてもとても強固です。
	    しかしながら臨界点でのトラブルは、
	    ファイルシステムの構造にまだ損害を与えるかもしれません。
	    マルチファイルシステムへデータを分割しておくことで、
	    必要なときにバックアップからレストアすることをより容易にして、
	    まだシステムが回復するかもしれません。</para>
	</listitem>
      </itemizedlist>

      <itemizedlist>
	<title>シングルファイルシステムの利点</title>

	<listitem>
	  <para>ファイルシステムは固定サイズです。
	    FreeBSD をインストールするときにファイルシステムを作成して、
	    固定サイズを割りあてたなら、
	    後になってそのパーティションをより大きくする必要があると気づくかもしれません。
	    これはバックアップ、サイズを指定したファイルシステムの再作成、
	    リストアをしないで実行することは簡単ではありません。</para>

	  <important>
	    <para>FreeBSD&nbsp;4.4 以降のバージョンには、
	      この制限を取り除いて、
	      ファイルシステムのファイルを直ちに増加させることを可能にする
	      &man.growfs.8; という特徴的なコマンドがあります。</para>
	  </important>
	</listitem>
      </itemizedlist>
    
      <para>ファイルシステムはパーティション内に含まれています。
	FreeBSD の Unix 遺産のために、
	これはこの章内に現れた先のパーティションという用語の意味とは違う意味を持っています。
	それぞれのパーティションは <literal>a</literal> から
	<literal>h</literal> までの文字で区別されます。
	それぞれのパーティションは、
	一つのファイルシステムだけを含むことができます。
	このことは、ファイルシステムが
	ルートマウントシステム上の典型的なマウントポイント、
	または含まれているパーティションの文字によって記述されることを意味します。</para>

      <para>FreeBSD は <firstterm>スワップ領域</firstterm>
	にもまたディスク領域を使用します。
	スワップ領域は FreeBSD に <firstterm>仮想メモリ</firstterm>
	を提供します。
	これはあなたのコンピュータが、
	実際に搭載している以上のメモリがあるかのように振舞います。
	FreeBSD がメモリを使い果たしたときに、
	現在使用されていないデータのいくつかをスワップ領域に移動し、
	そのデータが必要となったときに 
	(その他のデータをスワップ領域に移動させてから) 
	メモリ内に移動しなおします。</para>

      <para>いくつかのパーティションはある慣習と関係づけられています。</para>

      <informaltable frame="none">
	<tgroup cols="2">
	  <thead>
	    <row>
	      <entry>パーティション</entry>

	      <entry>慣習</entry>
	    </row>
	  </thead>

	  <tbody>
	    <row>
	      <entry><literal>a</literal></entry>

	      <entry>通常、ルートパーティションを含みます。</entry>
	    </row>

	    <row>
	      <entry><literal>b</literal></entry>

	      <entry>通常、スワップ領域を含みます。</entry>
	    </row>

	    <row>
	      <entry><literal>c</literal></entry>

	      <entry>通常、スライス全体と同じサイズです。
		これは、スライス全体にアクセス必要のあるユーティリティ
		(たとえば、ひどいブロックスキャナ) が、
		<literal>c</literal> 
		パーティションにアクセスすることを可能にします。通常、
		このパーティション内にファイルシステムを作成しないでしょう。</entry>
	    </row>

	    <row>
	      <entry><literal>d</literal></entry>

	      <entry><literal>d</literal> パーティションは、
		それに関連づけられた特別な意味を持っていましたが、
		今はありません。
		現在では、いくつかのツールが <literal>d</literal> 
		パーティション上で動作するように命じれば、
		奇妙に動くかもしれません。
		したがって、<application>Sysinstall</application> は通常
		<literal>d</literal> パーティションを作成しないでしょう。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para>ファイルシステムを含んだそれぞれのパーティションは、FreeBSD
	が <firstterm>スライス</firstterm> と呼ぶものの中に格納されます。
	スライスは FreeBSD の用語で、
	先ほどパーティションを呼ばれていたものです。
	もう一度言及しますが、これは FreeBSD の Unix 背景によるものです。
	スライスは 1 から 4 までの番号がつけられます。</para>

	<indexterm><primary>スライス</primary></indexterm>
	<indexterm><primary>パーティション</primary></indexterm>
	<indexterm><primary>危険な専用</primary></indexterm>

      <para>スライス番号は 1 から始まり
	<literal>s</literal> を前につけられて、デバイス名の後に続きます。
	したがって、<quote>da0<emphasis>s1</emphasis></quote>
	は一番目の SCSI ドライブ上の 一番目のスライスです。
	ディスク上に四つの物理スライスだけが存在できます。しかし、
	適切な種類の物理スライス内に論理スライスをもつことができます。
	これらの拡張されたスライス番号は 5 から始まります。したがって、
	<quote>ad0<emphasis>s5</emphasis></quote> 
	はディスク上の一番目の拡張スライスです。
	これらのデバイスは、
	スライスを占有することを予期するファイルシステムによって使用されます。</para> 

      <para>スライスや <quote>危険な専用</quote> の物理ドライブ、
	そして他のドライブは <literal>a</literal> から <literal>h</literal>
	までの文字として表される <firstterm>パーティション</firstterm>
	を含んでいます。
	この文字はデバイス名に追加されます。したがって、
	<quote>da0<emphasis>a</emphasis></quote> 
	は一番目の <quote>危険な専用</quote> da ドライブ上の
	a パーティションです。
	<quote>ad1s3<emphasis>e</emphasis></quote> は、
	二番目の IDE ディスク上の 三番目のスライス内にある五番目のパーティションです。</para>
	
      <para>最後に、システム上のそれぞれのディスクは識別されます。
	ディスク名はどの種類のディスクであるかを示す記号ではじまり、
	どのディスクかを示す数字が続きます。
	スライスとは違いディスクの番号づけは 0 から始まります。
	共通の記号は <xref linkend="install-dev-codes">
	に示されます。</para>

      <para>パーティションを参照するときには、
	FreeBSD はパーティションを含むスライスおよびパーティションも指定することを必要とします。
	そしてスライスを参照するときはディスク名も参照しないといけないでしょう。
	このことは、ディスク名、<literal>s</literal> 、スライス番号、
	そしてパーティション文字を並べることによってできます。
	<xref linkend="install-disk-slice-part">に例があります。</para>

      <para><xref linkend="install-concept-disk-model"> 
	は理解をより明らかにすることを助けるための、
	ディスク構成の概念のモデルを示します。</para>

      <para>FreeBSD をインストールするために、
	まずはじめにディスクスライスの設定をし、
	次に FreeBSD に用いるスライス内のパーティションを作成し、
	それからそれぞれのパーティション内にファイルシステム
	(またはスワップ領域) を作成し、
	ファイルシステムがどこに舞うとされるか決定しなければいけません。</para>

      <table frame="none" id="install-dev-codes">
	<title>ディスクデバイス記号</title>

	<tgroup cols="2">
	  <thead>
	    <row>
	      <entry>記号</entry>
	    
	      <entry>意味</entry>
	    </row>
	  </thead>

	  <tbody>
	    <row>
	      <entry><devicename>ad</devicename></entry>

	      <entry>ATAPI (IDE) ディスク</entry>
	    </row>

	    <row>
	      <entry><devicename>da</devicename></entry>
	      
	      <entry>SCSI ダイレクトアクセスディスク</entry>
	    </row>
	    
	    <row>
	      <entry><devicename>acd</devicename></entry>
	      
	      <entry>ATAPI (IDE) CDROM</entry>
	    </row>
	    
	    <row>
	      <entry><devicename>cd</devicename></entry>
	      
	      <entry>SCSI CDROM</entry>
	    </row>
	    
	    <row>
	      <entry><devicename>fd</devicename></entry>
	      
	      <entry>フロッピーディスク</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>
      
      <example id="install-disk-slice-part">
	<title>ディスク名、スライス名、パーティション名のサンプル</title>
	
	<informaltable frame="none">
	  <tgroup cols="2">
	    <thead>
	      <row>
		<entry>Name</entry>
		
		<entry>Meaning</entry>
	      </row>
	    </thead>
	    
	    <tbody>
	      <row>
		<entry><literal>ad0s1a</literal></entry>
		
		<entry>一番目の IDE ディスク (<literal>ad0</literal>)
		  上の一番目のスライス (<literal>s1</literal>) 
		  内の一番目のパーティション (<literal>a</literal>)。</entry>
	      </row>

	      <row>
		<entry><literal>da1s2e</literal></entry>
		
		<entry>二番目の SCSI ディスク (<literal>da1</literal>)
		  上の二番目のスライス (<literal>s2</literal>)
		  内の五番目のパーティション (<literal>e</literal>)。</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>
      </example>

      <example id="install-concept-disk-model">
	<title>ディスクの概念的構成</title>

	<para>これはシステムに接続された一番目の IDE 
	  ディスクの FreeBSD から見た図を示します。
	  ディスクサイズは 4&nbsp;GB と仮定し、
	  2&nbsp;GB のスライス (DOSでいうパーティション) が二つあるとします。
	  一番目のスライスは DOS ディスクの <devicename>C:</devicename>
	  を含んでいます。
	  そして、二番目のスライスは FreeBSD のディスクを含んでいます。
	  これは FreeBSD インストーラが三つのパーティションと一つのスワップパーティションを作成した例です。</para>

	<para>三つのパーティションはそれぞれファイルシステムを含んでいます。
	  <literal>a</literal> 
	  パーティションはルートファイルシステムに使用され、
	  <literal>e</literal> パーティションは <filename>/var</filename>
	  ディレクトリ階層に、 <literal>f</literal> パーティションは
	  <filename>/usr</filename> ディレクトリ階層に使用されるでしょう。</para>

        <mediaobject>
          <imageobject>
            <imagedata fileref="install/disk-layout" format="EPS">
          </imageobject>
 
          <textobject>
	    <literallayout class="monospaced">.-----------------.  --.
|                 |    |
|  DOS / Windows  |    |
:                 :     >  First slice, ad0s1
:                 :    |
|                 |    |
:=================:  ==:                               --.
|                 |    |  Partition a, mounted as /      |
|                 |     > referred to as ad0s2a          |
|                 |    |                                 |
:-----------------:  ==:                                 |
|                 |    |  Partition b, used as swap      |
|                 |     > referred to as ad0s2b          |
|                 |    |                                 |
:-----------------:  ==:                                 |  Partition c, no
|                 |    |  Partition e, used as /var       > filesystem, all 
|                 |     > referred to as ad0s2e          |  of FreeBSD slice,
|                 |    |                                 |  ad0s2c
:-----------------:  ==:                                 |
|                 |    |                                 |
:                 :    |  Partition f, used as /usr      |
:                 :     > referred to as ad0s2f          |
:                 :    |                                 |
|                 |    |                                 |
|                 |  --'                                 |
`-----------------'                                    --'</literallayout>
          </textobject>
        </mediaobject>
      </example>
    </sect2>
    <sect2 id="main-fdisk">
      <title>fdisk でスライス作成</title>

      <note>
	<para>この段階でなにも変更を加えないとしても、
	  そのことはディスクに書きこまれるでしょう。
	  もし間違いをしたと考えてもう一度やり直したいのなら、
	  メニューを使って <application>sysinstall</application>
	  を終了してやり直すことができます。
	  なにをすればいいか分からなくなって、終了する方法が分からないときは、
	  いつでもコンピュータを切ることができます。</para>
      </note>

      <para><application>sysinstall</application>
	メインメニューでスタンダードインストールを選択したあとには、
	次のメッセージが表示されるでしょう。</para>

      <screen>                                 Message
 In the next menu, you will need to set up a DOS-style ("fdisk")
 partitioning scheme for your hard disk. If you simply wish to devote
 all disk space to FreeBSD (overwriting anything else that might be on
 the disk(s) selected) then use the (A)ll command to select the default
 partitioning scheme followed by a (Q)uit. If you wish to allocate only
 free space to FreeBSD, move to a partition marked "unused" and use the
 (C)reate command. 
                                [  OK  ] 

                      [ Press enter or space ]</screen>

      <para>指示されたとおり <keycap>Enter</keycap> を押してください。
	次に、デバイスの走査を実行したときにカーネルが見付けた、
	すべてのハードドライブのリストが表示されるでしょう。
	<xref linkend="sysinstall-fdisk-drive1"> は
	IDE ディスクを二つもつシステムの例です。
	これらは
	<devicename>ad0</devicename> および
	<devicename>ad2</devicename> と名付けられています。</para>

      <figure id="sysinstall-fdisk-drive1">
	<title>fdisk を実行するディスクの選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/fdisk-drive1" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>なぜ <devicename>ad1</devicename>
	がここに表示されないか不思議に思うかもしれません。
	なぜ忘れられたのか?</para>

      <para>IDE ハードディスクを一つ目はプライマリ
	IDE コントローラのマスタとして、
	二つ目はセカンダリ IDE コントローラのマスタとして二つ接続している場合、
	なにが起こるか考えてください。
	もし FreeBSD がこれらを <devicename>ad0</devicename> と
	<devicename>ad1</devicename> のように、
	見付けた順番で番号をつけたとしてもすべては動作するでしょう。</para>

      <para>しかし、その後プライマリ IDE コントローラのスレーブとして
	三つ目のディスクを追加したとしたら、
	それはたった今 <devicename>ad1</devicename> となり、
	以前の <devicename>ad1</devicename> は
	<devicename>ad2</devicename> となるでしょう。
	デバイス名 (<devicename>ad1s1a</devicename> のような) 
	はファイルシステムを見つけるのに使われるので、
	ファイルシステムのいくつかは突然正しく現れなくなるかもしれず、
	FreeBSD の設定を変更する必要があるでしょう。</para>
      
      <para>これを解決するために、ディスクが見つかった順番ではなく、
	どこに接続されているかということに基づいて
	IDE ディスクを名前づけするようにカーネルを設定できます。
	この機構によって、セカンダリ IDE コントローラのマスタディスクは、
	たとえ <devicename>ad0</devicename> または <devicename>ad1</devicename>
	デバイスがないとしても<emphasis>いつでも</emphasis>
	<devicename>ad2</devicename> になるでしょう。</para>

      <para>この設定は FreeBSD カーネルの標準設定です。
	これがこの画面で <devicename>ad0</devicename> および
	<devicename>ad2</devicename> を表示する理由です。
	このスクリーンショットが得られたマシンには、
	IDE コントローラの両方のマスタチャネルにディスクがあり、
	スレーブチャネルにはありません。</para>

      <para>FreeBSD をインストールしたいディスクを選択して、
	&gui.ok; を押してください。
	<xref linkend="sysinstall-fdisk1"> のような表示とともに
	<application>fdisk</application> が起動するでしょう。</para>

      <para><application>fdisk</application> 
	の画面は三つのセクションに分かれます。</para>

      <para>一つ目のセクションは、これは表示の先頭二行にわたっているのですが、
	現在選択されているディスクの詳細を表示します。
	ディスクの詳細には FreeBSD でのデバイス名、ディスクのジオメトリ、
	そしてディスクの全容量が含まれます。</para>

      <para>二つ目のセクションは現在ディスク上にあるスライスを表示します。
	スライスの開始セクタと終了セクタ、大きさ、FreeBSD 上での名前、
	種類とサブタイプが表示されます。
	この例では、PC 上のディスクレイアウト機能が生み出した、
	未使用の小さなスライスを二つ表示しています。
	また大きな FAT スライスも一つ表示しています。これはほとんどの場合、
	DOS または Windows において <devicename>C:</devicename> ドライブ
	および他のドライブ名の拡張スライスとして現れます。</para>

      <para>三つ目のセクションは <application>fdisk</application>
      において利用可能なコマンドを表示します。</para>

      <figure id="sysinstall-fdisk1">
	<title>編集する前の典型的な fdisk 構成</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/fdisk-edit1" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>今から行うことは、
	あなたがどのようにディスクを分割したいかによります。</para>

      <para>FreeBSD をディスク全体で使いたいなら、
	<guimenuitem>Use Entire Disk</guimenuitem> オプションを表す
	<keycap>A</keycap> キーを押すことができます。
	このことは <application>sysinstall</application> 
	がインストールプロセスの残りを続けることにあなたが同意したとき、
	このディスクのすべてのデータを削除するでしょう。
	存在しているスライスは取り除かれ、
	<literal>unused</literal> の小さな領域
	(PCディスクレイアウト機能の副産物) と、
	FreeBSD のための大きなスライスへ置きかわるでしょう。
	これを行ったら、次に方向キーを使って新しく作成された
	FreeBSD スライスを選択し、スライスに起動可能の印をつけるために
	<keycap>S</keycap> キーを押してください。
	そのとき、画面の見た目は <xref linkend="sysinstall-fdisk2">
	とよく似たものとなるでしょう。
	<literal>Flags</literal> 列の <literal>A</literal> に注意してください。
	これはこのスライスが <emphasis>アクティブ</emphasis> で、
	ここから起動することを示します。</para>

      <para>FreeBSD のための空き領域を作成するために、
	存在しているスライスを削除しようとしているのなら、
	方向キーをつかってスライスを選択して
	<keycap>D</keycap> キーを押してください。
	それから <keycap>C</keycap> キーを押すと、
	作成したいスライスの大きさの入力を促されます。
	適切な数字を入力して <keycap>Enter</keycap> キーを押してください。</para>
      
      <para>FreeBSD のための空き領域を既に作成しているなら
	(おそらく <application>Partition Magic</application>
	などのツールを利用したのでしょう) 、
	そのときは <keycap>C</keycap>
	キーを押して新しいスライスを作成できます。
	再び、作成したいスライスの大きさの入力を促されるでしょう。</para>

      <figure id="sysinstall-fdisk2">
	<title>ディスク全体を使う fdisk 構成</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/fdisk-edit2" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>終了したら <keycap>Q</keycap> キーを押します。
	あなたの変更は <application>sysinstall</application>
	内に保存されるでしょう。
	しかし、まだディスクには書きこまれません。</para>
    </sect2>
    <sect2 id="bootmgr">
      <title>ブートマネージャのインストール</title>

      <para>ブートマネージャをインストールするかどうか考えましょう。一般的に、次の場合は
	FreeBSD ブートマネージャをインストールするべきです。</para>

      <itemizedlist>
	<listitem>
	  <para>二つ以上のドライブがあり、
	    一番目のドライブ以外に FreeBSD をインストールした場合</para>
	</listitem>

	<listitem>
	  <para>FreeBSD を同じディスク内に他の OS と共存させてインストールしており、
	    コンピュータを起動する際に FreeBSD か他の OS かを選択したい場合</para>
	</listitem>
      </itemizedlist>

      <para>選択をして <keycap>Enter</keycap> キーを押してください。</para>

      <figure id="sysinstall-bootmgr">
	<title>sysinstall ブートマネージャメニュー</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/boot-mgr" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para><keycap>F1</keycap> キーを押すと表示されるヘルプ画面では、
	ハードディスクを
	OS 間で共有する場合に起こり得る問題について議論しています。</para>
    </sect2>
    <sect2>
      <title>他のドライブのスライスの作成</title>

      <para>二つ以上ドライブがある場合、
	ブートマネージャを選択した後、ドライブ選択画面に戻ります。
	FreeBSD を二つ以上のディスクにインストールしたいのなら、
	そのときはここで他のディスクを選択し、
	<application>fdisk</application>
	を用いてスライス作成の作業を繰りかえすことができます。</para>

      <figure id="sysinstall-fdisk-drive2">
	<title>ドライブ選択の終了</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/fdisk-drive2" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para><keycap>Tab</keycap> キーを押すことで、
	最後に選択したドライブと
	&gui.ok; および &gui.cancel; の間を切りかえられます。</para>

      <para>&gui.ok; に移るために <keycap>Tab</keycap> キーを一度押し、
	それからインストールを続けるために 
	<keycap>Enter</keycap> キーを押してください。</para>
    </sect2>
    <sect2 id="disklabeleditor">
      <title><application>disklabel</application> でパーティション作成</title>
      
      <para>さて、作成したばかりのスライス内にパーティションをいくつか作成しなければなりません。
	それぞれのパーティションには
	<literal>a</literal> から <literal>h</literal> までの文字がつけられ、
	<literal>b</literal>, <literal>c</literal> そして
	<literal>d</literal> 
	パーティションは守るべき慣習的な意味を持っていることを忘れないでください。</para>

      <para>特定のアプリケーションは、特別のパーティション構成
	(特に二つ以上のディスクにわたってパーティションを構成している場合)
	から利益を得ることができます。
	しかしこのことについては、はじめて FreeBSD をインストールする場合、
	ディスクをどのようにパーティションに区切るか、
	ということをあまり大げさに考えることはありません。
	FreeBSD をインストールして使い方を学びはじめることの方がより重要です。
	OS により詳しくなったときに、パーティション構成を変更するために
	FreeBSD をいつでも再インストールできます。</para>

      <para>以下は四つのパーティション &mdash; 一つはスワップ領域、
	三つはファイルシステム、の構成です。</para>

      <table frame="none">
	<title>一つ目のディスクのパーティションレイアウト</title>
	<tgroup cols="4">
	  <thead>
	    <row>
	      <entry>パーティション</entry>
	      
	      <entry>ファイルシステム</entry>

	      <entry>サイズ</entry>

	      <entry>説明</entry>
	    </row>
	  </thead>

	  <tbody>
	    <row>
	      <entry><literal>a</literal></entry>

	      <entry><filename>/</filename></entry>

	      <entry>100&nbsp;MB</entry>

	      <entry>これはルートファイルシステムです。
		他のファイルシステムはすべてこの下のどこかにマウントされるでしょう。
		100&nbsp;MB はこのファイルシステムに手ごろなサイズです。
		通常の FreeBSD インストールがここに約 40&nbsp;MB
		のデータを配置するように、
		ここにはあまり多くのデータを格納しないでしょう。
		残りの領域は一時的なデータのためにあり、そして
		FreeBSD の将来のバージョンが <filename>/</filename>
		により多くの領域を必要とした場合の拡張領域として残します。
	      </entry>
	    </row>

	    <row>
	      <entry><literal>b</literal></entry>

	      <entry>なし</entry>

	      <entry>メモリの 2-3 倍</entry>

	      <entry><para>このパーティションには、
		  システムのスワップ領域が保持されています。
		  スワップ領域の正しい容量を決めることは、
		  ちょっとした芸術かもしれません。
		  確実な経験則は、物理的なメモリ (RAM) の
		  2-3 倍のサイズのスワップ領域とするように、としています。
		  また、最低 64&nbsp;MB のスワップを確保するといいでしょう。
		  したがって、あなたのコンピュータが
		  32&nbsp;MB 未満のメモリを搭載している時は、
		  スワップ領域を 64&nbsp;MB にしてください。</para><para>二つ以上のディスクがあるときには、
		  それぞれのディスクにスワップを置くことができます。
		  FreeBSD はそれぞれのディスクをスワップに用い、
		  スワップ動作を効果的に高速化させるでしょう。
		  この場合、必要とするスワップサイズの合計を計算し
		  (たとえば 128&nbsp;MB)、
		  それぞれのディスクに置くスワップサイズを求めるために、
		  あなたの持っているディスク数 (たとえば二つ) で割ってください。
		  この例の場合は、
		  一つのディスクごとに 64&nbsp;MB のスワップとなります。</para></entry>
	    </row>

	    <row>
	      <entry><literal>e</literal></entry>

	      <entry><filename>/var</filename></entry>

	      <entry>50&nbsp;MB</entry>

	      <entry><filename>/var</filename>
		ディレクトリにはさまざまなサイズのファイルが含まれます。
		ログファイルやその他の管理ファイルです。
		これらのファイルの多くは
		FreeBSD の毎日の動作の間に広範囲にわたって読みこまれ、
		書きこまれます。 (訳注: <filename>/</filename>とは)
		別のファイルシステムにこれらのファイルを置くことは、
		異なったアクセス頻度のディレクトリ内にある他のファイルに影響を与えずに、
		FreeBSD がこれらのファイルへのアクセスを最適化することを可能とします。</entry>
	    </row>

	    <row>
	      <entry><literal>f</literal></entry>

	      <entry><filename>/usr</filename></entry>

	      <entry>ディスクの残り</entry>

	      <entry>他のすべてのファイルは、主に <filename>/usr</filename>
		およびそのサブディレクトリ内に保存されます。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>
      
      <para>二つ以上のディスクに FreeBSD をインストールしようとしているのなら、
	設定した他のスライスにもパーティションを作成しないといけません。
	最も簡単な方法は、
	それぞれのディスクに二つのパーティションを作成することです。
	一つはスワップ領域、
	そして一つはファイルシステムのためのパーティションです。</para>

      <table frame="none">
	<title>残りのディスクのパーティション構成</title>

	<tgroup cols="4">
	  <thead>
	    <row>
	      <entry>パーティション</entry>
	      
	      <entry>ファイルシステム</entry>

	      <entry>サイズ</entry>

	      <entry>説明</entry>
	    </row>
	  </thead>

	  <tbody>
	    <row>
	      <entry><literal>b</literal></entry>

	      <entry>なし</entry>

	      <entry>説明を参照</entry>

	      <entry>すでに議論したように、
		スワップ領域をそれぞれのディスクにわたって分割できます。
		たとえ <literal>a</literal> パーティションが
		(訳注: そのスライスに) ないとしても、
		慣習により、スワップ領域は
		<literal>b</literal> パーティションとなります。</entry>
	    </row>

	    <row>
	      <entry><literal>e</literal></entry>

	      <entry>/disk<replaceable>n</replaceable></entry>

	      <entry>ディスクの残り</entry>

	      <entry>ディスクの残りは一つの大きなパーティションとなります。
		これは <literal>e</literal> パーティションの代わりに、
		<literal>a</literal>
		パーティション上へ簡単に置くことができるかもしれません。
		しかしながら慣習により、スライス上の <literal>a</literal>
		パーティションはルート (<filename>/</filename>)
		ファイルシステムとなるファイルシステムのために予約されています。
		あなたはこの慣習にしたがう必要はありませんが
		<application>sysinstall</application> が代わりにやってくれます。
		したがってこのことにより、
		インストールが少しだけより簡単になります。
		このファイルシステムをマウントする場所をどこでも選択できます。
		この例では、これらを
		<filename>/disk<replaceable>n</replaceable></filename>
		ディレクトリとしてマウントするよう提案しています。
		<replaceable>n</replaceable>
		はそれぞれのディスクごとに変更する数字です。
		しかしあなたが望むなら他の構成を使用できます。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <para>パーティション構成を決定したら、
	今から <application>sysinstall</application> を用いて作成できます。
	このメッセージが現れるでしょう。</para>

      <screen>                                 Message
 Now, you need to create BSD partitions inside of the fdisk
 partition(s) just created. If you have a reasonable amount of disk
 space (200MB or more) and don't have any special requirements, simply
 use the (A)uto command to allocate space automatically. If you have
 more specific needs or just don't care for the layout chosen by
 (A)uto, press F1 for more information on manual layout.  

                                [  OK  ]
                          [ Press enter or space ]</screen>

      <para><application>disklabel</application> と呼ばれる
	FreeBSD パーティションエディタをはじめるために
	<keycap>Enter</keycap> キーを押してください。</para>

      <para><xref linkend="sysinstall-label"> は
	<application>disklabel</application>
	をはじめて起動したときの画面表示です。
	この画面は三つのセクションに分かれています。
</para>

      <para>はじめの数行は現在作業しているディスクの名前、
	そして作成しようとしているパーティションを含むスライスを表示します
	(この時点で <application>disklabel</application> 
	はスライスのことをスライス名ではなく<literal>パーティション名</literal>と呼びます) 。
	この画面はスライス内の空き領域の合計も表示しています。
	この空き領域はスライス内に存在していて、
	しかしまだパーティションに割り当てられていない領域です。</para>

      <para>画面の中段は作成したパーティションを表示しています。
	それぞれのパーティションが含むファイルシステムの名前、サイズ、
	ファイルシステム作成にまつわるいくつかのオプションが表示されます。</para>

      <para>画面の下段にある三つ目のセクションは
	<application>disklabel</application>
	で有効なキー操作を表示します。</para>

      <figure id="sysinstall-label">
	<title>sysinstall ディスクラベルエディタ</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/disklabel-ed1" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para><application>disklabel</application> 
	は自動的にパーティションを作成し、
	デフォルトのサイズを割りあてることができます。
	<keycap>A</keycap> キーを押して、今試してください。
	<xref linkend="sysinstall-label2"> とよく似た画面となるでしょう。
	あなたが使用しているディスクのサイズに依存しているので、
	デフォルトは希望しているものになるかもしれませんし、
	ならないかもしれません。
	デフォルトをそのまま受け入れる必要はないので、
	このことは問題になりません。</para>

      <note>
	<para>FreeBSD&nbsp;4.5 からのデフォルトのパーティション構成は
	  <filename>/tmp</filename> ディレクトリに
	  <filename>/</filename> パーティションの一部ではなく、
	  それ自身のパーティションを割り当てます。
	  このことは、一時ファイルによって <filename>/</filename>
	  パーティションがあふれてしまうことを防ぐのに役立ちます。</para>
      </note>

      <figure id="sysinstall-label2">
	<title>デフォルトの自動割り当てによる sysinstall ディスクラベルエディタ</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/disklabel-auto" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>提案されたパーティションを削除して、
	あなた自身のパーティション構成に置き換えるには、
	方向キーを用いて、一番目のパーティションを選択し、
	削除するために <keycap>D</keycap> キーを押してください。
	提案されたすべてのパーティションを削除するために、
	これを繰り返してください。</para>

      <para>一番目のパーティション (<filename>/</filename> としてマウントされる
	<literal>a</literal> パーティション) を作成するには、
	画面の先頭のディスク情報が選択されていることを確認して、
	<keycap>C</keycap> キーを押してください。
	新しいパーティションのサイズの入力をうながすダイアログが現れるでしょう
	(<xref linkend="sysinstall-label-add">)。
	使用したいサイズをブロックの数で入力できます。
	またはより使いやすいように、
	メガバイト 単位で指定する <literal>M</literal> 、
	ギガバイト 単位で指定する <literal>G</literal> 、
	シリンダ 単位で指定する <literal>C</literal> 
	を数の後につけて入力できます。</para>

      <figure id="sysinstall-label-add">
	<title>ルートパーティションに割りあてる容量</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/disklabel-root1" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>(訳注: ダイアログに) 表示されるデフォルトのサイズは、
	スライスに残っているサイズのパーティションを作成するでしょう。
	上述したパーティションサイズを用いる場合は <keycap>Backspace</keycap>
	キーを用いて表示されている数字を削除し
	<xref linkend="sysinstall-label-add2"> のように 64 M
	と入力してください。そして &gui.ok; を押してください。</para>
      
      <figure id="sysinstall-label-add2">
	<title>ルートパーティションサイズの編集</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/disklabel-root2" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>パーティションのサイズを入力すると、
	次にこのパーティションはファイルシステムなのか、
	それともスワップ領域なのかを聞かれるでしょう。
	<xref linkend="sysinstall-label-type">
	のようにダイアログが表示されます。
	この一番目のパーティションにはファイルシステムが含まれるので、
	<guimenuitem>FS</guimenuitem> を選択し、
	<keycap>Enter</keycap> キーを押します。</para>

      <figure id="sysinstall-label-type">
	<title>ルートパーティションタイプの選択</title>
	
	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/disklabel-fs" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>
      
      <para>ファイルシステムを作成しようとしているので、
	最後に <application>disklabel</application> に対して、
	このファイルシステムがどこにマウントされるか教えなければなりません。
	<xref linkend="sysinstall-label-mount">
	のようなダイアログが表示されます。
	ルートファイルシステムのマウントポイントは <filename>/</filename>
	なので、<userinput>/</userinput> と入力し
	<keycap>Enter</keycap> キーを押します。</para>

      <figure id="sysinstall-label-mount">
	<title>ルートのマウントポイント選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/disklabel-root3" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>その後、
	新しく作成したパーティションを表示するために画面は更新するでしょう。
	他のパーティションを作成するために、この作業を繰りかえしてください。
	スワップパーティションはマウントされないので、
	スワップパーティションを作成したときには、
	ファイルシステムのマウントポイントの入力は促されないでしょう。
	最後のパーティションの <filename>/usr</filename> を作成するときは、
	スライスに残っているサイズを使用するために、
	表示されたサイズをそのままにしておくことができます。</para>

      <para>最終的な FreeBSD ディスクラベルエディタ の画面は、
	選択された数値は異なっているかもしれませんが、
	<xref linkend="sysinstall-label4"> のようになるでしょう。
	<keycap>Q</keycap> キーを押して終了します。</para>

      <figure id="sysinstall-label4">
	<title>sysinstall ディスクラベルエディタ</title>
	
	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/disklabel-ed2" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>
    </sect2>
  </sect1>
  <sect1>
    <title>何をインストールするか選択する</title>

    <sect2 id="distset">
      <title>ディストリビューションセットの選択</title>

      <para>インストールするディストリビューションセットを選択します。
	これは使おうとするシステムや利用可能なディスクの容量に依存します。
	最小構成のインストールから全てのインストールまでのオプションがあらかじめ用意されています。
	Unix や FreeBSD に慣れてない人はほぼ間違いなくこれらの用意されたオプションのうちの 1 つを選ぶべきです。
	ディストリビューションセットのカスタマイズは、主としてより経験を積んだユーザーのためにあります。</para>

      <para><keycap>F1</keycap> キーを押すとそのディストリビューションセットのオプションやそれらが何を含んでいるかというより詳しい情報が表示されます。
	ヘルプを見終わった後には、
	<keycap>Enter</keycap> キーを押すことでディストリビューションの選択メニューに戻ることができます。</para>

      <para>グラフィカルユーザインタフェースを望む場合には、
	<literal>X</literal> を含んだディストリビューションセットを選択してください。
	<application>XFree86</application> の環境設定とデフォルトデスクトップの選択はインストールステップの後に行います。</para>

      <para>インストールされる <application>XFree86</application>
	のデフォルトバージョンは、インストールする FreeBSD
	のバージョンに依存します。
	4.6 以前の FreeBSD のバージョンでは
	<application>XFree86 3.X</application> がインストールされ、
	4.6 以降では <application>XFree86 4.X</application>
	がデフォルトでインストールされます。</para>

      <para><ulink url="http://www.xfree86.org/">XFree86</ulink>
	のウェブサイトであなたのビデオカードがサポートされているかどうかをチェックしてください。
	使いたいカードがインストールされる <application>XFree86</application> のデフォルトバージョンで対応していない場合には、
	インストールに X を含まないディストリビューションを選択します。
	そしてインストール後に、Ports Collection を使って適切な <application>XFree86</application>
	のインストールとコンフィギュレーションを行います。</para>

      <para>カスタムカーネルをコンパイルする予定ならばソースコードを含むオプションを選択します。
    なぜカスタムカーネルを構築するのか、またカスタムカーネルの構築方法に関しては
    <xref linkend="kernelconfig"> を参照してください。</para>

      <para>当然ながら、全てを含むシステムが最も多くのことを行えます。
    十分なディスクスペースがあるならば、<xref linkend="distribution-set1">
    で示されるように <guimenuitem>All</guimenuitem> を矢印キーで選択し、
    <keycap>Enter</keycap> を押します。
    ディスクスペースに懸念があるならば、状況に合ったよりふさわしいオプションを選択します。
    インストール後にそのほかのディストリビューションを加えることができます。</para>

      <figure id="distribution-set1">
	<title>ディストリビューションの選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/dist-set" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>
    </sect2>

    <sect2 id="portscol">
      <title>Ports Collection のインストール</title>

      <para>お望みのディストリビューションを選ぶと、
    FreeBSD Ports Collection をインストールするかどうかを尋ねてきます。
    Ports Collection とは、簡単にソフトウェアをインストールする方法です。
    これはソフトウェアをコンパイルするのに必要なソースコードを含みません。
    自動的にダウンロード、コンパイル、インストールを行うためのファイルの集まりです。
    <xref linkend="ports"> で Ports Collection の使用方法が解説されています。</para>

      <para>インストールプログラムはディスクに十分な空き容量があるかどうかをチェックしませんので、
    十分な空き容量がある場合のみこのオプションを選択してください。</para>

<screen>                         User Confirmation Requested
 FreeBSD Ports Collection をインストールしますか?

 これをインストールすることにより、&os.numports; 以上の移植ソフトウェアパッケー
 ジにアクセスすることができます。これは、「クリーンな」状態では約 165MB
 のディスク容量を占めますが、配布されている tarball をダウンロードしていくと、更に
 大きな領域を占めることになります (ただし、FreeBSD の CD/DVD で配布されている
 extra disk を持っていて、それを /cdrom にマウントして使用する場合には、
 さほど問題にはならないでしょう) 。

 Ports Collection は、非常に有用な資源であり、/usr パーティションに置
 いておくだけの価値は十分にあります。この質問には Yes と答えるのが賢明で
 しょう。

 Ports Collection に関するさらに詳しい情報や、最新の Ports に関しては、
 以下の場所を参照してください。
     http://www.FreeBSD.org/ports  

                              [ Yes ]     No</screen>

      <para>Ports Collection をインストールするなら <guibutton>[ Yes ]</guibutton>
    を、このオプションを選択しないのであれば <guibutton>[ No ]</guibutton>
    を矢印キーで選んでください。
    <keycap>Enter</keycap> キーを押して先に進みます。
    ディストリビューションの選択メニューが再度表示されます。</para>

      <figure id="distribution-set2">
	<title>ディストリビューションの確認</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/dist-set2" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>オプションを選択したら矢印キーで <guimenuitem>Exit</guimenuitem>
    を選び、&gui.ok; がハイライトされていることを確認し、
    <keycap>Enter</keycap> を押して先に進んでください。</para>

    </sect2>
  </sect1>

  <sect1 id="install-media">
    <title>インストールメディアの選択</title>

    <para>CD-ROM からインストールする場合、矢印キーを使って
      <guimenuitem>FreeBSD CD/DVD からインストールする</guimenuitem> を選んで下さい。
      &gui.ok; が選択されていることを確認して、
      <keycap>Enter</keycap> キーを押しインストールを開始してください。</para>
    
    <para>そのほかの方法でインストールする場合には、
      適切なオプションを選択しその後の指示に従ってください。</para>

    <para><keycap>F1</keycap> キーを押すとインストールメディアに関するオンラインヘルプが表示されます。
      メディア選択メニューに戻るには <keycap>Enter</keycap> キーを押してください。</para>

    <figure id="choose-media">
      <title>インストールメディアの選択</title>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="install/media" format="PNG">
	</imageobject>
      </mediaobject>
    </figure>

    <note>
      <title>FTP インストールモード</title>

      <indexterm>
	<primary>インストール</primary>
	<secondary>ネットワーク</secondary>
	<tertiary>FTP</tertiary>
      </indexterm>
      
      <para>FTP 経由のインストールを行う場合、active FTP, passive FTP,
	HTTP proxy 経由の三種類の FTP
	インストールモードを選択することができます。</para>

      <variablelist>
	<varlistentry>
	  <term>FTP Active:
	    <guimenuitem>FTP サーバからインストールする</guimenuitem></term>

	  <listitem>
	    <para>すべての FTP 転送の際に <quote>Active</quote>
	      モードを使用します。
	      ファイアウォール内部のマシンではうまく動きませんが、
	      多くの場合 passive モードに対応していないような古い
	      FTP サーバでも動作します。
	      passive モードでの FTP 転送 (こちらがデフォルトです)
	      に失敗した場合には、active モードで確かめましょう!</para>
	  </listitem>
	</varlistentry>
	
	<varlistentry>
	  <term>FTP Passive:
	    <guimenuitem>ファイアウォール経由で FTP
	      サーバからインストールする</guimenuitem></term>
	  
	  <listitem>
	    <indexterm>
	      <primary>FTP</primary>
	      <secondary>Passive モード</secondary>
	    </indexterm>

	    <para>すべての FTP 転送の際に
	      <quote>Passive</quote> モードを使用します。
	      このモードを使用すると、
	      ランダムポート番号による外部からの接続を許可していないファイアウォールを越えることができるようになります。</para>
	  </listitem>
	</varlistentry>
	
	<varlistentry>
	  <term>HTTP proxy 経由の FTP:
	    <guimenuitem>http proxy 経由で
            FTP サーバからインストールする</guimenuitem></term>
	    
	  <listitem>
	    <indexterm>
	      <primary>FTP</primary>
	      <secondary>HTTP proxy 経由</secondary>
	    </indexterm>
	    
	    <para>この方法では、(ウェブブラウザと同様に) HTTP
	      プロトコルを使って proxy サーバに接続し、FTP の操作を実現します。
	      proxy サーバは FTP 要求を (訳注: HTTP から FTP に) 変換して
	      FTP サーバに送るため、ファイアウォールが FTP
	      接続を禁止していても、HTTP proxy サーバが提供されていれば
	      ファイアウォールを超えた FTP 接続を行なうことが可能です。
	      この方法を用いる場合には、FTP サーバの他に proxy
	      サーバを指定する必要があります。</para>
	  </listitem>
	</varlistentry>
      </variablelist>
      
      <para>通常 proxy FTP サーバに対しては、ユーザ名の一部として
	実際に接続したいサーバの名前を <quote>@</quote>
	記号に続けて与える必要があります。
	そうすると proxy サーバは本当のサーバの<quote>ふり</quote>
	をするようになります。
	たとえば、1234 ポートで要求を待つ proxy FTP サーバ
	<hostid role="fqdn">foo.example.com</hostid> を使って、
	<hostid role="fqdn">ftp.FreeBSD.org</hostid>
	からインストールしたいとします。</para>

      <para>この場合、オプションメニューで
	FTP ユーザ名に <literal>ftp@ftp.FreeBSD.org</literal> を、
	パスワードとしてあなたのメールアドレスを設定します。
	そして、インストールメディアに FTP (proxy サーバが対応しているならば
	passive FTP)、URL として
	<literal>ftp://foo.example.com:1234/pub/FreeBSD</literal>
	を指定します。</para>

      <para>このように設定すると、
	<hostid role="fqdn">ftp.FreeBSD.org</hostid> の
	<filename>/pub/FreeBSD</filename> に対する FTP
	要求については <hostid role="fqdn">foo.example.com</hostid>
	が代理で処理をおこなうことになり、<emphasis>その</emphasis>
	マシンからインストールすることができます
	(インストール時の要求に応じて
	<hostid role="fqdn">ftp.FreeBSD.org</hostid>
	からファイルを取り寄せます)。</para>
    </note>
  </sect1>  <sect1 id="install-final-warning">
    <title>インストール操作の確定</title>

    <para>これで良いと思ったら、ここでインストールを進めることができます。
      インストールするためにおこなうハードディスクに対する変更をやめるなら、
      ここが最後のチャンスでもあります。</para>

    <screen>                       User Confirmation Requested
 Last Chance! Are you SURE you want to continue the installation? 

 If you're running this on a disk with data you wish to save then WE
 STRONGLY ENCOURAGE YOU TO MAKE PROPER BACKUPS before proceeding! 

 We can take no responsibility for lost disk contents!  

                             [ Yes ]    No</screen>

    <para><guibutton>[ Yes ]</guibutton> を選択して
      <keycap>Enter</keycap> キーを押すことでインストールは進みます。</para>

    <para>インストールにかかる時間は、どのディストリビューションを選んだか、
      どのインストールメディアを使ったか、
      そしてコンピュータの速度にも依存します。
      インストール状況に従って、メッセージが逐次表示されます。</para>
    
    <para>次のメッセージが表示されればインストールは終わりです。</para>

    <screen>                               Message 

Congratulations! You now have FreeBSD installed on your system. 

We will now move on to the final configuration questions. 
For any option you do not wish to configure, simply select No. 

If you wish to re-enter this utility after the system is up, you may
do so by typing: /stand/sysinstall .  

                                 [ OK ] 

                      [  Press enter to continue  ]</screen>

    <para><keycap>Enter</keycap> キーを押せばインストール後の設定画面に
      移ることができます。</para>

    <para><guibutton>[ No ]</guibutton> を選択して
      <keycap>Enter</keycap> キーを押すと、インストールを中断して
      システムには何の変更もおこないません。
      そのときには次のメッセージが表示されます。</para>

    <screen>                                Message
Installation complete with some errors.  You may wish to scroll
through the debugging messages on VTY1 with the scroll-lock feature. 
You can also choose "No" at the next prompt and go back into the
installation menus to try and retry whichever operations have failed. 

                                 [ OK ]</screen>

    <para>何もインストールされなかったため、このメッセージが表示されています。
      <keycap>Enter</keycap> キーを押しますと、
      インストーラを終了するためにメインメニューに戻ります。</para>
  </sect1>

  <sect1 id="install-post">
    <title>インストール後の作業</title>

    <para>インストール完了後に数々のオプション設定を行います。
      オプションは、インストールした FreeBSD を起動する前に configuration の項目に
      入りなおすか、再起動後に <command>/stand/sysinstall</command> の中にある
      <guimenuitem>Configure</guimenuitem> の項目で設定することができます。</para>


    <sect2 id="inst-network-dev">
      <title>ネットワークデバイスの設定</title>

      <para>もし、FTP インストールのために PPP を設定したのならば、
	この画面は表示されず、前項に述べたように後から設定することが
	できます。</para>

      <para>LAN の詳細情報と、FreeBSD のゲートウェイ・ルータの設定については
	<link linkend="advanced-networking">高度なネットワーク</link>
	の章を参照してください。</para>

      <screen>                      User Confirmation Requested 
   Would you like to configure any Ethernet or SLIP/PPP network devices?

     （訳：イーサネットや SLIP/PPP ネットワークデバイスを設定したいですか？)
                             [ Yes ]   No</screen>

      <para>ネットワークデバイスを設定するには <guibutton>[ Yes ]</guibutton>
　　　を選び、<keycap>Enter</keycap> キーを押します。
      間違えた場合は、<guibutton>[ No ]</guibutton> を選びます。</para>


      <figure id="ed-config1">
	<title>イーサネットデバイスを選ぶ</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/ed0-conf" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>


      <para>設定したいインタフェースを矢印キーで選び、<keycap>Enter</keycap>
	キーを押します。</para>

      <screen>                      User Confirmation Requested 
       Do you want to try IPv6 configuration of the interface?

     （訳：このインタフェース上で IPv6 の設定を行ないたいですか？)

                              Yes   [ No ]</screen>

      <para>プライベートな LAN において、現行のインターネットプロトコル (IPv4)
       で十分なのであれば、矢印キーで <guibutton>[ No ]</guibutton> を選び
	<keycap>Enter</keycap> を押してください。</para>

      <para>もし、新しいインターネットプロトコル (IPv6) を試して見たいのならば，
	<guibutton>[ Yes ]</guibutton> を選んで <keycap>Enter</keycap> を押してください。
	すると、数秒間 RA サーバを検索します。</para>

      <screen>                             User Confirmation Requested 
        Do you want to try DHCP configuration of the interface?

     （訳：このインタフェース上で DHCP 設定を行ないたいですか？)

                              Yes   [ No ]</screen>

      <para>もし、DHCP (Dynamic Host Configuration Protocol) が必要なければ
	矢印で <guibutton>[ No ]</guibutton> を選び、<keycap>Enter</keycap>
        を押してください。</para>

      <para><guibutton>[ Yes ]</guibutton> を選んだ場合、
	<application>dhclient</application> を実行します。設定が成功すると、
        ネットワーク設定情報が自動補完されます。 詳細については
	<xref linkend="dhcp"> を参照してください。</para>

      <para>次のネットワーク設定画面では、LAN 用ゲートウェイシステムの
	イーサネットデバイス構成が表示されます。</para>

      <figure id="ed-config2">
	<title>ed0 ネットワークの設定</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/ed0-conf2" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para><keycap>Tab</keycap> をつかって項目を選び、適切な情報を
	入力してください。</para>

      <variablelist>
	<varlistentry>
	  <term>Host</term>

	  <listitem>
	    <para>完全修飾されたホスト名。たとえば k6-2.example.com。</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Domain</term>

	  <listitem>
	    <para>コンピュータのドメイン名。たとえば example.com。</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>IPv4 ゲートウェイ</term>

	  <listitem>
	    <para>ローカル以外のホストへパケットを送る際に使う IP アドレスです。
	      もしコンピュータがネットワーク上にいる場合は入力してください。
	      このコンピュータがネットワークのインターネットゲートウェイである場合には
　　　　　　　<emphasis>この項目は空白のまま</emphasis>にします。</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>ネームサーバ</term>

	  <listitem>
	    <para>ローカル DNS サーバの IP アドレスを指定します。
              ローカル DNS サーバがプライベート LAN 上にない場合は、
              プロバイダの DNS サーバを指定します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>IPv4 アドレス</term>

	  <listitem>
	    <para>このインタフェースで使う IP アドレスは 192.168.0.1。</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>ネットマスク</term>

	  <listitem>
	    <para>LAN で使うアドレスブロッククラス C (192.168.0.0 - 192.168.255.255) を指定します。
             ネットマスクのデフォルト値は クラス C (255.255.255.0) です。</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>ifconfig のその他のオプション</term>

	  <listitem>
	    <para>あなたが加えたい <command>ifconfig</command> への
	      オプションを入力してください。今回はありませんでした。</para>
	  </listitem>
	</varlistentry>

      </variablelist>

      <para>終了するときは、<keycap>Tab</keycap> キーを使って &gui.ok;
	<keycap>Enter</keycap> を押します。</para>


      <screen>                      User Confirmation Requested 
        Would you like to Bring Up the ed0 interface right now?

     （訳：このインタフェースへの設定を今すぐ有効にしますか？)

                             [ Yes ]   No</screen>

      <para><guibutton>[ Yes ]</guibutton> を選んで <keycap>Enter</keycap>
        を押すと、ネットワークへの設定を始め、準備が整うと
        設定が終了します。</para>
    </sect2>

    <sect2 id="gateway">
      <title>ゲートウェイの設定</title>

      <screen>                       User Confirmation Requested 
       Do you want this machine to function as a network gateway?

     （訳：このマシンにネットワークゲートウェイ機能を搭載しますか？)

                              [ Yes ]    No</screen>

      <para>もし、マシンが LAN のゲートウエイであり、他マシン間の
        パケットを転送している場合は、<guibutton>[ Yes ]</guibutton> を選んで
        <keycap>Enter</keycap> を押します。もし、マシンがネットワーク上の
        ノードである場合、<guibutton>[ No ]</guibutton> を選び
	<keycap>Enter</keycap> を押して先に進んでください。</para>
    </sect2>

    <sect2 id="inetd-services">
      <title>インターネットサービスの設定</title>

      <screen>                      User Confirmation Requested
Do you want to configure inetd and the network services that it provides?

     （訳：inetd 及び提供するネットワークサービスの設定を行いますか？)

                               Yes   [ No ]</screen>

      <para>もし <guibutton>[ No ]</guibutton> を選んだ場合には、さまざまなサービス、
	たとえば <application>telnetd</application> などは有効になりません。
	これは、リモートユーザがこのマシンに対して <application>telnet</application> を
　　　　使えないことを意味します。ローカルユーザは未だにリモートマシンへの
        アクセスに <application>telnet</application> を重宝しているでしょう。</para>

      <para>これらのサービスは、インストール後に <filename>/etc/inetd.conf</filename> を
        自分の好きなテキストエディタで編集することで有効になります。
	詳しくは inetd の章 <!-- <xref linkend="inetd-overview"> --> を見てください。</para>

      <para>これらのサービスを利用したいと考えているならば，
　　　　<guibutton>[ Yes ]</guibutton> を選びインストールしてください。
        追加の確認事項が表示されるでしょう。</para>

      <screen>                      User Confirmation Requested
The Internet Super Server (inetd) allows a number of simple Internet
services to be enabled, including finger, ftp and telnetd.  Enabling
these services may increase risk of security problems by increasing
the exposure of your system.

     （訳：inetd は finger，ftp，telnet を含む数多くのインターネットサービスを
      許可します。この機能を有効にするとシステムへのアクセスの増加による
      セキュリティ上のリスクが増加することがあります。)

With this in mind, do you wish to enable inetd?

                             [ Yes ]   No</screen>

      <para><guibutton>[ Yes ]</guibutton> を選んで続けます。</para>

      <screen>                      User Confirmation Requested
inetd(8) relies on its configuration file, /etc/inetd.conf, to determine
which of its Internet services will be available.  The default FreeBSD
inetd.conf(5) leaves all services disabled by default, so they must be
specifically enabled in the configuration file before they will
function, even once inetd(8) is enabled.  Note that services for
IPv6 must be seperately enabled from IPv4 services.

Select [Yes] now to invoke an editor on /etc/inetd.conf, or [No] to
use the current settings.

     （訳：inetd(8) が利用可能にするインターネットサービスの種類については
           設定ファイル (/etc/inetd.conf) に依存します。FreeBSD に付属する
           inetd.conf(5) の初期設定は、すべてのサービスが無効になっています。
           従って、inetd(8) を一度有効にした後に設定ファイルの中で
           必要なサービスを有効にする必要があります。なお、IPv4 サービス側から
           IPv6 のサービスを個別に設定する必要があることに注意してください。

           [Yes] を選ぶと /etc/inetd.conf をエディタで編集できます。
           [No] を選ぶと、現在の設定をつかいます。)

                             [ Yes ]   No</screen>

      <para><guibutton>[ Yes ]</guibutton> を選ぶと、
	先頭行から設定がはじまります。
	<literal>#</literal> を削除することでサービスを許可することができます。</para>

      <figure id="inetd-edit">
	<title><filename>inetd.conf</filename> の編集</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/edit-inetd-conf" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>希望するサービスを追加したら、<keycap>Esc</keycap> を押して
	表示されるメニューで exiting and saving the changes (変更を保存して終了)
	を選んでください。</para>

    </sect2>

    <sect2 id="ftpanon">
      <title>Anonymous FTP</title>

      <screen>                      User Confirmation Requested
 Do you want to have anonymous FTP access to this machine? 

                              Yes    [ No ]</screen>

      <sect3 id="deny-anon">
	<title>Anonymous FTP を許可しない</title>
      
	<para>デフォルトの <guibutton>[ No ]</guibutton> を選択して
	  <keycap>Enter</keycap> を押してください。
	  アカウントを持ったユーザは、パスワードを使い FTP 
	  でコンピュータにアクセスできます。</para>
      </sect3>

      <sect3 id="ftpallow">
	<title>Anonymous FTP を許可する</title>

	<para>anonymous FTP の接続を許可すると、
	  誰でもコンピュータにアクセスできるようになります。
	  このオプションを有効にする前に、
	  セキュリティ上の問題点を検討してください。
	  セキュリティに関する詳細については、
	  <xref linkend="security"> をご覧ください。</para>

	<para>anonymous FTP を有効にするには、矢印キーを使って
	  <guibutton>[ Yes ]</guibutton> を選択し、<keycap>Enter</keycap>
	  を押してください。以下のような画面が表示されるでしょう。</para>

	<figure id="anon-ftp2">
	  <title>Anonymous FTP のデフォルトの設定</title>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="install/ftp-anon1" format="PNG">
	    </imageobject>
	  </mediaobject>
	</figure>

	<para><keycap>F1</keycap> を押すとヘルプが表示されます。</para>

	<screen>This screen allows you to configure the anonymous FTP user.

The following configuration values are editable:

UID:     The user ID you wish to assign to the anonymous FTP user.
         All files uploaded will be owned by this ID.

Group:   Which group you wish the anonymous FTP user to be in.

Comment: String describing this user in /etc/passwd


FTP Root Directory:

        Where files available for anonymous FTP will be kept.

Upload subdirectory:

        Where files uploaded by anonymous FTP users will go.</screen>

	<para>デフォルトでは、ftp のルートディレクトリは
	  <filename>/var</filename> に設定されています。
	  FTP が必要とする十分な容量が用意されていない場合には、
	  <filename>/usr</filename> ディレクトリを使って、
	  FTP のルートディレクトリを <filename>/usr/ftp</filename>
	  と設定できます。</para>

	<para>十分な設定ができたら、
	  <keycap>Enter</keycap> を押して先に進んでください。</para>

	<screen>                          User Confirmation Requested 
         Create a welcome message file for anonymous FTP users?

                              [ Yes ]    No</screen>

	<para><guibutton>[ Yes ]</guibutton> を選択し
	  <keycap>Enter</keycap> を押すと、
	  メッセージ編集用のエディタが自動的に起動します。</para>

	<figure id="anon-ftp4">
	  <title>FTP Welcome メッセージの編集</title>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="install/ftp-anon2" format="PNG">
	    </imageobject>
	  </mediaobject>
	</figure>

	<para>これは <command>ee</command> と呼ばれるテキストエディタです。
	  このエディタでメッセージを変更するか、または、
	  後で希望するエディタを使ってメッセージを変更してください。
	  エディタの画面の下に表示されるファイルの名前、場所に注意してください。</para>

	<para><keycap>Esc</keycap> を押すと、ポップアップメニューが表示されます。
	  デフォルトは <guimenuitem>a) leave editor</guimenuitem> です。
	  <keycap>Enter</keycap> を押して終了し、先に進んでください。</para>
      </sect3>
    </sect2>

    <sect2 id="nfsconf">
      <title>ネットワークファイルサービスの設定</title>

      <para>ネットワークファイルサービス (NFS) を用いると、
	ネットワークを介してファイルの共有を行うことができます。
	コンピュータをサーバ、クライアントまたは両方に設定できます。
	より詳しい情報については <xref linkend="nfs"> を参照してください。</para>

      <sect3 id="nsf-server-options">
	<title>NFS サーバ</title>

	<screen>                       User Confirmation Requested
 Do you want to configure this machine as an NFS server? 

                              Yes    [ No ]</screen>

	<para>ネットワークファイルシステムサーバや、
	  クライアントの機能を必要としないのであれば、
	  <guibutton>[ No ]</guibutton> を選択し
	  <keycap>Enter</keycap> を押してください。</para>

	<para><guibutton>[ Yes ]</guibutton> を選んだ場合には、
	  <filename>exports</filename>
	  ファイルを作成する必要があることを示すメッセージが表示されます。</para>

	<screen>                               Message
Operating as an NFS server means that you must first configure an
/etc/exports file to indicate which hosts are allowed certain kinds of
access to your local filesystems.
Press [Enter] now to invoke an editor on /etc/exports
                               [ OK ]</screen>

	<para><keycap>Enter</keycap> を押して先に進んでください。
	  <filename>exports</filename> ファイルの作成、
	  編集するためにテキストエディタが立ち上がります。</para>

	<figure id="nfs-server-edit">
	  <title><filename>exports</filename> ファイルの編集</title>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="install/nfs-server-edit" format="PNG">
	    </imageobject>
	  </mediaobject>
	</figure>

	<para>ここで、実際共有されるファイルシステムを追加するか、
	  後で希望するテキストエディタを使って追加してください。
	  エディタのスクリーンの下に表示されているファイル名、
	  位置の情報に注意してください。</para>

	<para><keycap>Esc</keycap> を押すとポップアップメニューが表示されます。
	  デフォルトは <guimenuitem>a) leave editor</guimenuitem> です。
	  <keycap>Enter</keycap> を押して終了し、先に進んでください。</para>
      </sect3>

      <sect3 id="nfs-client-options">
	<title>NFS クライアント</title>

	<screen>                       User Confirmation Requested
 Do you want to configure this machine as an NFS client? 

                              Yes   [ No ]</screen>

	<para>矢印キーを使って、適切に <guibutton>[ Yes ]</guibutton> または
	  <guibutton>[ No ]</guibutton> を選択してください。</para>
      </sect3>
    </sect2>

    <sect2 id="securityprofile">
      <title>セキュリティプロファイル</title>

      <para><quote>セキュリティプロファイル</quote> は、
	あるプログラムやその他の設定を有効にしたり無効にすることで、
	希望する安全性と快適性のバランスを達成しようとするための設定オプションのセットです。
	セキュリティプロファイルを厳密にするに従い、
	デフォルトで有効になるプログラムは少なくなるでしょう。
	これは、必要とするプログラム以外は実行しないという、
	セキュリティの基本的な原則の一つです。</para>

      <para>セキュリティプロファイルはデフォルトの設定のままにしてください。
	すべてのプログラムは、FreeBSD のインストール後に
	<filename>/etc/rc.conf</filename> の適切な行を編集したり、追加することで、
	有効、無効にできます。
	より多くの情報を得るために、
	&man.rc.conf.5; マニュアルページをご覧ください。</para>

      <para>以下の表では、
	セキュリティプロファイルのそれぞれについて説明しています。
	列は、あるセキュリティプロファイルに対して行った選択を表し、
	行はプロファイルが有効もしくは無効に設定したプログラムまたは機能を表しています。</para>

      <table>
	<title>セキュリティプロファイル</title>

	<tgroup cols=3>
	  <thead>
	    <row>
	      <entry></entry>

	      <entry>Extreme</entry>

	      <entry>Moderate</entry>
	    </row>
	  </thead>

	  <tbody>

	    <row>
	      <entry>&man.sendmail.8;</entry>

	      <entry>NO</entry>

	      <entry>YES</entry>
	    </row>

	    <row>
	      <entry>&man.sshd.8;</entry>

	      <entry>NO</entry>

	      <entry>YES</entry>
	    </row>

	    <row>
	      <entry>&man.portmap.8;</entry>

	      <entry>NO</entry>

	      <entry>MAYBE
		<footnote>
		  <para>インストールの最初の方で NFS
		    クライアントまたはサーバとして設定した場合には、
		    portmapper は有効になっています。</para>
		</footnote>
	      </entry>
	    </row>

	    <row>
	      <entry>NFS server</entry>

	      <entry>NO</entry>

	      <entry>YES</entry>
	    </row>

	    <row>
	      <entry>&man.securelevel.8;</entry>

	      <entry>YES
		<footnote>
		  <para>セキュリティプロファイルに
		    <quote>Extreme</quote> または <quote>High</quote>
		    のセキュリティレベルを選ぶのであれば、
		    その意味を理解している必要があります。
		    &man.init.8; マニュアルページを読み、
		    セキュリティレベルの意味について特に注意してください。
		    さもないと後で重大なトラブルに出会うでしょう!</para>
		</footnote>
	      </entry>

	      <entry>NO</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <screen>                       User Confirmation Requested
 Do you want to select a default security profile for this host (select
 No for "medium" security)? 

                            [ Yes ]    No</screen>

      <para><guibutton>[ No ]</guibutton> を選択して、
	<keycap>Enter</keycap> を押してください。
	セキュリティプロファイルが中程度に設定されます。</para>

      <para><guibutton>[ Yes ]</guibutton> を選択して、
	<keycap>Enter</keycap> を押すと、別のセキュリティプロファイルを選択できます。</para>

      <figure id="security-profile">
	<title>セキュリティプロファイルオプション</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/security" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para><keycap>F1</keycap> を押すとヘルプが表示されます。
	<keycap>Enter</keycap> を押して、選択メニューに戻ってください。

      <para>システムが他のレベルを必要としないことを確認したら、
	矢印キーを使って <guimenuitem>Medium</guimenuitem> を選択してください。
	&gui.ok; がハイライトされたら、<keycap>Enter</keycap> を押してください。</para>

      <para>選んだセキュリティの設定に応じて、確認のメッセージが表示されます。</para>

      <screen>                                 Message

Moderate security settings have been selected.

Sendmail and SSHd have been enabled, securelevels are
disabled, and NFS server setting have been left intact.
PLEASE NOTE that this still does not save you from having
to properly secure your system in other ways or exercise
due diligence in your administration, this simply picks
a standard set of out-of-box defaults to start with.

To change any of these settings later, edit /etc/rc.conf

                                  [OK]</screen>

      <screen>                                 Message

Extreme security settings have been selected.

Sendmail, SSHd, and NFS services have been disabled, and
securelevels have been enabled.
PLEASE NOTE that this still does not save you from having
to properly secure your system in other ways or exercise
due diligence in your administration, this simply picks
a more secure set of out-of-box defaults to start with.

To change any of these settings later, edit /etc/rc.conf

                                  [OK]</screen>

      <para><keycap>Enter</keycap> を押して、インストール後の設定を続けてください。</para>

      <warning>
	<para>セキュリティプロファイルは特効薬ではありません!
	  たとえあなたが極めて厳しい設定を選択したとしても、
	  適切な <ulink
	  url="../handbook/eresources.html#ERESOURCES-MAIL">メーリングリスト
	  </ulink> を読んだり、
	  適切なパスワードやパスフレーズを用い、
	  セキュリティの対策を実践していく必要があります。
	  そうすることで、
	  望んでいる安全性と快適性のバランスを簡単に設定できるでしょう。</para>
      </warning>

    </sect2>

    <sect2 id="console">
      <title>システムコンソールの設定</title>

      <para>システムコンソールをカスタマイズするオプションがあります。</para>

      <screen>                      User Confirmation Requested 
       Would you like to customize your system console settings?

                              [ Yes ]  No</screen>

      <para><guibutton>[ Yes ]</guibutton> を選択し、<keycap>Enter</keycap>
	を押してオプションの確認および設定をしてください。</para>

      <figure id="saver-options">
	<title>システムコンソール設定オプション</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/console-saver1" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>良く使われるオプションはスクリーンセーバです。
	矢印キーを使って <guimenuitem>Saver</guimenuitem> を選択し、
	<keycap>Enter</keycap> を押してください。</para>

      <figure id="saver-select">
	<title>スクリーンセーバオプション</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/console-saver2" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>矢印キーを使って、お望みのスクリーンセーバを選択し、
	<keycap>Enter</keycap> を押してください。
	システムコンソールの設定メニューが再び表示されます。</para>

      <para>デフォルトの時間の間隔は 300 秒です。
	時間の間隔を変更する場合には、
	もう一度 <guimenuitem>Saver</guimenuitem> を選択してください。
	スクリーンセーバのオプションメニューにて、
	矢印キーで <guimenuitem>Timeout</guimenuitem> を選択して
	<keycap>Enter</keycap> を押してください。
	ポップアップメニューが表示されます。</para>

      <figure id="saver-timeout">
	<title>スクリーンセーバのタイムアウト</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/console-saver3" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>値を変更したら &gui.ok を選択し、
	<keycap>Enter</keycap> を押して、
	システムコンソールの設定メニューに戻ってください。</para>

      <figure id="saver-exit">
	<title>システムコンソールの設定の終了</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/console-saver4" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para><guimenuitem>Exit</guimenuitem> を選択し、<keycap>Enter</keycap>
	を押して、インストール後の設定を続けてください。</para>
    </sect2>

    <sect2 id="timezone">
      <title>タイムゾーンの設定</title>

      <para>使用しているコンピュータのタイムゾーンを設定することで、
	地域による時刻の違いが自動的に調整され、
	タイムゾーンに関連した機能が適切に取り扱われます。</para>

      <para>ここでの例では、コンピュータが United States の
	Eastern タイムゾーンにあるものとします。
	実際の地理的位置を選択してください。</para>

      <screen>                      User Confirmation Requested 
          Would you like to set this machine's time zone now?

                            [ Yes ]   No</screen>

      <para><guibutton>[ Yes ]</guibutton> を選択し
	<keycap>Enter</keycap> を押して、タイムゾーンを設定してください。</para>

      <screen>                       User Confirmation Requested
 Is this machine's CMOS clock set to UTC? If it is set to local time
 or you don't know, please choose NO here! 

                              Yes   [ No ]</screen>

      <para>コンピュータのクロックがどのように設定されているかに従って、
	<guibutton>[ Yes ]</guibutton> または <guibutton>[ No ]</guibutton>
	を選択し、<keycap>Enter</keycap> を押してください。</para>

      <figure id="set-timezone-region">
	<title>地域の選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/timezone1" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>矢印キーを使って、適切な地域を選択し、
	<keycap>Enter</keycap> を押してください。</para>

      <figure id="set-timezone-country">
	<title>国名の選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/timezone2" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>矢印キーを使って、適切に国名を選び、
	<keycap>Enter</keycap> を押してください。</para>

      <figure id="set-timezone-locality">
	<title>タイムゾーンの選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/timezone3" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>矢印キーを使って適切なタイムゾーンを選択し、
	<keycap>Enter</keycap> を押してください。</para>

      <screen>                            Confirmation 
            Does the abbreviation 'EDT' look reasonable?

                            [ Yes ]   No</screen>

      <para>タイムゾーンの短縮形が適切かどうかを確認をしてください。
	問題なければ <keycap>Enter</keycap> を押して、インストール後の設定を続けてください。</para>
    </sect2>

    <sect2 id="linuxcomp">
      <title>Linux 互換機能</title>

      <screen>                      User Confirmation Requested 
          Would you like to enable Linux binary compatibility?

                            [ Yes ]   No</screen>

      <para><guibutton>[ Yes ]</guibutton> を選択して
	<keycap>Enter</keycap> を押すと、
	FreeBSD 上で Linux のソフトウエアを実行できるようになります。
	Linux 互換のために必要な package が追加されます。</para>

      <para>FTP からインストールを行っている場合には、
	コンピュータがインターネットに接続できる必要があります。
	Linux バイナリ互換など、すべての package を配布していないリモート
	ftp サイトがあります。
	必要であれば、後でインストールできます。</para>
    </sect2>

    <sect2 id="mouse">
      <title>マウスの設定</title>

      <para>このオプションを設定することで、
	コンソールやユーザプログラムにおいて
	3-ボタンマウスによるテキストのカットアンドペーストが可能になります。
	2-ボタンマウスを使っている場合には、インストールをした後に
	3-ボタンのエミュレートについて &man.moused.8;
	マニュアルページを参照してください。
	ここでは、非 USB マウスの設定を例に説明します。</para>

      <screen>                      User Confirmation Requested 
         Does this system have a non-USB mouse attached to it?

                            [ Yes ]    No </screen>

      <para>非 USB マウスを使っている場合には
	<guibutton>[ Yes ]</guibutton> を選択してください。
	USB マウスを利用する場合には、<guibutton>[ No ]</guibutton> を選択し
	<keycap>Enter</keycap> を押してください。</para>

      <figure id="mouse-protocol">
	<title>マウスプロトコルのタイプの選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mouse1" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>矢印キーで <guimenuitem>Type</guimenuitem> を選択し、
	<keycap>Enter</keycap> を押してください。</para>

      <figure id="set-mouse-protocol">
	<title>マウスプロトコルの選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mouse2" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>この例では PS/2 マウスを使うので、デフォルトの
	<guimenuitem>Auto</guimenuitem> が適切です。
	プロトコルを変更するには、矢印キーを使って他のプロトコルを選択してください。
	&gui.ok; がハイライトされていることを確認し、
	<keycap>Enter</keycap> を押してこのメニューを終了してください。</para>

      <figure id="config-mouse-port">
	<title>マウスポートの設定</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mouse3" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>矢印キーで <guimenuitem>Port</guimenuitem> を選択して
	<keycap>Enter</keycap> を押してください。</para>

      <figure id="set-mouse-port">
	<title>マウスポート の設定</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mouse4" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>このシステムでは PS/2 マウスを使っているので、デフォルトの
	<guimenuitem>PS/2</guimenuitem> が適切です。
	ポートを変更する場合には、矢印キーで選択して
	<keycap>Enter</keycap> を押してください。</para>

      <figure id="test-daemon">
	<title>マウスデーモンを有効にする。</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mouse5" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>最後に、マウスデーモンを有効にし、テストしてください。</para>

      <figure id="test-mouse-daemon">
	<title>マウスデーモンのテスト</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mouse6" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>スクリーン上でカーソルが動いているので、マウスデーモンが動作しています。</para>

      <para><guibutton>[ Yes ]</guibutton> を選択して前のメニューに戻り、
	矢印キーで <guimenuitem>Exit</guimenuitem> を選択し、
	<keycap>Enter</keycap> を押してインストール後の設定を続けてください？</para>
    </sect2>

    <sect2 id="x-server">
      <title>X サーバの設定</title>

      <para><application>KDE</application>, <application>GNOME</application>
	や他のグラフィカルユーザインタフェースを利用するためには、
	X サーバを設定する必要があります。</para>

      <note>
	<para><username>root</username> 以外のユーザで <application>XFree86</application> を実行するには、
	  <filename role="package">x11/wrapper</filename>
	  をインストールしておいてください。
	  FreeBSD 4.7 からはデフォルトでインストールされますが、
	  それより前のバージョンでは、
	  Package Selection メニューからインストールしてください。</para>
      </note>

      <para><ulink url="http://www.xfree86.org/">XFree86</ulink> ウェブサイトで、
	ビデオカードが対応しているかどうかを確認してください。</para>

      <screen>                      User Confirmation Requested 
        Would you like to configure your X server at this time?

                            [ Yes ]   No</screen>

      <warning>
	<para>モニタの仕様やビデオカードの情報を入手しておく必要があります。
	  不適切に設定を行った場合には、装置が壊れる恐れがあります。
	  この情報を持っていないのであれば
	  <guibutton>[ No ]</guibutton> を選択してください。
	  インストール後に情報を入手したら
	  <command>/stand/sysinstall</command> を実行し、
	  <guimenuitem>Configure</guimenuitem> を選択してから
	  <guimenuitem>XFree86</guimenuitem> を選んで設定を行ってください。</para>
      </warning>

      <para>グラフィックカードおよびモニタの情報を持っているのであれば
	<guibutton>[ Yes ]</guibutton> を選択し、<keycap>Enter</keycap> を押して
	X サーバの設定に進んでください。</para>

      <figure id="xserver2">
	<title>設定方法の選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/xf86setup" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>X サーバの設定にはいくつかの方法があります。
	矢印キーを使って方法を一つ選択し、
	<keycap>Enter</keycap> を押してください。
	すべての説明を必ず注意深く読んでください。</para>

      <para><application>xf86cfg</application> および
	<application>xf86cfg -textmode</application> を実行すると、
	画面が暗くなります。起動までに数秒かかりますので、
	我慢してお待ちください。</para>

      <para>以下の説明では、<application>xf86config</application>
	設定ツールを利用しています。
	実際の設定は、システムのハードウェアに依存するので、
	以下で示される設定とは異なるでしょう。</para>

      <screen>                                Message
 You have configured and been running the mouse daemon. 
 Choose "/dev/sysmouse" as the mouse port and "SysMouse" or
 "MouseSystems" as the mouse protocol in the X configuration utility. 

                                 [ OK ]

                      [ Press enter to continue ]</screen>

      <para>このメッセージは、
	これまでに設定したマウスデーモンが検出されたことを意味しています。
	<keycap>Enter</keycap> を押して先に進んでください。</para>

      <para><application>xf86config</application> を起動すると、
	簡単な説明が表示されます。</para>

      <screen>This program will create a basic XF86Config file, based on menu selections you
make.

The XF86Config file usually resides in /usr/X11R6/etc/X11 or /etc/X11. A sample
XF86Config file is supplied with XFree86; it is configured for a standard
VGA card and monitor with 640x480 resolution. This program will ask for a
pathname when it is ready to write the file.

You can either take the sample XF86Config as a base and edit it for your
configuration, or let this program produce a base XF86Config file for your
configuration and fine-tune it.

Before continuing with this program, make sure you know what video card
you have, and preferably also the chipset it uses and the amount of video
memory on your video card. SuperProbe may be able to help with this.

Press enter to continue, or ctrl-c to abort.</screen>

      <para><keycap>Enter</keycap> を押すとマウスの設定が始まります。
	もし、PS/2 マウスを使っているのであれば、
	以下の例に従って、マウスプロトコルに <quote>Mouse Systems</quote>
	を使い、マウスポートには
	<devicename>/dev/sysmouse</devicename> を選んでください。</para>

      <screen>First specify a mouse protocol type. Choose one from the following list:

 1.  Microsoft compatible (2-button protocol)
 2.  Mouse Systems (3-button protocol) & FreeBSD moused protocol
 3.  Bus Mouse
 4.  PS/2 Mouse
 5.  Logitech Mouse (serial, old type, Logitech protocol)
 6.  Logitech MouseMan (Microsoft compatible)
 7.  MM Series
 8.  MM HitTablet
 9.  Microsoft IntelliMouse

If you have a two-button mouse, it is most likely of type 1, and if you have
a three-button mouse, it can probably support both protocol 1 and 2. There are
two main varieties of the latter type: mice with a switch to select the
protocol, and mice that default to 1 and require a button to be held at
boot-time to select protocol 2. Some mice can be convinced to do 2 by sending
a special sequence to the serial port (see the ClearDTR/ClearRTS options).

Enter a protocol number: 2

You have selected a Mouse Systems protocol mouse. If your mouse is normally
in Microsoft-compatible mode, enabling the ClearDTR and ClearRTS options
may cause it to switch to Mouse Systems mode when the server starts.

Please answer the following question with either 'y' or 'n'.
Do you want to enable ClearDTR and ClearRTS? n

You have selected a three-button mouse protocol. It is recommended that you
do not enable Emulate3Buttons, unless the third button doesn't work.

Please answer the following question with either 'y' or 'n'.
Do you want to enable Emulate3Buttons? y

Now give the full device name that the mouse is connected to, for example
/dev/tty00. Just pressing enter will use the default, /dev/mouse.
On FreeBSD, the default is /dev/sysmouse.

Mouse device: /dev/sysmouse</screen>

      <para>次の設定項目はキーボードです。
	以下では generic 101-key モデルの例が示されています。
	使用しているキーボードに合わせて選択してください。
	もしくは、単に <keycap>Enter</keycap>
	を押して、デフォルトの設定を利用してください。</para>

      <screen>Please select one of the following keyboard types that is the better
description of your keyboard. If nothing really matches,
choose 1 (Generic 101-key PC)

  1  Generic 101-key PC                                
  2  Generic 102-key (Intl) PC                         
  3  Generic 104-key PC                                
  4  Generic 105-key (Intl) PC                         
  5  Dell 101-key PC                                   
  6  Everex STEPnote                                   
  7  Keytronic FlexPro                                 
  8  Microsoft Natural                                 
  9  Northgate OmniKey 101                             
 10  Winbook Model XP5                                 
 11  Japanese 106-key                                  
 12  PC-98xx Series                                    
 13  Brazilian ABNT2                                   
 14  HP Internet                                       
 15  Logitech iTouch                                   
 16  Logitech Cordless Desktop Pro                     
 17  Logitech Internet Keyboard                        
 18  Logitech Internet Navigator Keyboard              
 19  Compaq Internet                                   
 20  Microsoft Natural Pro                             
 21  Genius Comfy KB-16M                               
 22  IBM Rapid Access                                  
 23  IBM Rapid Access II                               
 24  Chicony Internet Keyboard                         
 25  Dell Internet Keyboard                            

Enter a number to choose the keyboard.

1


Please select the layout corresponding to your keyboard


  1  U.S. English                                      
  2  U.S. English w/ ISO9995-3                         
  3  U.S. English w/ deadkeys                          
  4  Albanian                                          
  5  Arabic                                            
  6  Armenian                                          
  7  Azerbaidjani                                      
  8  Belarusian                                        
  9  Belgian                                           
 10  Bengali                                           
 11  Brazilian                                         
 12  Bulgarian                                         
 13  Burmese                                           
 14  Canadian                                          
 15  Croatian                                          
 16  Czech                                             
 17  Czech (qwerty)                                    
 18  Danish                                            

Enter a number to choose the country.
Press enter for the next page

1


Please enter a variant name for 'us' layout. Or just press enter
for default variant

us


Please answer the following question with either 'y' or 'n'.
Do you want to select additional XKB options (group switcher,
group indicator, etc.)? n</screen>

      <para>次に、モニタの設定に続きます。
	利用しているモニタの周波数を越えてはいけません。
	ダメージを受けてしまいます。
	確証がない場合には、情報を得た後で設定してください。</para>

      <screen>Now we want to set the specifications of the monitor. The two critical
parameters are the vertical refresh rate, which is the rate at which the
whole screen is refreshed, and most importantly the horizontal sync rate,
which is the rate at which scanlines are displayed.

The valid range for horizontal sync and vertical sync should be documented
in the manual of your monitor. If in doubt, check the monitor database
/usr/X11R6/lib/X11/doc/Monitors to see if your monitor is there.

Press enter to continue, or ctrl-c to abort.



You must indicate the horizontal sync range of your monitor. You can either
select one of the predefined ranges below that correspond to industry-
standard monitor types, or give a specific range.

It is VERY IMPORTANT that you do not specify a monitor type with a horizontal
sync range that is beyond the capabilities of your monitor. If in doubt,
choose a conservative setting.

    hsync in kHz; monitor type with characteristic modes
 1  31.5; Standard VGA, 640x480 @ 60 Hz
 2  31.5 - 35.1; Super VGA, 800x600 @ 56 Hz
 3  31.5, 35.5; 8514 Compatible, 1024x768 @ 87 Hz interlaced (no 800x600)
 4  31.5, 35.15, 35.5; Super VGA, 1024x768 @ 87 Hz interlaced, 800x600 @ 56 Hz
 5  31.5 - 37.9; Extended Super VGA, 800x600 @ 60 Hz, 640x480 @ 72 Hz
 6  31.5 - 48.5; Non-Interlaced SVGA, 1024x768 @ 60 Hz, 800x600 @ 72 Hz
 7  31.5 - 57.0; High Frequency SVGA, 1024x768 @ 70 Hz
 8  31.5 - 64.3; Monitor that can do 1280x1024 @ 60 Hz
 9  31.5 - 79.0; Monitor that can do 1280x1024 @ 74 Hz
10  31.5 - 82.0; Monitor that can do 1280x1024 @ 76 Hz
11  Enter your own horizontal sync range

Enter your choice (1-11): 6

You must indicate the vertical sync range of your monitor. You can either
select one of the predefined ranges below that correspond to industry-
standard monitor types, or give a specific range. For interlaced modes,
the number that counts is the high one (e.g. 87 Hz rather than 43 Hz).

 1  50-70
 2  50-90
 3  50-100
 4  40-150
 5  Enter your own vertical sync range

Enter your choice: 2

You must now enter a few identification/description strings, namely an
identifier, a vendor name, and a model name. Just pressing enter will fill
in default names.

The strings are free-form, spaces are allowed.
Enter an identifier for your monitor definition: Hitachi</screen>

      <para>次に、一覧からビデオカードドライバを選択します。
	カードが一覧になければ、<keycap>Enter</keycap> を押してください。
	リストの続きが表示されます。
	リストの一部のみが表示されています。</para>

      <screen>Now we must configure video card specific settings. At this point you can
choose to make a selection out of a database of video card definitions.
Because there can be variation in Ramdacs and clock generators even
between cards of the same model, it is not sensible to blindly copy
the settings (e.g. a Device section). For this reason, after you make a
selection, you will still be asked about the components of the card, with
the settings from the chosen database entry presented as a strong hint.

The database entries include information about the chipset, what driver to
run, the Ramdac and ClockChip, and comments that will be included in the
Device section. However, a lot of definitions only hint about what driver
to run (based on the chipset the card uses) and are untested.

If you can't find your card in the database, there's nothing to worry about.
You should only choose a database entry that is exactly the same model as
your card; choosing one that looks similar is just a bad idea (e.g. a
GemStone Snail 64 may be as different from a GemStone Snail 64+ in terms of
hardware as can be).

Do you want to look at the card database? y



288  Matrox Millennium G200 8MB                        mgag200
289  Matrox Millennium G200 SD 16MB                    mgag200
290  Matrox Millennium G200 SD 4MB                     mgag200
291  Matrox Millennium G200 SD 8MB                     mgag200
292  Matrox Millennium G400                            mgag400
293  Matrox Millennium II 16MB                         mga2164w
294  Matrox Millennium II 4MB                          mga2164w
295  Matrox Millennium II 8MB                          mga2164w
296  Matrox Mystique                                   mga1064sg
297  Matrox Mystique G200 16MB                         mgag200
298  Matrox Mystique G200 4MB                          mgag200
299  Matrox Mystique G200 8MB                          mgag200
300  Matrox Productiva G100 4MB                        mgag100
301  Matrox Productiva G100 8MB                        mgag100
302  MediaGX                                           mediagx
303  MediaVision Proaxcel 128                          ET6000
304  Mirage Z-128                                      ET6000
305  Miro CRYSTAL VRX                                  Verite 1000

Enter a number to choose the corresponding card definition.
Press enter for the next page, q to continue configuration.

288

Your selected card definition:

Identifier: Matrox Millennium G200 8MB
Chipset:    mgag200
Driver:     mga
Do NOT probe clocks or use any Clocks line.

Press enter to continue, or ctrl-c to abort.



Now you must give information about your video card. This will be used for
the "Device" section of your video card in XF86Config.

You must indicate how much video memory you have. It is probably a good
idea to use the same approximate amount as that detected by the server you
intend to use. If you encounter problems that are due to the used server
not supporting the amount memory you have (e.g. ATI Mach64 is limited to
1024K with the SVGA server), specify the maximum amount supported by the
server.

How much video memory do you have on your video card:

 1  256K
 2  512K
 3  1024K
 4  2048K
 5  4096K
 6  Other

Enter your choice: 6

Amount of video memory in Kbytes: 8192

You must now enter a few identification/description strings, namely an
identifier, a vendor name, and a model name. Just pressing enter will fill
in default names (possibly from a card definition).

Your card definition is Matrox Millennium G200 8MB.

The strings are free-form, spaces are allowed.
Enter an identifier for your video card definition:</screen>

      <para>次にビデオモードを希望する解像度に設定します。
	一般的に 640x480, 800x600 および 1024x768 の解像度が実用的ですが、
	ビデオカードの性能、
	モニタサイズおよび目にやさしいかどうかなどに依存します。
	色数の選択については、
	カードが対応する最も高いモードを選んでください。</para>

      <screen>For each depth, a list of modes (resolutions) is defined. The default
resolution that the server will start-up with will be the first listed
mode that can be supported by the monitor and card.
Currently it is set to:

"640x480" "800x600" "1024x768" "1280x1024" for 8-bit
"640x480" "800x600" "1024x768" "1280x1024" for 16-bit
"640x480" "800x600" "1024x768" "1280x1024" for 24-bit

Modes that cannot be supported due to monitor or clock constraints will
be automatically skipped by the server.

 1  Change the modes for 8-bit (256 colors)
 2  Change the modes for 16-bit (32K/64K colors)
 3  Change the modes for 24-bit (24-bit color)
 4  The modes are OK, continue.

Enter your choice: 2

Select modes from the following list:

 1  "640x400"
 2  "640x480"
 3  "800x600"
 4  "1024x768"
 5  "1280x1024"
 6  "320x200"
 7  "320x240"
 8  "400x300"
 9  "1152x864"
 a  "1600x1200"
 b  "1800x1400"
 c  "512x384"

Please type the digits corresponding to the modes that you want to select.
For example, 432 selects "1024x768" "800x600" "640x480", with a
default mode of 1024x768.

Which modes? 432

You can have a virtual screen (desktop), which is screen area that is larger
than the physical screen and which is panned by moving the mouse to the edge
of the screen. If you don't want virtual desktop at a certain resolution,
you cannot have modes listed that are larger. Each color depth can have a
differently-sized virtual screen

Please answer the following question with either 'y' or 'n'.
Do you want a virtual screen that is larger than the physical screen? n



For each depth, a list of modes (resolutions) is defined. The default
resolution that the server will start-up with will be the first listed
mode that can be supported by the monitor and card.
Currently it is set to:

"640x480" "800x600" "1024x768" "1280x1024" for 8-bit
"1024x768" "800x600" "640x480" for 16-bit
"640x480" "800x600" "1024x768" "1280x1024" for 24-bit

Modes that cannot be supported due to monitor or clock constraints will
be automatically skipped by the server.

 1  Change the modes for 8-bit (256 colors)
 2  Change the modes for 16-bit (32K/64K colors)
 3  Change the modes for 24-bit (24-bit color)
 4  The modes are OK, continue.

Enter your choice: 4



Please specify which color depth you want to use by default:

  1  1 bit (monochrome)                                
  2  4 bits (16 colors)                                
  3  8 bits (256 colors)                               
  4  16 bits (65536 colors)                            
  5  24 bits (16 million colors)                       

Enter a number to choose the default depth.

4</screen>

      <para>最後に設定を保存する必要があります。
	設定の保存場所は必ず
	<filename>/etc/XF86Config</filename> にしてください。</para>

      <screen>I am going to write the XF86Config file now. Make sure you don't accidently
overwrite a previously configured one.

Shall I write it to /etc/X11/XF86Config? y</screen>

      <para>設定に失敗した場合には、
	以下のメッセージが表示された時に
	<guimenuitem>[ Yes ]</guimenuitem> を選択することで、
	再度設定を行うことができます。</para>

      <screen>          User Confirmation Requested
The XFree86 configuration process seems to have
failed.  Would you like to try again?

             [ Yes ]         No</screen>

      <para><application>XFree86</application> の設定が困難であれば、
	<guimenuitem>[ No ]</guimenuitem> を選択し、
	<keycap>Enter</keycap> を押して、インストールを先に進んでください。
	インストール後、<username>root</username> 権限で
	<command>xf86cfg -textmode</command> または、
	<command>xf86config</command> を実行すると、
	コマンドライン設定ユーティリティを使うことができます。
	<application>XFree86</application> を設定する別の方法が
	<xref linkend="x11"> で説明されています。
	もし、この時点で <application>XFree86</application> の設定をしないのであれば、
	次は package の選択のメニューとなります。</para>

      <para>デフォルトの設定では、ホットキーの組み合わせ
	<keycombo action='simul'>
	  <keycap>Ctrl</keycap><keycap>Alt</keycap>
	  <keycap>Backspace</keycap></keycombo>
	でサーバを終了できます。
	サーバの設定を間違った場合に実行することで、
	ハードウェアが傷つくことを防止します。</para>

      <para>ビデオモードの切り換えのデフォルトの設定では、
	ホットキーの組み合わせ
	<keycombo action='simul'>
	  <keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>+</keycap>
	</keycombo> もしくは
	<keycombo action='simul'>
	  <keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>-</keycap>
	</keycombo>
	により、X を起動した状態でモードを切り替えることができます。</para>

      <para>インストール後、<application>XFree86</application> を実行している時に、
	<application>xvidtune</application> を使って、
	高さ、幅、センタリングなど画面の調整を行うことができます。</para>

      <para>不適切な設定により、
	使用している装置が障害を受ける可能性があるという警告が表示されます。
	この点に注意し、自信がない場合には、設定をしないでください。
	そのかわり、モニタのコントロールを使って
	X Window の表示を調整してください。
	テキストモードに切り換えた際に画面がずれるかもしれませんが、
	装置が損傷することに比べれば良いでしょう。</para>

      <para>調整を行う前に、&man.xvidtune.1; マニュアルページを読んでください。</para>

      <para><application>XFree86</application> の設定後は、
	デフォルトのデスクトップの選択に続きます。</para>
    </sect2>

    <sect2 id="default-desktop">
      <title>デフォルトの X デスクトップの選択</title>

      <para>利用可能なウィンドウマネージャはたくさんあります。
	最も基本的な環境から、たくさんのソフトウェアからなるフルデスクトップ環境にわたります。
	いくつかのウィンドウマネージャは最小限のディスクスペースおよびメモリの使用量は低く、
	多くの機能を持つものはより多くの資源を必要とします。
	自分に最も合うものを決めるには、
	いくつかの環境を試してみることが最も良い方法です。
	Ports Collection もしくは packages
	として利用でき、インストール後に追加できます。</para>

      <para>最も人気のあるデスクトップのひとつをインストールするように選択し、
	デフォルトのデスクトップとして設定できます。
	ここで設定することで、インストール直後から利用できるようになります。</para>

      <figure id="x-desktop">
	<title>デフォルトのデスクトップの選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/desktop" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>矢印キーでデスクトップを選択して
	<keycap>Enter</keycap> を押してください。
	選択したデスクトップのインストールが進むでしょう。</para>
    </sect2>

    <sect2 id="packages">
    <title>Packages のインストール</title>

      <para>packages はコンパイル済みのバイナリで、
	ソフトウェアをインストールするのに便利な方法です。</para>

      <para>説明では、例としてひとつの package をインストールしますが、
	お望みであれば、ここで複数の package を追加してインストールすることもできます。
	インストール後は、<command>/stand/sysinstall</command> を使って
	package を追加できます。</para>

      <screen>                     User Confirmation Requested
 The FreeBSD package collection is a collection of hundreds of
 ready-to-run applications, from text editors to games to WEB servers
 and more. Would you like to browse the collection now? 

                            [ Yes ]   No</screen>

      <para><guimenuitem>[ Yes ]</guimenuitem> を選択して、
	<keycap>Enter</keycap> を押すと、
	Package を選択する画面が表示されます。</para>

      <figure id="package-category">
	<title>Package カテゴリの選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/pkg-cat" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para><guimenuitem>All</guimenuitem> を選ぶと、
	利用可能なすべての package が表示されます。
	もしくは、特定のカテゴリを選択することもできます。
	矢印キーで選択したいカテゴリをハイライトし、
	<keycap>Enter</keycap> を押してください</para>

      <para>選択したカテゴリで利用可能なすべての
	package のメニューが表示されます。</para>

      <figure id="package-select">
	<title>Packages の選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/pkg-sel" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>ここでは、<application>bash</application> シェルが選択されています。
	希望する数だけ package を選択し (ハイライトで表示されます)、
	<keycap>Space</keycap> キーを押して選択してください。
	それぞれの package の簡単な説明がスクリーン下の左端に表示されます。</para>

      <para><keycap>Tab</keycap> キーを押すと、最後に選択した package
	と &gui.ok;, &gui.cancel; で選択が切り替わります。</para>

      <para>インストールする package の選択が終わったら、
	<keycap>Tab</keycap> を一度押して &gui.ok; に切り替え、
	その後 <keycap>Enter</keycap> を押して
	Package 選択メニューに戻ってください。</para>

      <para>左右の矢印キーでも、&gui.ok; と &gui.cancel;
	切り替えることができます。
	この方法で &gui.ok; を選択することもできますので、
	その後、<keycap>Enter</keycap> を押して
	Package 選択メニューに戻ってください。</para>

      <figure id="package-install">
	<title>Packages のインストール</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/pkg-install" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>矢印キーで <guibutton>[ Install ]</guibutton> を選択し、
	<keycap>Enter</keycap> を押してください。
	その後、インストールする package の確認を行います。</para>

      <figure id="package-install-confirm">
	<title>Package のインストールの確認</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/pkg-confirm" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>&gui.ok; を選択し、<keycap>Enter</keycap> を押すと
	package のインストールが始まります。
	インストール中は、インストールのメッセージが表示されますので、
	エラーメッセージが表示されないかどうか注意してください。</para>

      <para>packages をインストールしたら、最後の設定に進みます。</para>
    </sect2>

    <sect2 id="addusers">
      <title>ユーザ/グループの追加</title>

      <para>システムに <username>root</username> でログインすることを避けるため、
	インストール時には、少なくとも一人のユーザを追加する必要があります。
	通常 root パーティッションの容量は小さいので、
	<username>root</username> 権限でアプリケーションを実行すると、
	すぐに消費してしまいます。</para>

      <screen>                     User Confirmation Requested
 Would you like to add any initial user accounts to the system? Adding
 at least one account for yourself at this stage is suggested since
 working as the "root" user is dangerous (it is easy to do things which
 adversely affect the entire system). 

                            [ Yes ]   No</screen>

      <para><guibutton>[ Yes ]</guibutton> を選択し、
	<keycap>Enter</keycap> を押して、ユーザを追加してください。</para>

      <figure id="add-user2">
	<title>User の選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/adduser1" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>矢印キーで <guimenuitem>User</guimenuitem> を選択して、
	<keycap>Enter</keycap> を押してください。</para>

      <figure id="add-user3">
	<title>ユーザ情報の入力</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/adduser2" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para><keycap>Tab</keycap> で項目を選択すると、
	必要とされる情報の入力を助けるため、
	スクリーンの下に以下の説明が表示されます。</para>

      <variablelist>
	<varlistentry>
	  <term>Login ID</term>

	  <listitem>
	    <para>新しいユーザのログインネーム (必須)</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>UID</term>
	
	  <listitem>
	    <para>新しいユーザの ID 番号
	    (空欄のままにすると、自動的に割り当てられます)</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Group</term>

	  <listitem>
	    <para>新しいユーザのログイングループ
	    (空欄のままにすると、自動的に割り当てられます)</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Password</term>

	  <listitem>
	    <para>このユーザのパスワード
	      (このフィールドは注意して入力してください!)</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Full name</term>

	  <listitem>
	    <para>ユーザのフルネーム (コメント)</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Member groups</term>

	  <listitem>
	    <para>このユーザの所属するグループについて
	      (すなわち、どのようなアクセス権を持つか)</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Home directory</term>

	  <listitem>
	    <para>ユーザのホームディレクトリ
	      (空欄にするとデフォルトで設定されます)</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Login shell</term>
	  <listitem>
	    <para>ユーザのログインシェル
	      (空欄にするとデフォルト (例 <filename>/bin/sh</filename>)
	      に設定されます。)</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para>ログインシェルは
	<filename>/bin/sh</filename> から、
	先ほど package でインストールした <application>bash</application>
	シェルを使うよう、<filename>/usr/local/bin/bash</filename>
	に変更されています。
	インストールされていないシェルを選ぶと、ログインできなくなりますので、
	インストールされていないシェルは選ばないでください。</para>

      <para>ユーザは、<groupname>root</groupname>
	権限を持つスーパユーザになることができる
	<groupname>wheel</groupname> グループにも追加されています。</para>

      <para>十分に記述したら、&gui.ok; を押して、
	User および Group 管理メニューを再び表示してください。</para>

      <figure id="add-user4">
	<title>ユーザおよびグループの管理を終了する</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/adduser3" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>特別に必要があれば、この時にグループを追加することもできます。
	または、インストールが終わってから
	<filename>/stand/sysinstall</filename> を利用してアクセスできます。
	</para>

      <para>ユーザを追加したら、矢印キーで、
	<guimenuitem>Exit</guimenuitem> を選択して、
	<keycap>Enter</keycap> を押して、次のインストール項目に進んでください。</para>
    </sect2>

    <sect2 id="rootpass">
      <title><username>root</username> パスワードの設定</title>

      <screen>                        Message
 Now you must set the system manager's password.  
 This is the password you'll use to log in as "root". 

                         [ OK ] 

               [ Press enter to continue ]</screen>

      <para><keycap>Enter</keycap> を押して、
	<username>root</username> パスワードを設定してください。</para>

      <para>パスワードは、正しく 2 回入力してください。
	言うまでもなく、パスワードを忘れたときのために、
	思い出す方法を用意しておいてください。</para>

      <screen>Changing local password for root. 
 New password : 
 Retype new password :</screen>

      <para>パスワードの入力に成功したら、インストールは次に進みます。</para>

    </sect2>

    <sect2 id="exit-inst">
      <title>インストールの終了</title>

      <para>さらに追加的なネットワークデバイスや他の設定を行う必要がある場合、
	この時点で行うこともできますし、インストールの後から
	<filename>/stand/sysinstall</filename>
	を用いて設定することもできます。</para>

      <screen>                     User Confirmation Requested
 Visit the general configuration menu for a chance to set any last
 options? 

                              Yes   [ No ]</screen>

      <para>方向キーで <guibutton>[ No ]</guibutton>を選択し、
	<keycap>Enter</keycap>
	を押すことでメインインストールメニューに戻ります。</para>

      <figure id="final-main">
	<title>インストールの終了</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mainexit" format="PNG">
	  </imageobject>
	</mediaobject>
      </figure>

      <para>方向キーで <guibutton>[X Exit Install]</guibutton>
	を選択し、<keycap>Enter</keycap>を押します。
	インストールを終了してもよいか確認を求められるでしょう。</para>

      <screen>                     User Confirmation Requested
 Are you sure you wish to exit? The system will reboot (be sure to  
 remove any floppies from the drives). 

                            [ Yes ]   No</screen>

      <para><guibutton>[ Yes ]</guibutton> を選択し、
	フロッピーから起動していたのなら抜き取ります。
	マシンが再起動し始めるまでは CDROM ドライブはロックされています。
	CDROM ドライブがアンロックされると、
	ドライブから (素早く) ディスクを取り出すことができます。</para>

      <para>システムは再起動するので、
	表示されるかもしれないすべてのエラーメッセージに注意してください。</para>
    </sect2>

    <sect2 id="freebsdboot">
      <title>FreeBSD のブート</title>

      <sect3 id="freebsdboot-i386">
        <title>i386 における FreeBSD のブート</title>

	<para>すべてがうまくいっていれば、画面上にメッセージがスクロールし、
	  ログインプロンプトが表示されるでしょう。<keycap>Scroll-Lock</keycap>
	  を押し、さらに <keycap>PgUp</keycap> および <keycap>PgDn</keycap>
	  キーを用いることで、メッセージの内容を見ることができます。
	  <keycap>Scroll-Lock</keycap>
	  をもう一度押すとプロンプトに戻ることができるでしょう。</para>

	<para>すべてのメッセージは (バッファの容量制限により)
	  表示されないかもしれませんが、
	  ログインの後にプロンプトからコマンドラインで <command>dmesg</command>
	  と入力することによってそれを見ることができます。</para>

	<para>インストールの際に設定したユーザ名
	  (この例の場合、<username>rpratt</username>)
	  とパスワードを用いてログインしてください。 
	  必要な時を除き <username>root</username>
	  としてログインすることは避けてください。</para>

	<para>典型的なブートメッセージ (バージョン情報は省略しています)</para>

	<screen>Copyright (c) 1992-2002 The FreeBSD Project. 
Copyright (c) 1979, 1980, 1983, 1986, 1988, 1989, 1991, 1992, 1993, 1994
        The Regents of the University of California. All rights reserved. 

Timecounter "i8254"  frequency 1193182 Hz
CPU: AMD-K6(tm) 3D processor (300.68-MHz 586-class CPU)
  Origin = "AuthenticAMD"  Id = 0x580  Stepping = 0
  Features=0x8001bf&lt;FPU,VME,DE,PSE,TSC,MSR,MCE,CX8,MMX&gt; 
  AMD Features=0x80000800&lt;SYSCALL,3DNow!&gt; 
real memory  = 268435456 (262144K bytes) 
config&gt; di sn0 
config&gt; di lnc0 
config&gt; di le0 
config&gt; di ie0 
config&gt; di fe0 
config&gt; di cs0 
config&gt; di bt0  
config&gt; di aic0 
config&gt; di aha0 
config&gt; di adv0 
config&gt; q 
avail memory = 256311296 (250304K bytes)
Preloaded elf kernel "kernel" at 0xc0491000. 
Preloaded userconfig_script "/boot/kernel.conf" at 0xc049109c. 
md0: Malloc disk 
Using $PIR table, 4 entries at 0xc00fde60
npx0: &lt;math processor&gt; on motherboard 
npx0: INT 16 interface 
pcib0: &lt;Host to PCI bridge&gt; on motherboard 
pci0: &lt;PCI bus&gt; on pcib0 
pcib1: &lt;VIA 82C598MVP (Apollo MVP3) PCI-PCI (AGP) bridge&gt; at device 1.0 on pci0 
pci1: &lt;PCI bus&gt; on pcib1 
pci1: &lt;Matrox MGA G200 AGP graphics accelerator&gt; at 0.0 irq 11 
isab0: &lt;VIA 82C586 PCI-ISA bridge&gt; at device 7.0 on pci0 
isa0: &lt;ISA bus&gt; on isab0 
atapci0: &lt;VIA 82C586 ATA33 controller&gt; port 0xe000-0xe00f at device 7.1 on pci0 
ata0: at 0x1f0 irq 14 on atapci0 
ata1: at 0x170 irq 15 on atapci0 
uhci0: &lt;VIA 83C572 USB controller&gt; port 0xe400-0xe41f irq 10 at device 7.2 on pci0 
usb0: &lt;VIA 83C572 USB controller&gt; on uhci0 
usb0: USB revision 1.0 
uhub0: VIA UHCI root hub, class 9/0, rev 1.00/1.00, addr 1 
uhub0: 2 ports with 2 removable, self powered 
chip1: &lt;VIA 82C586B ACPI interface&gt; at device 7.3 on pci0 
ed0: &lt;NE2000 PCI Ethernet (RealTek 8029)&gt; port 0xe800-0xe81f irq 9 at
device 10.0 on pci0 
ed0: address 52:54:05:de:73:1b, type NE2000 (16 bit) 
isa0: too many dependant configs (8) 
isa0: unexpected small tag 14 
fdc0: &lt;NEC 72065B or clone&gt; at port 0x3f0-0x3f5,0x3f7 irq 6 drq 2 on isa0
fdc0: FIFO enabled, 8 bytes threshold 
fd0: &lt;1440-KB 3.5" drive&gt; on fdc0 drive 0 
atkbdc0: &lt;keyboard controller (i8042)&gt; at port 0x60-0x64 on isa0 
atkbd0: &lt;AT Keyboard&gt; flags 0x1 irq 1 on atkbdc0 
kbd0 at atkbd0 
psm0: &lt;PS/2 Mouse&gt; irq 12 on atkbdc0 
psm0: model Generic PS/2 mouse, device ID 0 
vga0: &lt;Generic ISA VGA&gt; at port 0x3c0-0x3df iomem 0xa0000-0xbffff on isa0
sc0: &lt;System console&gt; at flags 0x1 on isa0 
sc0: VGA &lt;16 virtual consoles, flags=0x300&gt; 
sio0 at port 0x3f8-0x3ff irq 4 flags 0x10 on isa0 
sio0: type 16550A 
sio1 at port 0x2f8-0x2ff irq 3 on isa0 
sio1: type 16550A 
ppc0: &lt;Parallel port&gt; at port 0x378-0x37f irq 7 on isa0 
ppc0: SMC-like chipset (ECP/EPP/PS2/NIBBLE) in COMPATIBLE mode 
ppc0: FIFO with 16/16/15 bytes threshold 
ppbus0: IEEE1284 device found /NIBBLE
Probing for PnP devices on ppbus0: 
plip0: &lt;PLIP network interface&gt; on ppbus0 
lpt0: &lt;Printer&gt; on ppbus0 
lpt0: Interrupt-driven port 
ppi0: &lt;Parallel I/O&gt; on ppbus0
ad0: 8063MB &lt;IBM-DHEA-38451&gt; [16383/16/63] at ata0-master using UDMA33 
ad2: 8063MB &lt;IBM-DHEA-38451&gt; [16383/16/63] at ata1-master using UDMA33 
acd0: CDROM &lt;DELTA OTC-H101/ST3 F/W by OIPD&gt; at ata0-slave using PIO4 
Mounting root from ufs:/dev/ad0s1a 
swapon: adding /dev/ad0s1b as swap device 
Automatic boot in progress... 
/dev/ad0s1a: FILESYSTEM CLEAN; SKIPPING CHECKS 
/dev/ad0s1a: clean, 48752 free (552 frags, 6025 blocks, 0.9% fragmentation)
/dev/ad0s1f: FILESYSTEM CLEAN; SKIPPING CHECKS 
/dev/ad0s1f: clean, 128997 free (21 frags, 16122 blocks, 0.0% fragmentation)
/dev/ad0s1g: FILESYSTEM CLEAN; SKIPPING CHECKS
/dev/ad0s1g: clean, 3036299 free (43175 frags, 374073 blocks, 1.3% fragmentation)
/dev/ad0s1e: filesystem CLEAN; SKIPPING CHECKS 
/dev/ad0s1e: clean, 128193 free (17 frags, 16022 blocks, 0.0% fragmentation)
Doing initial network setup: hostname. 
ed0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST> mtu 1500
        inet 192.168.0.1 netmask 0xffffff00 broadcast 192.168.0.255
        inet6 fe80::5054::5ff::fede:731b%ed0 prefixlen 64 tentative scopeid 0x1
        ether 52:54:05:de:73:1b
lo0: flags=8049&lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; mtu 16384 
        inet6 fe80::1%lo0 prefixlen 64 scopeid 0x8 
        inet6 ::1 prefixlen 128 
        inet 127.0.0.1 netmask 0xff000000 
Additional routing options: IP gateway=YES TCP keepalive=YES
routing daemons:. 
additional daemons: syslogd. 
Doing additional network setup:. 
Starting final network daemons: creating ssh RSA host key 
Generating public/private rsa1 key pair.
Your identification has been saved in /etc/ssh/ssh_host_key. 
Your public key has been saved in /etc/ssh/ssh_host_key.pub. 
The key fingerprint is: 
cd:76:89:16:69:0e:d0:6e:f8:66:d0:07:26:3c:7e:2d root@k6-2.example.com
 creating ssh DSA host key 
Generating public/private dsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_dsa_key. 
Your public key has been saved in /etc/ssh/ssh_host_dsa_key.pub. 
The key fingerprint is: 
f9:a1:a9:47:c4:ad:f9:8d:52:b8:b8:ff:8c:ad:2d:e6 root@k6-2.example.com.
setting ELF ldconfig path: /usr/lib /usr/lib/compat /usr/X11R6/lib
/usr/local/lib 
a.out ldconfig path: /usr/lib/aout /usr/lib/compat/aout /usr/X11R6/lib/aout 
starting standard daemons: inetd cron sshd usbd sendmail.
Initial rc.i386 initialization:. 
rc.i386 configuring syscons: blank_time screensaver moused. 
Additional ABI support: linux. 
Local package initilization:. 
Additional TCP options:. 

FreeBSD/i386 (k6-2.example.com) (ttyv0)

login: rpratt 
Password:</screen>

	<para>低速なマシンでは、
	  RSA および DSA キーを作成するのに少々時間がかかるかもしれません。
	  これは初めてインストールした後に初めてブートする時だけ起こります。
	  その後のブートはより速くなるでしょう。</para>

	<para>X サーバが設定され、デフォルトデスクトップが選択されていた場合、
	  コマンドラインで <command>startx</command>
	  と入力することで起動することが可能です。</para>

      </sect3>

      <sect3>
	<title>Alpha における FreeBSD の起動</title>

	<indexterm><primary>Alpha</primary></indexterm>

	<para>一度インストール手続きを終えると、
	  SRM プロンプトに対して次のように入力することで FreeBSD
	  を起動することができるでしょう。</para>

	<screen>&gt;&gt;&gt;<userinput>BOOT DKC0</userinput></screen>

	<para>これは、
	  指定されたディスクをブートするようにファームウェアに命じます。
	  この後、FreeBSD が自動的にブートするようにするには、
	  これらのコマンドを用います。</para>

	<screen><prompt>&gt;&gt;&gt;</prompt> <userinput>SET BOOT_OSFLAGS A</userinput>
<prompt>&gt;&gt;&gt;</prompt> <userinput>SET BOOT_FILE ''</userinput>
<prompt>&gt;&gt;&gt;</prompt> <userinput>SET BOOTDEF_DEV DKC0</userinput>
<prompt>&gt;&gt;&gt;</prompt> <userinput>SET AUTO_ACTION BOOT</userinput></screen>

	<para>ブートメッセージは i386 上での FreeBSD
	  の起動によって作成されるものと似たもの (しかし同じではないもの)
	  となるでしょう。</para>
      </sect3>
    </sect2>

    <sect2 id="shutdown">
      <title>FreeBSD のシャットダウン</title>

      <para>オペレーティングシステムを適切にシャットダウンすることは重要です。
	ただ電源を落すということはしないでください。
	まず、コマンドラインから <command>su</command> と入力し、
	<username>root</username> パスワードを入力してスーパユーザとなります。
	これは <groupname>wheel</groupname>
	グループのメンバとなっているユーザだけが行うことができます。
	または <username>root</username> としてログインし、
	<command>shutdown -h now</command>
	を使用します。</para>

      <screen>The operating system has halted. 
Please press any key to reboot.</screen>

      <para>シャットダウンコマンドが実行され、
	<quote>Please press any key to reboot</quote>
	というメッセージが現れた後に電源を落すことは安全です。
	電源を落す代わりに何らかのキーが押された場合、
	システムはリブートするでしょう。</para>

      <para><keycombo action="simul"><keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>Del</keycap></keycombo>
	というキーの組合せを使ってシステムをリブートすることもできますが、
	通常の運用においてこれは推奨されません。</para>

    </sect2>
  </sect1>
  <sect1>
    <title>サポートされているハードウェア</title>

    <indexterm><primary>ハードウェア</primary></indexterm>
    <para>現在 FreeBSD は、ISA, VLB, EISA, PCI バスを搭載した
      Intel 社、AMD 社、NexGen 社の <quote>x86</quote> プロセッサ
      の PC で動作するのに加えて、Compaq 社の Alpha プロセッサを基本とした
      多数のコンピュータで動作します。
      一般的な IDE, ESDI ドライブコンフィギュレーション、さまざまな SCSI
      コントローラ、PCMCIA カード、USB デバイス、ネットワークカードや
      シリアルカードにも対応しています。FreeBSD は IBM の
      マイクロチャネル (MCA) バスもまたサポートしています。</para>

    <para>サポートされるハードウェアのリストは FreeBSD のリリースと一緒に
      FreeBSD ハードウェアノートとして提供されます。
      このドキュメントは通常 CDROM や FTP 配布の一番上のディレクトリや
      <application>sysinstall</application> のドキュメントメニューにある
      <filename>HARDWARE.TXT</filename> という名のファイルで見ることができます。
      アーキテクチャごとに用意されるそのリストは FreeBSD
      の各リリースでどのようなハードウェア装置がサポートされるかがわかります。
      リリースごと、およびアーキテクチャごとのハードウェアリストは、
      FreeBSD のウェブサイトの <ulink
      url="http://www.FreeBSD.org/ja/releases/index.html">リリース情報</ulink>
      のページにあります。</para>
  </sect1>

  <sect1 id="install-trouble">
    <title>トラブルシューティング</title>

    <indexterm>
      <primary>インストール</primary>
      <secondary>トラブルシューティング</secondary>
    </indexterm>
    <para>この節では、インストールの際の、これまで報告された共通の問題に対する解決のための情報が書いてあります。
      また、FreeBSD と MS-DOS のデュアルブートを行う際のいくつかの質問と回答も書いてあります。</para>

    <sect2>
      <title>なにかおかしいときには何をすればよいでしょうか</title>

      <para>PC アーキテクチャの様々な制限により、100% 確実に原因を突き止めることは不可能ですが、
        いくつか失敗した時に、できることがあります。</para>

      <para>あなたの FreeBSD のバージョンのハードウェアノートドキュメントを調べて、
        ハードウェアがサポートされているかどうか確認してください。</para>

      <para>もしハードウェアがサポートされているにもかかわらず、
        動作しなかったり他の問題点がある時は、コンピュータをリセットし、
        ビジュアルカーネルコンフィグレーションのオプションが現れたときにそれを選択してください。
        ここで設定することで、そのハードウェアをうまく認識するようにしたり、
        システムに対して情報を与えたりすることができます。
        起動ディスクのカーネルでは、ほとんどのハードウェアデバイスの IRQ、IOアドレス、
        DMA チャネルが工場出荷時の状態であると設定されています。
        もしハードウェアの設定が変更されていると、
        コンフィグレーションエディタを使用してこれらの値を設定しなければなりません。</para>

      <para>存在しないデバイスを認識してしまうことにより、
        その後実際に存在するデバイスの認識を失敗してしまうことがあります。
        このような場合は衝突しているドライバを無効にします。</para>

      <note>
        <para>いくつかのインストール上の問題は様々なハードウェア装置の、
          特にマザーボードのファームウェアのアップデートで回避または緩和することができます。
          マザーボードのファームウェアは <acronym>BIOS</acronym>
          と呼ばれることもあり、
          多くのマザーボードまたはコンピュータ製造メーカーはアップグレード情報を載せているウェブサイトを用意しています。</para>

        <para>多くの製造メーカーは、
          重要な更新のようなそれなりの理由がない限りマザーボードの
          <acronym>BIOS</acronym> のアップグレードは行わないよう強く推奨しています。
          アップデートの過程で失敗する<emphasis>かもしれず</emphasis>、
          <acronym>BIOS</acronym> チップに深刻なダメージを与える原因となり得るからです。</para>
        </note>

      <warning>
        <para>スクリーン (<devicename>sc0</devicename>)
      などの、インストールに必要なドライバを無効にしないでください。
      もし、コンフィグレーションエディタを終了したあと、
      インストーラが動かなくなったり、不思議な失敗をする場合は、
      削除したり変更してはいけないものを削除あるいは変更してしまった可能性があります。
      再起動してやり直してください。</para>
      </warning>

      <para>コンフィグレーションモードでは次のことができます:</para>

      <itemizedlist>
        <listitem>
          <para>カーネルにインストールされているドライバの一覧表示。</para>
        </listitem>

        <listitem>
          <para>システムに存在しないデバイスドライバを無効にする。</para>
        </listitem>

        <listitem>
          <para>デバイスドライバが使用する IRQ、DRQ、および IO ポートアドレスの変更。</para>
        </listitem>
      </itemizedlist>

      <para>カーネルをハードウェアの設定にあわせた後、<command>Q</command>
        と叩くことで、新しい設定で起動します。
        インストールが終了すると、コンフィグレーションモードで変更した設定は保存されますので、
        起動するたびに毎回設定する必要はありません。
        ただ、そのうちに<link linkend="kernelconfig">カスタムカーネル</link>
        を作りたくなるでしょう。</para>
    </sect2>

    <sect2>
      <title>MS-DOS ユーザの質問と回答</title>

      <indexterm><primary>DOS</primary></indexterm>
      <para>多くのユーザは、FreeBSD を MS-DOS が入っている PC にインストールしようとするでしょう。
        このようなシステムへの FreeBSD のインストールに関して、
        よく聞かれる質問が以下にあります。</para>

      <qandaset>
        <qandaentry>
	  <question>
	    <para>助けて! FreeBSD をインストールする容量がありません!
          まず始めにすべてを消去しなければならないのですか?</para>
	  </question>

	  <answer>
	    <para>あなたのマシンではすでに MS-DOS が動いていて、
          FreeBSD をインストールする容量がないとしても、
          すべての望みがなくなったわけではありません。
          FreeBSD CD-ROM や様々な FreeBSD の FTP サイトの <filename>tools</filename>
          ディレクトリにある <application>FIPS</application>
          ユーティリティを使うことができます。</para>

	    <indexterm>
        <primary><command>FIPS</command></primary>
      </indexterm>
	    <para><application>FIPS</application> を利用することで、
          すでにある MS-DOS パーティションを、もともとの内容を保存したままのパーティションと、
          何も入っていない FreeBSD をインストールすることのできるパーティションの2つに分割することができます。
          まず Windows のデフラグ (<application>DEFRAG</application>)
          ユーティリティ (エクスプローラー上でハードドライブを右クリックして、
          デフラグ (DEFRAG) を選択) か、ノートンディスクツールを使用して、
          MS-DOS 領域にデフラグメントを行ってください。
          それから <application>FIPS</application> を動かしてください。
          必要とする残りの情報をあなたに促します。
          その後、再起動して、新しい空けたスライスに FreeBSD
          をインストールすることができます。
	      あなたが行うインストール方法では、どの程度の空き容量が必要なのかということについては、
          <emphasis>Distributions</emphasis> メニューを見てください。</para>

	    <indexterm>
        <primary><application>Partition Magic</application></primary>
      </indexterm>
	    <para><ulink url="http://www.powerquest.com/">PowerQuest</ulink> 社の
          <application>Partition Magic</application> という <emphasis>とても</emphasis>
          便利な製品もまたあります。
          このアプリケーションは <application>FIPS</application> よりも優れた機能を持っていて、
          あなたが（私のように）よくオペレーティングシステムを追加したり、
          削除したりしようとしているのであれば、強く推奨します。
          しかし、このアプリケーションはお金がかかりますし、
          あなたが FreeBSD を一度インストールして、そのまま使用しようと考えているのであれば、
          <application>FIPS</application> がもっともよいでしょう。</para>
	  </answer>
	</qandaentry>

	<qandaentry>
	  <question>
	    <para>FreeBSD から圧縮された MS-DOS のファイルシステムを利用することができますか?</para>
	  </question>

	  <answer>
	    <para>できません。
	      <trademark class="trade">Stacker</trademark> や
	      <trademark class="trade">DoubleSpace</trademark>
	      などのユーティリティを使用している場合は、
	      FreeBSD からは圧縮していない部分しかあつかうことができません。
	      残りのファイルシステムは、1つの巨大なファイル (Stack された、または
	      Double Space された) として見えるでしょう。
	      <emphasis>このファイルを削除しないでください。
		さもないと強く後悔するでしょう!</emphasis></para>

	    <para>別の圧縮されていない標準 MS-DOS パーティションを作成して、
          MS-DOS と FreeBSD との間のやりとりに使うのがよいでしょう。</para>
	  </answer>
	</qandaentry>

	<qandaentry>
	  <question>
	    <para>拡張 MS-DOS パーティションをマウントすることができますか?</para>
	  </question>

	  <answer>
	    <indexterm><primary>partitions</primary></indexterm>
	    <indexterm><primary>slices</primary></indexterm>
	    <para>できます。DOS 拡張パーティションは FreeBSD では、
          <devicename>D:</devicename> ドライブは <filename>/dev/da0s5</filename>、
          <devicename>E:</devicename> ドライブは <filename>/dev/da0s6</filename>
          などといったように、その他の<quote>スライス</quote>の終わりに配置されます。
          これはもちろん、拡張パーティションが SCSI のドライブ 0 にある場合の例です。
          IDE ドライブでは、<filename>da</filename> の代わりに、
          4.0-RELEASE およびそれ以降の場合は <filename>ad</filename> を、
          それ以前のバージョンでは <filename>wd</filename> を使用してください。
          それ以外の点では、拡張パーティションをマウントする際も、
          他の DOS ドライブをマウントするときと同様に、次のようにします。</para>

	    <screen>&prompt.root; <userinput>mount -t msdos /dev/ad0s5 /dos_d</userinput></screen>
	  </answer>
	</qandaentry>
      </qandaset>
    </sect2>

    <sect2>
      <title>Alpha ユーザの質問と回答</title>

      <indexterm><primary>Alpha</primary></indexterm>

      <para>この節では Alpha システムに FreeBSD をインストールする際の
        よく聞かれる質問と回答があります。</para>

      <qandaset>
	<qandaentry>
	  <question>
	    <para>ARC または Alpha BIOS コンソールから起動することはできますか?</para>
	  </question>

	  <indexterm><primary>ARC</primary></indexterm>
	  <indexterm><primary>Alpha BIOS</primary></indexterm>
	  <indexterm><primary>SRM</primary></indexterm>

	  <answer>
	    <para>できません。&os; は Compaq Tru64 や VMS のように SRM コンソールからしか起動できません。</para>
	  </answer>
	</qandaentry>

	<qandaentry>
	  <question>
	    <para>助けて! FreeBSD をインストールする容量がありません!
        まずはじめに、すべてを消去しなければいけないのですか?</para>
	  </question>

	  <answer>
	    <para>不運にも、その通りです。</para>
	  </answer>
	</qandaentry>

	<qandaentry>
	  <question>
	    <para>Compaq Tru64 や VMS のファイルシステムをマウントすることができますか?</para>
	  </question>

	  <answer>
	    <para>いいえ、現時点ではできません。</para>
	  </answer>
	</qandaentry>
      </qandaset>
    </sect2>
  </sect1>

  <sect1 id="install-advanced">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Valentino</firstname>
	  <surname>Vaschetto</surname>
	  <contrib>Contributed by </contrib>
	</author>
	<!-- May 2001 -->
      </authorgroup>
    </sect1info>

    <title>高度なインストールガイド</title>

    <para>この節では特殊な状況での FreeBSD のインストール方法が記述してあります。</para>

    <sect2 id="headless-install">
      <title>FreeBSD をモニタやキーボードのないシステムにインストールする</title>

      <indexterm>
        <primary>installation</primary>
        <secondary>headless (serial console)</secondary>
      </indexterm>
      <indexterm><primary>serial console</primary></indexterm>
      <para>この形式のインストールは <quote>表示のないインストール</quote> と呼ばれます。
        なぜなら、FreeBSD をインストールしようとするマシンにモニタが接続されていないか、
        VGA 出力さえもっていないからです。
        どのようにすればよいでしょうか?
        シリアルコンソールを使ってください。
        シリアルコンソールは基本的に別のマシンをシステムの主ディスプレイやキーボードとして使います。
        これを行うには、次のようにしてください:</para>

      <procedure>
        <step>
          <title>正常なブートフロッピーイメージを入手する</title>

          <para>まず、インストールプログラムを起動できるように、
            正常なディスクイメージを入手する必要があります。
            シリアルコンソールを使う秘訣は、VGA デバイスへのコンソール出力表示や、
            ローカルキーボードからの入力読み込みの代わりに、
            シリアルポートを通して I/O を送ることをブートローダーに伝えることです。
            それらのディスクイメージを用意すれば十分です。</para>

	  <para><ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/&rel.current;-RELEASE/floppies/">floppies ディレクトリ</ulink>から
            <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/&rel.current;-RELEASE/floppies/kern.flp">kern.flp</ulink> と
            <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/&rel.current;-RELEASE/floppies/mfsroot.flp">mfsroot.flp</ulink>
            を入手する必要があります。</para>

        </step>
        <step>
	  <title>イメージファイルをフロッピーディスクに書き込む</title>

          <para><filename>kern.flp</filename> というようなイメージファイルは、
        ディスクにコピーする通常ファイル<emphasis>ではありません</emphasis>。
        これらはディスク全体の内容を含んだイメージファイルです。</para>

	  <para>したがって DOS の <command>copy</command> のようなコマンドを利用して、
        ファイルを書き込むことは<emphasis>できません</emphasis>。
        これには、イメージを直接ディスクに書き込む特別なツールを使用する必要があります。</para>
	  
	  <indexterm>
      <primary><command>fdimage</command></primary>
    </indexterm>
	  <para>もし DOS が動いているコンピュータ上でフロッピーを作成する場合は、
        わたしたちが提供する <command>fdimage</command> というツールを使用します。</para>

	  <para><devicename>E:</devicename> にある CDROM を利用して起動フロッピーを作成するには、
        次のようにします:</para>

	  <screen><prompt>E:\&gt;</prompt> <userinput>tools\fdimage floppies\kern.flp A:</userinput></screen>

	  <para>これをそれぞれの <filename>.flp</filename> ファイルに対して、
        毎回新しいフロッピーに入れ替えながら繰り返します。
        コマンドは <filename>.flp</filename> の存在する場所に応じて調整してください。
        もし CDROM を持っていない場合には、FreeBSD の FTP サイトの
        <ulink url="ftp://ftp.FreeBSD.org/pub/FreeBSD/tools/"><filename>tools</filename>
	    ディレクトリ</ulink>から <command>fdimage</command> をダウンロードすることができます。</para>

	  <para>(他の FreeBSD システムなどの) Unix システム上で起動フロッピーに書き込む場合は、
        &man.dd.1; コマンドが利用できます。
        FreeBSD 上なら、コマンドの実行は次のようになるでしょう:</para>

	  <screen>&prompt.root; <userinput>dd if=kern.flp of=/dev/fd0</userinput></screen>

	  <para>FreeBSD 上で <filename>/dev/fd0</filename> は、
        一台目のフロッピーディスク (<devicename>A:</devicename> ドライブ) を表し、
        <filename>/dev/fd1</filename> は同様に、二台目のフロッピーディスク
        (<devicename>B:</devicename> ドライブ) を表します。
        他の異なる Unix では、フロッピーディスクのデバイスに別の名前が使われているかもしれません。
        必要に応じて、それぞれのシステムに付属する文章を参照する必要があるでしょう。</para>

	  </step>

	  <step>
	    <title>ブートフロッピーのシリアルコンソールへの起動を有効にする</title>

            <warning>
              <para>ライトプロテクトされたフロッピーをマウントしようとしないでください。</para>
            </warning>

  	    <indexterm>
          <primary><command>mount</command></primary>
        </indexterm>
	    <para>作成したフロッピーで起動すると、FreeBSD は通常のインストールモードで起動します。
          インストールにシリアルコンソールを使って FreeBSD を起動したいので、
          <filename>kern.flp</filename> フロッピーを FreeBSD
          のシステムに &man.mount.8; コマンドを使ってマウントする必要があります。</para>

            <screen>&prompt.root; <userinput>mount /dev/fd0 /mnt</userinput></screen>

	    <para>フロッピーのマウントをおこなったら、フロッピーのディレクトリに移動してください。</para>

	    <screen>&prompt.root; <userinput>cd /mnt</userinput></screen>

	    <para>ここでフロッピーをシリアルコンソールを使って起動するように設定しなければなりません。
	      <quote>/boot/loader -h</quote> という文を含んだ <filename>boot.config</filename>
          というファイルを作成します。
          以上でシリアルコンソールを使って起動するフラグをブートローダーに設定することができます。</para>

	    <screen>&prompt.root; <userinput>echo "/boot/loader -h" > boot.config</userinput></screen>

	    <para>フロッピーを正しく設定することができたら、
          &man.umount.8; コマンドを使ってフロッピーをアンマウントしてください。</para>

            <screen>&prompt.root; <userinput>cd /</userinput>
&prompt.root; <userinput>umount /mnt</userinput></screen>

	    <para>そしてフロッピードライブからフロッピーディスクを取り出してください。</para>
	  </step>

	  <step>
	    <title>ヌルモデムケーブルの接続</title>

  	    <indexterm><primary>ヌルモデムケーブル</primary></indexterm>
	    <para>2つのマシン間をヌルモデムケーブルで接続する必要があります。
          ケーブルで2つのマシンのシリアルポート同士をつなげてください。
          <emphasis>普通のシリアルケーブルはここでは使えません。</emphasis>
          内部配線のいくつかがクロスされたヌルモデムケーブルが必要です。</para>
	  </step>

	  <step>
	    <title>インストールのために起動</title>

	    <para>いよいよインストールを開始します。
          <filename>kern.flp</filename> フロッピーを、画面のない、
          インストールを行おうとしているマシンのフロッピードライブに挿入し、
          電源を投入してください。</para>
	  </step>

	  <step>
	    <title>画面がないマシンへの接続</title>
	    <indexterm>
        <primary><command>cu</command></primary>
      </indexterm>
	    <para>&man.cu.1; でインストールを行いたいマシンに接続してください:</para> 

	    <screen>&prompt.root; <userinput>cu -l /dev/cuaa0</userinput></screen>
	  </step>
      </procedure>

      <para>できました!
        <command>cu</command> のセッションを通して画面がないマシンを操作することができます。
        インストーラが <filename>mfsroot.flp</filename>
        を挿入するように要求し、
        その後どの種類の端末を使うか選ぶよう問われます。
        FreeBSD カラーコンソールを選んでインストールを続行してください!</para>

    </sect2>
  </sect1>

  <sect1 id="install-diff-media">
    <title>自分のインストールメディアの準備</title>

    <note>
      <para>省略のため、以下において <quote>FreeBSD ディスク</quote>というのは、
    あなたが購入、もしくは自分で作成した
    FreeBSD の CDROM または DVD のことを意味することにします。</para>
    </note>

    <para>自分の FreeBSD インストールのメディアと (または)
      原型を作らなければならない場合があるかもしれません。
      これは磁気テープや、ローカル FTP サイトまたは MS-DOS
      パーティションのような <application>Sysinstall</application>
      がファイルを読めるリソースといった、物理的なメディアでしょう。
      例えば、以下のような状況です。</para>

    <itemizedlist>
      <listitem>
	<para>ローカルネットワークに繋がったたくさんのマシンと、
      1つの FreeBSD ディスクがあるとします。
      FreeBSD ディスクの内容を使ってローカル FTP サイトを作成し、
      インターネットに接続する必要の代わりにこのローカル FTP
      サイトを使うようにします。</para>
      </listitem>

      <listitem>
	<para>FreeBSD ディスクを持っていて、FreeBSD はあなたの
      CD/DVD ドライブを認識できないが、
      DOS/Windows はそれができるとします。
      コンピュータ上の DOS パーティションに FreeBSD
      のインストールファイルをコピーして、FreeBSD
      のインストールにこれらのファイルを使います。</para>
      </listitem>

      <listitem>
	<para>インストールを行いたいコンピュータが CD/DVD
      ドライブやネットワークカードを搭載してなくても、
      <quote>Laplink スタイルの</quote>シリアルまたはパラレルケーブルで、
      そのコンピュータに接続できます。</para>
      </listitem>

      <listitem>
	<para>FreeBSD のインストールに使える磁気テープを作成します。</para>
      </listitem>
    </itemizedlist>

    <sect2 id="install-cdrom">
      <title>インストール CDROM の作成</title>

      <para>FreeBSD プロジェクトは、それぞれのリリースに対して
	5 つの CDROM イメージ (<quote>ISO イメージ</quote>) を用意しています。
	CD ライタを持っているのであれば、イメージを CD に書き込む
	(<quote>焼く</quote>) ことができ、
	それを使って FreeBSD をインストールできます。
	CD ライタを持っていて、バンド幅を安く利用できるのであれば、
	これが FreeBSD をインストールする最も簡単な方法です。</para>

      <procedure>
	<step>
	  <title>適切な ISO イメージのダウンロード</title>

	  <para>それぞれのリリースの ISO イメージは、
	    <filename>ftp://ftp.FreeBSD.org/pub/FreeBSD/ISO-IMAGES-<replaceable>arch</replaceable>/<replaceable>version</replaceable></filename>
	    もしくは近くのミラーからダウンロードできます。
	    ここで、<replaceable>arch</replaceable> と
	    <replaceable>version</replaceable> の部分は適切なものに置き換えてください。</para>

	  <para>通常、このディレクトリには以下のイメージが置いてあります。</para>

	  <table frame="none">
	    <title>FreeBSD ISO イメージの名前と内容</title>

	    <tgroup cols="2">
	      <thead>
		<row>
		  <entry>ファイル名</entry>

		  <entry>内容</entry>
		</row>
	      </thead>

	      <tbody>
		<row>
		  <entry><filename><replaceable>version</replaceable>-mini.iso</filename></entry>
		  
		  <entry>FreeBSD のインストールに必要なものすべて</entry>
		</row>

		<row>
		  <entry><filename><replaceable>version</replaceable>-disc1.iso</filename></entry>

		  <entry>FreeBSD のインストールに必要なものすべてと、
		    ディスクに収まる容量の追加のサードパーティ製
		    package が含まれています。</entry>
		</row>

		<row>
		  <entry><filename><replaceable>version</replaceable>-disc2.iso</filename></entry>

		  <entry><quote>live filesystem</quote>。
		    <application>Sysinstall</application> の
		    <quote>修復</quote> 機能と組み合わせて使います。
		    FreeBSD CVS ツリーのコピー。
		    ディスクに収まる容量の追加のサードパーティ製
		    package が含まれています。</entry>
		</row>

		<row>
		  <entry><filename><replaceable>version</replaceable>-disc3.iso</filename></entry>

		  <entry>ディスクに収まる容量の追加のサードパーティ製
		    package が含まれています。</entry>
		</row>

		<row>
		  <entry><filename><replaceable>version</replaceable>-disc4.iso</filename></entry>

		  <entry>ディスクに収まる容量の追加のサードパーティ製
		    package が含まれています。</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </table>

	  <note>
	    <para>mini ISO は FreeBSD&nbsp;4.4 リリースから用意されました。
	      discs 2, 3 および 4 のイメージは 
	      FreeBSD&nbsp;4.5 リリースから用意されました。</para>
	  </note>

	  <para>mini ISO イメージまたは disc 1 のイメージのどちらかをダウンロード
	    <emphasis>しなければ</emphasis> なりません。
	    disc 1 には、mini ISO イメージに含まれているものはすべて含まれているので、
	    両方をダウンロードする必要はありません。</para>

	  <para>インターネットへのアクセスが安く利用できるのであれば、
	    mini ISO を使ってください。
	    FreeBSD をインストールし、その後必要であれば、
	    ports/packages システム (<xref linkend="ports"> をご覧ください)
	    を用いてサードパーティ製の package
	    をダウンロードし、インストールできます。</para>

	  <para>サードパーティ製の package をディスク上から利用したいのであれば、
	    disc 1 を使ってください。</para>

	  <para>その他の追加のディスクイメージも有用ですが、
	    インターネットへのアクセスが高速の環境では、
	    必須ではありません。</para>
	</step>

	<step>
	  <title>イメージを CD へ書き込む</title>

	  <para>次に、CD イメージをディスクに書き込んでください。
	    他の FreeBSD システム上で書き込みを行う場合には、
	    <xref linkend="creating-cds"> 
	    (特に、<xref linkend="burncd"> および
	    <xref linkend="cdrecord">) を読んで、
	    より詳しい情報を得てください。</para>

	  <para>他のプラットフォーム上で書き込みを行う場合には、
	    そのシステムにインストールされている CD
	    ライタ用のユーティリティを利用してください。</para>
	</step>
      </procedure>
    </sect2>

    <sect2 id="install-ftp">
      <title>FreeBSD ディスクを使ったローカル FTP サイトの作成</title>
	
      <indexterm>
	<primary>installation</primary>
	<secondary>network</secondary>
	<tertiary>FTP</tertiary>
      </indexterm>

      <para>FreeBSD のディスクは FTP サイトと同じ配置がなされています。
    これは FreeBSD をインストールする時において、
    ネットワーク上の他のマシンが使うことのできるローカルな FTP
    サイトを簡単に構築できることをあらわしています。</para>

      <procedure>
	<step>
	  <para>FTP サイトのホストとなる FreeBD のコンピュータには、
        CDROM をドライブに入れ <filename>/cdrom</filename>
        にマウントしてください。</para>

	  <screen>&prompt.root; <userinput>mount /cdrom</userinput></screen>
	</step>

	<step>
	  <para>アノニマウス FTP のアカウントを <filename>/etc/passwd</filename>
        に作成してください。
        <filename>/etc/passwd</filename> の編集には &man.vipw.8;
        を使用して次の行を加えてください。</para>

	  <programlisting>ftp:*:99:99::0:0:FTP:/cdrom:/nonexistent</programlisting>
	</step>

	<step>
	  <para>FTP サービスを請け負うために
	    <filename>/etc/inetd.conf</filename> で有効にしてください。</para>
	</step>
      </procedure>

      <para>あなたのマシンにネットワークで繋がっているどのマシンも、
    インストール時にメディアタイプで FTP を選択し、
    FTP サイトメニューで <quote>Other</quote>を選んだ後
    <userinput>ftp://<replaceable>your machine</replaceable></userinput>
    と打ち込むことができます。</para>

      <warning>
	<para>この方法はローカルネットワーク上の、
      ファイヤーウォールで保護されたマシンに有用です。
      インターネットを介した (ローカルネットワークではない)
      他のマシンに FTP サービスを提供することは、
      あなたのマシンをクラッカーやその他好ましくない状況にさらします。
      この方法を用いるときにはセキュリティの状態に注意することを
      強く提言します。</para>
      </warning>
    </sect2>

      <sect2>
        <title>インストールフロッピーの作成</title>

      <indexterm>
	<primary>installation</primary>
	<secondary>floppies</secondary>
      </indexterm>

      <para>あなたがフロッピーディスクからのインストールをしなければならない場合
    (私たちはこの方法を<emphasis>とらない</emphasis>ことを提案します)、
    その理由はハードウェアがサポートされてなかったためか、
    単にいばらの道を通ることを楽しんでいるからでしょうが、
    インストール用のフロッピーディスクを用意する必要があります。</para>

	<para>最低でも <filename>bin</filename> ディレクトリ内のすべてのファイルをいれられるだけの
      1.44&nbsp;MB か 1.2&nbsp;MB のフロッピーディスクが必要です。
      これらのフロッピーを DOS で作成している場合は、
      フロッピーディスクは MS-DOS の <command>FORMAT</command>
      コマンドで初期化<emphasis>されなくてはなりません</emphasis>。
      Windows をお使いの場合には、Windows
      のエクスプローラーを使用してディスクを初期化してください
      (<devicename>A:</devicename> ドライブを右クリックして、
      &quot;フォーマット&quot;を選択します)。</para>

	<para>工場での初期化済みディスクを信用<emphasis>しないでください</emphasis>。
      念のため自分でフォーマットし直してください。
      ユーザからのトラブル報告の多くはきちんとフォーマットされていないディスクを使用したことが原因となっています。
      フォーマットし直してくださいと述べているのは、
      こういった理由からです。</para>

	<para>他の FreeBSD マシンでフロッピーディスクを作成している場合、
      フォーマットすることは悪いことではありません。
      いちいち DOS ファイルシステムのフロッピーディスクを作成する必要はありませんので、
      <command>disklabel</command> コマンドと <command>newfs</command> コマンドを使って、
      次のような手順で (3.5 インチ 1.44&nbsp;MB ディスク用の)
      UFS ファイルシステムを作成することもできます:</para>

	<screen>&prompt.root; <userinput>fdformat -f 1440 fd0.1440</userinput>
&prompt.root; <userinput>disklabel -w -r fd0.1440 floppy3</userinput>
&prompt.root; <userinput>newfs -t 2 -u 18 -l 1 -i 65536 /dev/fd0</userinput></screen>

	<note>
	  <para>5.25 インチの 1.2&nbsp;MB ディスクの場合は
        <literal>fd0.1200</literal> と
        <literal>floppy5</literal> にしてください。</para>
	</note>

	<para>これで他のファイルシステムと同様に
      mount して書き込むことができます。</para>

	<para>フォーマットされたフロッピーディスクを用意したら、
      それらにファイルをコピーしなくてはなりません。
      配布ファイルはいくつかのかたまりにわかれていて、
      これらかたまり 5 つで一般的な 1.44&nbsp;MB のフロッピーに収まるようになっています。
      フロッピーディスクに入るだけファイルを入れていって、
      配布ファイルをすべてコピーしてください。
      それぞれの配布ファイルはサブディレクトリにコピーする必要があります。
      たとえば、 <filename>a:\bin\bin.aa</filename> 、
      <filename>a:\bin\bin.ab</filename> のようになります。</para>

	<para>インストールメディアの選択場面になったら、
      <quote>Floppy</quote> を選択して、残りの指定を行ってください。</para>
      </sect2>

      <sect2 id="install-msdos">
        <title>MS-DOS パーティションからのインストール</title>

	<indexterm>
    <primary>installation</primary>
    <secondary>from MS-DOS</secondary>
  </indexterm>
	<para>ハードディスクの MS-DOS パーティションからインストールするときには、
      配布ファイルを例えば <filename>c:\freebsd</filename>
      などとしてそのパーティションのルートディレクトリの
      <filename>freebsd</filename> ディレクトリにコピーします。
      CDROM や FTP サイトにあるディレクトリ構造を反映してコピーしなければなりません。
      そこで CD からコピーする場合には DOS の <command>xcopy</command>
      コマンドの使用をおすすめします。
      例えば、最低限の FreeBSD のインストールを行うには、
      次のように準備します:</para>

	<screen><prompt>C:\&gt;</prompt> <userinput>md c:\freebsd</userinput>
<prompt>C:\&gt;</prompt> <userinput>xcopy e:\bin c:\freebsd\bin\ /s</userinput>
<prompt>C:\&gt;</prompt> <userinput>xcopy e:\manpages c:\freebsd\manpages\ /s</userinput></screen>

	<para>ここで <devicename>C:</devicename> ドライブには十分な空き容量があり、
      CDROM は <devicename>E:</devicename> ドライブに接続されているものとします。</para>
	
	<para>CDROM ドライブを持っていない場合には、 <ulink
	url="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/&rel.current;-RELEASE/">
	ftp.FreeBSD.org</ulink>
    から配布ファイルをダウンロードすることができます。
    それぞれの配布ファイルは独自のディレクトリに入っています。
    例えば、 <emphasis>bin</emphasis> 配布ファイルは <ulink
	url="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/&rel.current;-RELEASE/bin/">&rel.current;/bin/</ulink>
    ディレクトリにあります。</para>
    
	<para>MS-DOS パーティションからたくさんの配布ファイルをインストールしたい
      (そしてディスクの容量がある) 場合、
      それぞれ <filename>c:\freebsd</filename>
      ディレクトリ以下にインストールします。
      &mdash; <literal>BIN</literal>
      配布ファイルは、最低限必要なものです。</para>
      </sect2>

      <sect2>
        <title>インストールテープの作成</title>

	<indexterm>
    <primary>installation</primary>
    <secondary>from QIC/SCSI Tape</secondary>
  </indexterm>
	<para>テープからのインストールはおそらく FTP
      を利用したオンラインインストールか
      CDROM インストールを除けばもっとも簡単な方法でしょう。
      インストールプログラムはファイルが単純に tar
      されていることを期待します。
      必要な配布ファイルをすべて用意したら、
      それらをテープ上に単純に tar します。</para>

	<screen>&prompt.root; <userinput>cd /freebsd/distdir</userinput>
&prompt.root; <userinput>tar cvf /dev/rwt0 dist1 ... dist2</userinput></screen>

	<para>インストールを行う際、
      一時使用ディレクトリに十分な空きスペースを確保して、
      作成したテープの<emphasis>すべての</emphasis>ファイルを格納できることを確認してください
      (一時使用ディレクトリは自分で選ぶことができます)。
      テープの特性上、ランダムアクセスすることができませんので、
      一時的にきわめて大量の容量を必要とします。
      テープに準備しただけの量のスペースを一時的に使用することに留意してください。</para>

	<note>
	  <para>インストールを始める時には、
        起動フロッピーから立ち上げる<emphasis>前に</emphasis>テープをドライブにいれておかなくてはなりません。
        さもないとインストール時のデバイス検出時にドライブを見つけられません。</para>
	</note>
      </sect2>

      <sect2>
        <title>ネットワーク経由のインストールの前に</title>

	<indexterm>
    <primary>installation</primary>
    <secondary>network</secondary>
    <tertiary>serial (SLIP or PPP)</tertiary>
  </indexterm>
	<indexterm>
    <primary>installation</primary>
    <secondary>network</secondary>
    <tertiary>parallel (PLIP)</tertiary>
  </indexterm>
	<indexterm>
    <primary>installation</primary>
    <secondary>network</secondary>
    <tertiary>Ethernet</tertiary>
  </indexterm>
	<para>3種類のネットワークインストールを行うことができます。
      シリアルポート (SLIP または PPP)、
      パラレルポート (PLIP (laplink ケーブル使用) )、
      またはイーサネット (標準的なイーサネットコントローラ
      (いくつかの PCMCIA カードにも対応) )
      を使用することができます。</para>

	<para>SLIP のサポートはまだまだ原始的とも呼べる方法なので、
      ラップトップと他のコンピュータをシリアルケーブルで接続するといった具合に、
      直接接続しなくてはいけません。
      SLIP インストールは、ダイヤル機能をもっていませんので、
      インストールするには直接接続しなくてはなりません。
      PPP インストールではダイヤルアップ可能ですので、
      できれば PPP 接続の方を選択しましょう。</para>

	<para>もしモデムを使用しているなら、
      残された選択肢はほぼ間違いなく PPP でしょう。
      早く正しくインストールするのに必要となりますので、
      サービスプロバイダに関する情報を用意しておきましょう。</para>

	  <para>もし ISP に接続するのに PAP や CHAP
      を用いるなら (言い換えると、もし Windows で ISP
      に接続する時にスクリプトを使用していないのであれば)、
      <command>dial</command> と <application>ppp</application>
      のプロンプトに対して入力するだけでいいです。
      それ以外の場合、モデム固有の <quote>AT コマンド</quote>を使って
      ISP にダイヤルする方法を知っておく必要があります。
      これで PPP ダイヤラはとてもシンプルな端末エミュレータのみを提供します。
      これ以上の情報については <link linkend="userppp">handbook</link>
      や <ulink url="../faq/ppp.html">FAQ</ulink> のユーザー
      PPP エントリーを参照してください。
      問題が起きた場合には <command>set log local ...</command>
      コマンドを用いてログを画面に吐くこともできます。</para>

	<para>FreeBSD (2.0R 以降) の動いている別のマシンと直接接続が可能でしたら、
      <quote>laplink</quote> パラレルポートケーブルを介してインストールすることもまた考えてみましょう。
      パラレルポート経由のデータ転送スピードは、
      シリアルラインでの一般的なスピード (最高 50&nbsp;kbytes/sec)
      よりもずっと高速なので、より早くインストールすることができます。</para>

	<para>最後に、ネットワークインストールのうちもっとも高速なものとして、
      イーサネットアダプタがいつもよい選択となります。
      FreeBSD はきわめて多くの PC イーサネットカードをサポートしています。
      サポートされているカードの一覧 (と、必要な設定) は
      FreeBSD それぞれのリリースのハードウェアノートで提供されます。
      サポートされている PCMCIA イーサネットカードを使う場合、
      ラップトップの電源を入れる<emphasis>前に</emphasis>差し込んでおくことにも注意してください。
      残念ながら、今の FreeBSD はインストール時の PCMCIA
      カードの活線挿抜には対応していません。</para>

	<para>ネットワークでの IP アドレス、
      アドレスクラスに対応したネットマスク、
      マシン名を知っておくことも必要です。
      PPP 接続を利用したインストールを行いたいが、
      固定 IP アドレスを持っていないという場合は、
      ISP が自動的に IP アドレスを割り当てます。
      ネットワーク管理者に尋ねればどんな値を使ったらよいか教えてくれるでしょう。
      もし他のホストを IP アドレスではなく名前で引きたい場合、
      ネームサーバと、それを使うためのゲートウェイのアドレス
      (PPP をご使用の場合は、プロバイダの IP アドレスになります)
      も知らなくてはなりません。
      HTTP プロクシ (下記参照) 経由で FTP インストールを行いたい場合には、
      プロクシサーバのアドレスも必要となります。
      これらのうちすべて、またはいくつかを知らない場合には、
      イーサネット経由でのインストールを始める<emphasis>前に</emphasis>、
      ネットワーク管理者か ISP に相談するべきでしょう。</para>

	<sect3>
	  <title>NFS 経由のインストールの前に</title>

    <indexterm>
      <primary>installation</primary>
      <secondary>network</secondary>
      <tertiary>NFS</tertiary>
    </indexterm>
	  <para>NFS インストールはまったく単純明快です。
        FreeBSD の配布ファイルをサーバの好きな場所にコピーしておいて、
        メディア選択で NFS を選択します。</para>

	  <para>もしサーバが<quote>特権ポート</quote>へのアクセスのみをサポートしている場合、
        (Sun ワークステーションの標準はこうなっています)
        インストールを進める前に Options メニューを選択して、
        <quote>privileged port</quote> オプションを選択してください。</para>

	  <para>イーサネットカードの性能が悪くて、
        転送速度が遅くて困っている場合も、
        適当な Option を選択するといいでしょう。</para>

	  <para>NFS 経由でインストールするためには、
        サブディレクトリも含んだマウントにサーバが対応している必要があります。
        例えば FreeBSD&nbsp;3.4 の配布ファイルが
        <filename>ziggy:/usr/archive/stuff/FreeBSD</filename>
        にあるとすると、マシン <hostid>ziggy</hostid> では
        <filename>/usr</filename> や <filename>/usr/archive/stuff</filename>
        だけでなく <filename>/usr/archive/stuff/FreeBSD</filename>
        の直接マウントが可能になっていなければなりません。</para>

	  <para>FreeBSD の <filename>/etc/exports</filename>
        ファイルでは、このことは <option>-alldirs</option>
        オプションによって制御されています。
        他の NFS サーバの場合だとまた話が違ってくるかもしれません。
        もしサーバから <quote>permission denied</quote>
        が返ってくるようでしたら、
        サブディレクトリマウントをちゃんと有効にできていないことが考えられます。</para>
	</sect3>

      </sect2>
  </sect1>
</chapter>

<!-- 
     Local Variables:
     mode: sgml
     sgml-declaration: "../chapter.decl"
     sgml-indent-data: t
     sgml-omittag: nil
     sgml-always-quote-attributes: t
     sgml-parent-document: ("../book.sgml" "part" "chapter")
     End:
-->
