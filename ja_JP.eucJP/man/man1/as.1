.\" Copyright (c) 1991, 1992 Free Software Foundation
.\" See section COPYING for conditions for redistribution
.TH as 1 "21 January 1992" "cygnus support" "GNU Development Tools"
.\" jpman %Id: as.1,v 1.3 1997/10/11 07:37:12 horikawa Stab %

.SH 名称
GNU as \- ポータブル GNU アセンブラ

.SH 書式
.na
.B as
.RB "[\|" \-a "\||\|" \-al "\||\|" -as\c
\&\|]
.RB "[\|" \-D "\|]"
.RB "[\|" \-f "\|]"
.RB "[\|" \-I
.I path\c
\&\|]
.RB "[\|" \-k "\|]"
.RB "[\|" \-K "\|]"
.RB "[\|" \-L "\|]"
.RB "[\|" \-o 
.I objfile\c
\&\|]
.RB "[\|" \-R "\|]"
.RB "[\|" \-v "\|]"
.RB "[\|" \-w "\|]"
.RB "[\|" \-\^\- "\ |\ " \c
.I files\c
\&\|.\|.\|.\|]

.I i960 だけにあるオプション:
.br
.RB "[\|" \-ACA "\||\|" \-ACA_A "\||\|" \-ACB\c
.RB "\||\|" \-ACC "\||\|" \-AKA "\||\|" \-AKB\c
.RB "\||\|" \-AKC "\||\|" \-AMC "\|]"
.RB "[\|" \-b "\|]"
.RB "[\|" \-norelax "\|]"

.I m680x0 だけにあるオプション:
.br
.RB "[\|" \-l "\|]"
.RB "[\|" \-mc68000 "\||\|" \-mc68010 "\||\|" \-mc68020 "\|]"
.ad b

.SH 解説
GNU \c
.B as\c
\& とは、実は一連のアセンブラのことです。
もしあるアーキテクチャで GNU アセンブラを使う (もしくは、使った
ことがある) ならば、他のアーキテクチャで使う時もかなり似た環境となり
ます。それぞれのバージョンは他のバージョンと共通の部分が多くあります。
例えば、オブジェクトファイルフォーマットや
ほとんどのアセンブラディレクティブ (
\c
.I 疑似命令(pseudo-ops)
とも呼ばれます)\c
\& 、アセンブラシンタクスなどです。

GNU \c
.B as\c
のシンタクスや疑似命令(pseudo-ops)に関する情報については、
.B info \c
(もしくは、マニュアル \c
.I
.I
Using as: The GNU Assembler\c
\&)
の
\& `\|\c
.B as\c
\|' の項を参照してください。

\c
.B as\c
\& が作られた第一の目的は、GNU C コンパイラ \c
.B gcc\c
\& の出力をリンカ
.B ld\c
\& で使用できるようアセンブルすることです。
確かに、
.B as\c
\& が、
ネイティブアセンブラがアセンブルできるものはすべて
正しくアセンブルできるようにしようとしてきました。
このことは、\c
.B as\c
\& の用いるシンタクスが、
同一アーキテクチャの他のアセンブラと同じである、
ということを意味するものではありません。
たとえば、680x0 のアセンブラ言語
のシンタクスには互換性のないバージョンが存在することが知られてい
ます。

.B as\c
\& の起動 1 回ごとに、ちょうどひとつのソースプログラムだけをアセンブルします。
ソースプログラムはひとつ以上のファイルから構成されます。
(標準入力もファイルひとつとみなします。)

もし \c
.B as\c
\& にファイル名が指定されなければ、ひとつの入力ファイルが \c
.B as\c
\& の標準入力 (ふつうは端末) から読み出されます。\c
.B ctl-D\c
\& をタイプすることで、これ以上アセンブルするプログラムが存在しないこと
を \c
.B as\c
\& に通知します。
コマンドライン上で明示的に標準入力を指定する必要のある時は、`\|\c
.B \-\^\-\c
\|' を使ってください。

.B as\c
\& は、警告およびエラーメッセージを標準エラー出力 (通常は端末) 
へ出力します。\c
.B as\c
\& が
コンパイラによって自動起動された場合は、この限りではありません。
警告とは、欠陥のあるプログラムのアセンブルを続行するために \c
.B as\c
\& が仮定した内容を報告したものです。
エラーは、アセンブルを続行できない重大な問題を表します。

.SH オプション
.TP
.BR \-a \||\| \-al \||\| \-as
アセンブル時のリスト出力を行ないます。`\|\c
.B \-al\c
\&\|'はリスト出力のみ、`\|\c
.B \-as\c
\&\|'はシンボル出力のみ、
`\|\c
.B \-a\c
\&\|'は両方の出力を行ないます。
.TP
.B \-D
このオプションは、他のアセンブラ呼び出しとの互換のために用意され
たものであり、 \c
.B as\c
\& では何の効果もありません。
.TP
.B \-f
``高速 (fast)''オプションです--プリプロセシングを行ないません (ソースはコンパ
イラの出力したものとみなします)。
.TP
.BI "\-I\ " path
.I path
を
.B .include
ディレクティブの検索リストに追加します。
.TP
.B \-k
gcc -fpic によって作成された、位置独立なコードを処理します。
.TP
.B \-k
gcc -fPIC によって作成された、位置独立なコードを処理します。
ふつうは -k オプションと同じことです。
.TP
.B \-L
`\|\c
.B L\c
\|' から始まるローカルシンボルを (シンボルテーブル内に) 保持します。
.TP
.BI "\-o\ " objfile
.B as
が出力するオブジェクトファイル名を指定します。
.TP
.B \-R
データセクションをテキストセクション内に押し込みます。
.TP
.B \-v
.B as\c
\& のバージョンを表示します。
.TP
.B \-W
警告メッセージの出力を抑制します。
.TP
.IR "\-\^\-" "\ |\ " "files\|.\|.\|."
アセンブル対象のソースファイルまたは標準入力 (\c
.BR "\-\^\-" ")\c"
を指定します。
.TP
.BI \-A var
.I
(Intel 960 用。)
960 アーキテクチャのどのプロセッサがターゲットかを指定します。
.TP
.B \-b
.I
(Intel 960 用)
条件分岐の統計情報を収集するコードを追加します。
.TP
.B \-norelax
.I
(Intel 960 用。)
ロングディスプレースメントの「比較-分岐」という命令列に対して
変更を加えません。
場合によってはエラーが発生します。
.TP
.B \-l
.I
(Motorola 68000 用)。
.br
2 ワードではなく、1 ワードの短い参照を未定義シンボルに適用します。
.TP
.BR "\-mc68000" "\||\|" "\-mc68010" "\||\|" "\-mc68020"
.I
(Motorola 68000用)。
.br
68000 ファミリのどのプロセッサがターゲットかを指定します
(デフォルトは 68020)。

.PP
オプションの記述順は自由であり、ファイル名の前や後、ファイル名の
間にも記述することができます。ファイル名の記述順は重要な意味を持ちます。

`\|\c
.B \-\^\-\c
\|' (2つのハイフン) をファイル名に指定することで、\c
.B as\c
\& がアセンブルするファイルのひとつとして標準入力を明示的に指定
できます。

ハイフン
(`\|\c
.B \-\c
\|') から始まるコマンドライン引数は、
`\|\c
.B \-\^\-\c
\|' を除き、すべてオプションです。それぞ
れのオプションは、\c
.B as\c
\&の振舞いを変更します。あるオプションが他のオプションの動作を変え
ることはありません。
オプションは `\|\c
.B \-\c
\|' に続けてひとつ以上の文字を書いて指定します; 英文字の大文字
小文字の区別は重要です。すべてのオプションは省略可能です。

`\|\c
.B \-o\c
\|' オプションの後には、ファイル名をひとつだけ指定します。ファイル名
は、オプション文字の直後に記述する (古いアセンブラとの互換) 形式、または
次のコマンド引数 (GNU 標準) として記述する形式の
いずれでも指定することができます。

つまり次の2つのコマンドラインは等価です:
.br
.B
as\ \ \-o\ \ my\-object\-file.o\ \ mumble.s
.br
.B
as\ \ \-omy\-object\-file.o\ \ mumble.s

.SH "関連項目"
.B
info\c
内の
.RB "`\|" as "\|'"
の項
.B
\&; 
.I
Using as: The GNU Assembler\c
\&;
.BR gcc "(" 1 "),"
.BR ld "(" 1 ")."

.SH "歴史"
.I as
は、AT&T UNIX のバージョン1で初めて現れました。

.SH COPYING
Copyright (c) 1991, 1992 Free Software Foundation, Inc.
.PP
Permission is granted to make and distribute verbatim copies of
this manual provided the copyright notice and this permission notice
are preserved on all copies.
.PP
Permission is granted to copy and distribute modified versions of this
manual under the conditions for verbatim copying, provided that the
entire resulting derived work is distributed under the terms of a
permission notice identical to this one.
.PP
Permission is granted to copy and distribute translations of this
manual into another language, under the above conditions for modified
versions, except that this permission notice may be included in
translations approved by the Free Software Foundation instead of in
the original English.
