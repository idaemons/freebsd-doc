.\" Copyright (c) 1994 Joerg Wunsch
.\"
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by Joerg Wunsch
.\" 4. The name authors may not be used to endorse or promote products
.\"    derived from this software without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHORS ``AS IS'' AND ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
.\" OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
.\" IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY DIRECT, INDIRECT,
.\" INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
.\" NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
.\" DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
.\" THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
.\" (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
.\" THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
.\"
.\" @(#)mcon.1, 3.00, Last Edit-Date: [Mon Jan 10 21:28:22 1994]
.\" %FreeBSD: src/usr.sbin/pcvt/mcon/mcon.1,v 1.8.2.1 2000/12/27 13:50:37 ru Exp %
.\" $FreeBSD: doc/ja_JP.eucJP/man/man1/mcon.1,v 1.6 2001/05/14 01:07:26 horikawa Exp $
.\"
.Dd January 3, 1994
.Dt MCON 1
.Os
.Sh 名称
.Nm mcon
.Nd pcvt マウスエミュレータの制御
.Sh 書式
.Nm
.Op Fl l Ar left-button-key
.Op Fl m Ar mid-button-key
.Op Fl r Ar right-button-key
.Op Fl a Ar accel-time
.Op Fl s Ar 0 | false | \&no
.Op Fl s Ar 1 | true | yes
.Ar device
.Sh 解説
.Nm
は、
.Xr pcvt 4
マウスエミュレータの調整可能なパラメータを制御するユーティリティです。
.Pp
.Em NB :
マウスエミュレータはデフォルトでは組み込まれていません。
この機能を有効にするには、システムの設定ファイルに
以下のオプション指定行
.Pp
.Cd options PCVT_EMU_MOUSE
.Pp
を記述する必要があります。
.Pp
いずれの場合も、マウスエミュレーションに用いるデバイスノードを指定する
.Ar device
を引数に指定して
.Nm
を呼び出さなければなりません。
これは普通、
.Xr pcvt 4
ドライバのうち、仮想端末デバイスとして使われていない最初のデバイスノードです。
例えば、8 つの仮想端末、つまり
.Pa /dev/ttyv0
から
.Pa /dev/ttyv7
が使えるように設定されている (これがデフォルト) 場合、
マウスエミュレータは
.Pa /dev/ttyv8
に割り当てられます。
.Pp
もしオプションなしで
.Nm
を起動すると、調整可能パラメータの現在の設定値を表示します。
.Pp
オプション 1 つを付けて起動すると、
.Nm
は新しい値の設定を試みます。
.Pp
オプションは以下の通りです:
.Bl -tag -width Ds
.It Fl l Ar left-button-key
.It Fl m Ar mid-button-key
.It Fl r Ar right-button-key
指定された
.Ar button key
がマウスの左, 中央, 右ボタンをエミュレートするようにマッピングします。
.Ar button key
はそのキーの通常の名称です。
普通の ASCII 文字はその文字自体で指定し、
ファンクションキーは
.Em f1
から
.Em f10
で指定します。
注意: AT ファンクションキー
.Em f11
から
.Em f12
は
.Em 拡張された
キーであり、マウスエミュレータで使うようにマッピングできません。
基本的な PC スキャンコードキーを使うことしか許されないからです。
.It Fl a Ar accel-time
内部アクセラレータのタイムリミットを
.Ar accel-time
ミリ秒に設定します。
このタイムリミット以上経過した後キーイベントが発生すると、
単一のステップでマウスカーソルが動きます。
これより短い間隔でキーイベントが到着すると、
マウスカーソルは 6 倍の速さで動きます。
注意:
.Em milliseconds
は上に示した単位で指定できますが、
時刻の分解能は OS のタイマ分解能の制約を受け、
通常は 10 ミリ秒単位となります。
.It Fl s Ar 0 | false | \&no
.It Fl s Ar 1 | true | yes
マウスボタンの
.Em sticky
動作を無効化あるいは有効化します。
マウスボタンを sticky にすると、ちょうどトグルボタンのようになります。
つまり、はじめて押すとアクティブになり、もう一度押すと非アクティブになります。
他のボタンどれかを押すと、それ以外の sticky なボタンは
全て非アクティブになります。
.Pp
sticky ボタンを使うと指が 20 本も要らなくなるので便利かも知れません。
他方、マウスのダブルクリックやトリプルクリックは事実上不可能になります。
.El
.Sh 実行例
以下の例はマウスエミュレータのデフォルト動作を設定するものです。
.Pp
.Nm
.Fl l Ar f1
.Fl m Ar f2
.Fl r Ar f3
.Fl a Ar 250
.Fl s Ar \&no
.Pa /dev/ttyv8
.Sh バグ
ボタンをエミュレートするキーをスキャンコードに (あるいはその逆に)
マッピングする際のキーの名前は、米国のキーボードレイアウトに基づいています。
しかし、
.Dq 選んだ button
は各国のキーボードレイアウトのファンクションキーのどれかに相当する
でしょうから、通常、これは問題とならないでしょう。
.Pp
マウスエミュレータは結構乱暴なことをやっています。
その唯一の目的は、X ウィンドウ環境の中でポインタを動かすデバイスを
提供することです。
.Sh 関連項目
.Xr X 1 ,
.Xr pcvt 4
.Sh 歴史
.Nm
ユーティリティは
.Xr pcvt 4 ,
release 3.00 で登場しました。
.Sh 作者
マウスエミュレータは
.if n Joerg Wunsch
.if t J\(:org Wunsch
によって寄贈されました。
