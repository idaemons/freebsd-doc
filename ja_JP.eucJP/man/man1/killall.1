.\" Copyright (C) 1995 by Joerg Wunsch, Dresden
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR(S) ``AS IS'' AND ANY EXPRESS
.\" OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
.\" DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR(S) BE LIABLE FOR ANY DIRECT,
.\" INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
.\" (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
.\" SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
.\" STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
.\" IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
.\" POSSIBILITY OF SUCH DAMAGE.
.\"
.\" %Id: killall.1,v 1.10 1998/03/23 07:44:10 charnier Exp %
.\" jpman %Id: killall.1,v 1.3 1997/07/22 18:03:26 horikawa Stab %
.\"
.Dd June 25, 1995
.Os FreeBSD 2.2 
.Dt KILLALL 1
.Sh 名称
.Nm killall
.Nd 名前で指定されるプロセスにシグナルを送る
.\"(訳注)原文では、 kill processes by name であるが、機能から考えて
.\"      "プロセスにシグナルを送る"と訳した。
.\" 2.2.1R 対象(1997/04/13) Takeshi MUTOH <mutoh@info.nara-k.ac.jp>
.Sh 書式
.Nm killall
.Op Fl d \&| Ns Fl v
.Op Fl h \&| Ns Fl \&?
.Op Fl help
.Op Fl l
.Op Fl m
.Op Fl s
.Op Fl SIGNAL
.Ar procname ...
.Sh 解説
.Nm killall
は、
.Xr kill 1
がプロセス id で指定されるプロセスにシグナルを送るのに対して、
名前で指定されるプロセスにシグナルをおくります。
デフォルトでは、
.Dv TERM
シグナルを、
.Nm
実行者と同じ実効 UID を持つ、
.Ar procname 
に名前が一致する全てのプロセスに送ります。
スーパユーザはどんなプロセスにたいしてもシグナルを送ることができます。
.Pp
以下のようなオプションがあります。
.Bl -tag -width 10n -offset indent
.It Fl d \&| Ns Fl v
これから、行おうとすることをより冗長に報告します。一つの
.Fl d
オプションによって、シグナルを送ろうとするプロセスの一覧が表示されるか、
一つも一致するプロセスが見付からなかったことが示されます。
.Fl d
オプションが少なくとも 2 回指定された時は、
.Xr procfs 5
で見付かった全てのプロセスの実効 UID, PID とプロセスの名前が更に
付け加えて表示されます。
.It Fl h \&| Ns Fl \&?
.It Fl help
コマンドの使い方のヘルプを表示し、終了します。
.It Fl l
.Xr kill 1 
の様に利用可能なシグナルの名前の一覧を表示し、終了します。
.It Fl m
引数
.Ar procname
を ( 大文字小文字を区別しない ) 正規表現として、
.Xr procfs 5 
から得られた名前に対して対応を取ります。
注意! 一つのドット (.) は、呼び出しユーザと同一の実効 UID を持つ
全てのプロセスに一致し、
危険です。正規表現の文法は
.Xr perl 1 
で使っているものと同じです。
.It Fl s
何が行われるのかだけを表示し、シグナルは送られません。
.It Fl SIGNAL
デフォルトの
.Dv TERM 
とは違うシグナルを送ります。シグナルは、
(頭に
.Dv SIG
を付けても付けなくても良い) 名前もしくは数字で指定します。
.El

.Sh 全てのプロセス
uid が
.Nm XYZ
である全てのプロセスに対してシグナルを送る動作は、
.Xr kill 1 
で既にサポートされています。したがって、このような仕事を行うためには
.Xr kill 1
を使ってください(たとえば、 $ kill -TERM -1 もしくは、 root になって、
$ echo kill -TERM -1 |su -m <user> で可能です。)。


.Sh 診断
.Nm
コマンドは、コマンドエラーが起こった場合は、短い利用法のメッセージを
表示し、終了状態 2 で終了します。
終了状態 1 は、一致するプロセスが見付からなかった時か、全ての
プロセスに対してシグナルを送ることに成功しなかった時に返されます。
それ以外の場合は、終了状態 0 が返されます。
.Pp
診断メッセージは、
.Fl d
オプションで要求された場合だけ表示されます。
.Sh 関連項目
.Xr kill 1 ,
.Xr procfs 5
.Sh 歴史
.Nm
コマンドは
.Fx 2.1
から導入されました。
.Nm
コマンドは他のプラットホームでも利用可能なように設計されています。
.Sh 作者
このプログラムは、
.An Wolfram Schneider
によって提供されました。
このマニュアルページは
.if n Joerg Wunsch.
.if t J\(:org Wunsch
によって書かれました。
