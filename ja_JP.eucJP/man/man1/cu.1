''' %Id: cu.1,v 1.1 1993/08/04 19:31:53 jtc Exp %
.\" jpman %Id: cu.1,v 1.2 1997/03/28 10:54:42 mutoh Stab %
.TH cu 1 "Taylor UUCP 1.06"
.SH 名称
cu \- 別のマシンと接続する
.SH 書式
.B cu
[ options ] [ system | phone | "dir" ]
.SH 解説
.I cu
コマンドは、他のシステムを呼び出し、ダイヤルイン端末として働きます。
本コマンドは、
エラーチェックを行わない、
簡単なファイル転送プログラムとしても使用できます。

.I cu
は、1 つの引数を、オプションとともに指定可能です。引数として指定する
文字列が "dir" の場合には、cu はポートとの直接接続を行ないます。
本オプションは、ユーザがポートへのライトアクセスを行なう場合にのみ
使用され、通常はモデム等の設定のために用いられます。

引数が数字の場合には、その引数は電話番号として解釈されます。そうで
ない場合には、その引数は呼びだすシステム名として解釈されます。
.B \-z
または
.B \-\-system
オプションは、数字で始まるシステム名を引数で指定する場合に指定しなけ
ればならないものであり、
.B \-c
または
.B \-\-phone
オプションは、数字以外の記号で始まる電話番号を引数で指定する場合に指
定しなければなりません。

.I cu
は、UUCP設定ファイルに記述されたポートを用います。もし単にシステム名
だけが引数で与えられた場合、そのシステムへの発呼に最も適したポートが
選ばれます。
.B \-p,\-\-port,\-l,\-\-line,\-s
や
.B \-\-speed
オプションが指定された場合、ポート選択を制御することが可能です。

リモートシステムとの間でコネクションが設定された場合、
.I cu
は 2 プロセスを fork します。1 プロセスは、ポートからのデータ読みだしと
端末へのデータ書き込みを行ない、もう 1 プロセスは、端末からのデータ読み
出しとポートへのデータ書き込みを受け持ちます。

.I cu
は、通信中に使用可能なコマンドがあります。
それらのコマンドはすべて、エスケープ文字から始まります。
エスケープ文字は、デフォルトでは
.B ~
(チルダ)です。エスケープ文字は、行頭において入力された場合にのみ認識
されます。エスケープ文字を行頭に含むデータをリモートホストに送り
たい場合には、当該エスケープ文字を 2 回入力しなければなりません。全
てのコマンドは、1 文字か、もしくは
.B %
文字(パーセント記号)に続く複数文字です。

.I cu
では、以下のコマンドを使用できます。

.TP 5
.B ~.
通信を終了します。
.TP 5
.B ~! command
シェル経由でコマンドを実行します。コマンドが指定されない場合には、
シェルが起動されます。
.TP 5
.B ~$ command
コマンドを起動します。その結果、標準出力に出力されたデータを、リ
モートシステムに送ります。
.TP 5
.B ~| command
コマンドを起動します。リモートシステムからの出力
データをこのコマンドの標準入力とします。
.TP 5
.B ~+ command
コマンドを起動します。リモートシステムからの出力
データをこのコマンドの標準入力とします。そして、コマンドから標準出力に出力さ
れたデータを、リモートシステムに送ります。
.TP 5
.B ~#, ~%break
可能であればブレーク信号を送ります。
.TP 5
.B ~c directory, ~%cd directory
ローカルディレクトリを変更します。
.TP 5
.B ~> file
ファイルをリモートシステムに送ります。本コマンドは、ファイルを通信路を
経由して、ファイルをダンプするのに用いられます。この場合、リモートシス
テムがこの動作を想定して動作しているものとみなして動作しますので、注意
して下さい。
.TP 5
.B ~<
リモートシステムからファイルを受信します。このコマンドを実行すると、
.I cu
コマンドは、ローカルファイル名と、ファイル転送のためにリモート側で実
行すべきコマンドの入力を促します。本コマンドは、
.B eofread
変数で指定される文字を受信するまでデータ受信を継続します。
.TP 5
.B ~p from to, ~%put from to
ファイルをリモート Unix システムに送信します。本コマンドは、リモート
システムがファイルを受信するために必要なコマンドを自動的に起動します。
.TP 5
.B ~t from to, ~%take from to
リモート Unix システムから、ファイルを取得します。本コマンドは、リモート
システムからファイルを送信するために必要なコマンドを自動的に起動します。
.TP 5
.B ~s variable value
.I cu
の変数を、指定した値に設定します。値が指定されなかった場合、変数は
.B true
に設定されます。
.TP 5
.B ~! variable
.I cu
の変数を
.B false
に設定します。
.TP 5
.B ~z
cu セッションをサスペンドします。この機能は、そんなに多くのシステムで
サポートされているわけではありません。
^Z によってジョブをサスペンドできるシステムでは、
.B ~^Z
も、セッションをサスペンドします。
.TP 5
.B ~%nostop
XON/XOFF 制御を無効にします。
.TP 5
.B ~%stop
XON/XOFF 制御を有効にします。
.TP 5
.B ~v
全ての変数と、その変数に設定された値を表示します。
.TP 5
.B ~?
使用可能なすべてのコマンドを表示します。

.I cu
は、いろんな変数を備えています。これらの環境変数一覧は、
.B ~v
コマンドを用いて表示することができ、
.B ~s
もしくは
.B ~!
コマンドを用いて設定することが可能です。

.TP 5
.B escape
エスケープ文字。初期値は
.B ~
(チルダ)です。
.TP 5
.B delay
この変数が true の場合には、
.I cu
はエスケープ文字を受信してからローカルシステム名を出力するまでに
1 秒のウェイトが入ります。デフォルトでは true です。
.TP 5
.B eol
行末文字として認識される文字の一覧を表示します。エスケープ文字は
以下のいずれかが現れた後にしか認識されません。デフォルトでは、
キャリッジリターン
および、^U, ^C, ^O, ^D, ^S, ^Q, ^R の各文字です。
.TP 5
.B binary
ファイルを送信する時に、バイナリデータを転送するかしないかを設定します。
本変数が false の場合には、ファイル中のニューライン記号はすべて、キャリッ
ジリターンに変換されます。
デフォルトでは false です。
.TP 5
.B binary-prefix
.B binary
変数が true の状態でファイル転送を行う時に、
バイナリ文字を送る前に使われる文字列の設定を決めます。
デフォルトでは ^V に設定されます。
.TP 5
.B echo-check
リモートシステムのエコーバックをチェックすることで、ファイル転送のチェ
ックをするかどうか決めます。しかし、あまりちゃんと動かないでしょう。
デフォルトでは false です。
.TP 5
.B echonl
ファイル中の1行を送信した後に検出しようとする文字を設定します。
デフォルトでは、キャリッジリターンです。
.TP 5
.B timeout
エコーバックもしくは
.B echonl
文字の検出をタイムアウトとする時間を秒単位で設定します。
デフォルトでは 30 です。
.TP 5
.B kill
エコーチェックが失敗した場合に、1 行削除に使う文字を設定します。
デフォルトでは ^U です。
.TP 5
.B resend
エコーチェックが失敗しつづけた場合に、1 行を再送する回数を設定します。
デフォルトでは 10 です。
.TP 5
.B eofwrite
.B ~>
コマンドを用いてファイルを送信し終った場合に、最後に送信する文字列を
設定します。デフォルトでは、^D です。
.TP 5
.B eofread
.B ~<
コマンドを用いてファイルを受信する場合に、検出する文字列を設定します。
デフォルトでは $ です。この文字列は、典型的なシェルプロンプトです。
.TP 5
.B verbose
ファイル転送時に、転送情報を表示するかどうか設定します。デフォルトで
は true です。
.SH オプション
.I cu.
コマンドでは、以下のオプションが指定可能です。
.TP 5
.B \-e, \-\-parity=even
偶数パリティを用います。
.TP 5
.B \-o, \-\-parity=odd
奇数パリティを用います。
.TP 5
.B \-\-parity=none
パリティは用いません。
.B \-e
と
.B \-o
が同時に指定された場合もパリティなしになります。
.TP 5
.B \-h, \-\-halfduplex
文字のローカルエコーを許可します(半二重モード)。
.TP 5
.B \-\-nostop
XON/XOFF 制御を無効にします。デフォルトでは有効です。
.TP 5
.B \-E char, \-\-escape char
エスケープ文字を指定します。初期値は
.B ~
(チルダ)です。
.B \-E ''
とすることにより、エスケープ文字を無視できます。
.TP 5
.B \-z system, \-\-system system
発呼先のシステムを指定します。
.TP 5
.B \-c phone-number, \-\-phone phone-number
発呼先の電話番号を指定します。
.TP 5
.B \-p port, \-\-port port
使用するポートを指定します。
.TP 5
.B \-a port
.B \-\-port port
と同じです。
.TP 5
.B \-l line, \-\-line line
使用する回線を、デバイス名で指定します。本オプションは、UUCP 設定ファイル
に記述されていないポートを用いて通信を行なう場合に使用されます。当該デバ
イスには、write パーミッションが許可されていることが必要になります。
.TP 5
.B \-s speed, \-\-speed speed
通信速度(ボーレート)を設定します。
.TP 5
.B \-#
# に位置するのは数字です。
.B \-\-speed #
と同じです。
.TP 5
.B \-n, \-\-prompt
使用する電話番号の問い合わせプロンプトを出力します。
.TP 5
.B \-d
デバッグモードに入ります。これは
.B \-\-debug all
と同様です。
.TP 5
.B \-x type, \-\-debug type
特定のデバッグタイプを有効にします。タイプとしては、abnormal, chat, 
handshake, uucp-proto, proto, port, config, spooldir, execute, incoming,
outgoing があります。
.I cu
では、abnormal, chat, handshake, port, config, incoming, outgoing
が意味を持ちます。

本オプションでは、コンマで区切ることで複数のデバッグタイプが指定可能です。そして、
.B \-\-debug
オプションは、1回のコマンド起動で複数回指定可能です。
また、タイプとして数字を指定することも可能です。例えば、
.B \-\-debug 2
という指定は、
.B \-\-debug abnormal,chat
と同じ意味です。
.B \-\-debug all
は、すべてのデバッグオプションが指定されたのと同じです。
.TP 5
.B \-I file, \-\-config file
使用するコンフィギュレーションファイルの指定を行ないます。ただし、本オ
プションは、
.I cu
のコンパイル条件によっては使用できないことがあります。
.TP 5
.B \-v, \-\-version
バージョンを表示し、終了します．
.TP 5
.B \-\-help
ヘルプメッセージを表示し、終了します。
.SH バグ
本プログラムは、あまり良好に動作しません。
.SH 関連ファイル
ファイル名は、コンパイル環境や設定ファイルの内容によって変わることが
あります。ここに挙げるのは、一例でしかありません。

.br
/etc/uucp/config - 設定ファイル
.SH 作者
Ian Lance Taylor
<ian@airs.com>

