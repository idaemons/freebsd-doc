<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE report PUBLIC "-//FreeBSD//DTD FreeBSD XML Database for Status Report//EN" "http://www.FreeBSD.org/XML/share/xml/statusreport.dtd" >
<!-- $FreeBSD$ -->
<report>
  <date>
    <month>January-March</month>

    <year>2014</year>
  </date>

  <section>
    <title>Introduction</title>

    <p>This report covers &os;-related projects between January and
      March 2014.  This is the first of four reports planned for 2014.</p>

    <!-- XXX: Add introduction -->

    <!-- XXX: Keep the number of entries updated -->
    <p>Thanks to all the reporters for the excellent work!  This report
      contains 10 entries and we hope you enjoy reading it.</p>

    <p>The deadline for submissions covering between April and
      June 2014 is July 7th, 2014.</p>
  </section>

  <category>
    <name>team</name>

    <description>&os; Team Reports</description>
  </category>

  <category>
    <name>kern</name>

    <description>Kernel</description>
  </category>

  <category>
    <name>bin</name>

    <description>Userland Programs</description>
  </category>

  <category>
    <name>ports</name>

    <description>Ports</description>
  </category>

  <category>
    <name>doc</name>

    <description>Documentation</description>
  </category>

  <project cat='ports'>
    <title>Chromium</title>

    <contact>
      <person>
	<name>Chromium on &os; Team</name>
	<email>freebsd-chromium@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.chromium.org/Home">Chromium website</url>
      <url href="https://github.com/gliaskos/freebsd-chromium">Development repository on GitHub</url>
      <url href="https://wiki.freebsd.org/Chromium">Chromium on &os; wiki</url>
    </links>

    <body>
      <p>Chromium is the open source web browser project from which
	Google Chrome draws its source code.  The browsers share the
	majority of code and features, though there are some minor
	differences in features and they have different licensing.  Over
	the last four years, the Chromium team has been busy with
	porting Chromium to &os;.  This involves patching the browser so
	that it runs on &os;, tracking and documenting security updates,
	and merging patches back upstream.</p>

      <p>While there are already several browsers available for &os;,
	advantages of Chromium are:</p>

      <ul>
	<li>Quick response from upstream to security issues, resulting
	  in approximately bi-weekly updates.</li>

	<li>A testbed for security features of &os;, like Capsicum.
	  While support for this capability and sandbox framework is
	  currently not included in the browser, a proof-of-concept
	  implementation for an early version of Chromium was realized
	  within a single weekend.</li>
      </ul>

      <p>George Liaskos and &a.rene; are currently busy with submitting
	the remaining patches specific to &os; back upstream.  Apart from
	making future updates easier, it sometimes also improves the
	overall code quality.</p>

      <p>&a.jonathan; recently updated the Capsicum patches for Chromium
	and is talking to upstream about them.</p>
    </body>

    <help>
      <task>Advocate &os;.  While patches are getting accepted by both
	humans and bots, it is not an official platform so attitude varies
	from developer to developer.  While &a.rene; thinks it is a bit
	early, it might be fruitful to investigate what is required to
	make &os; (and possibly OpenBSD) an official platform in terms
	of both hardware and procedures.</task>

      <task>If you feel comfortable with large source trees, you can try
	to build the Git version of Chromium on &os;.  If you are also
	comfortable with signing Googles Contributor License Agreement,
	you can join testing and submitting patches upstream.</task>
    </help>
  </project>

  <project cat='doc'>
    <title>ZFS Chapter of the Handbook</title>

    <contact>
      <person>
	<name>
	  <given>Allan</given>
	  <common>Jude</common>
	</name>
	<email>freebsd@allanjude.com</email>
      </person>

      <person>
	<name>
	  <given>Benedict</given>
	  <common>Reuschling</common>
	</name>
	<email>bcr@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Warren</given>
	  <common>Block</common>
	</name>
	<email>wblock@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.allanjude.com/zfs_handbook/zfs.html">Preview ZFS Handbook</url>
      <url href="http://www.allanjude.com/talks/AsiaBSDCon_2014_-_WIP_-_ZFS_Handbook.pdf">Slides from AsiaBSDCon 2014</url>
    </links>

    <body>
      <p>ZFS is one of the premier features of &os;.  The current
	documentation in the Handbook and elsewhere online is severely
	lacking.  Much of the original documentation from Sun and Oracle
	has disappeared, moved, or is about the proprietary version of
	ZFS.</p>

      <p>New users have many questions about ZFS and yet there exists a
	great deal more bad advice about ZFS than proper documentation.
	The current ZFS chapter of the &os; Handbook starts off with the
	required steps to configure an i386 machine to run ZFS.  This is
	more likely to scare off a new user than to educate them about
	how to properly use ZFS.</p>

      <p>At BSDCan&nbsp;2013, the process of writing an entirely new
	chapter of the Handbook on ZFS was started.  Currently this
	chapter consists of approximately 16,000 words covering all
	subcommands of the <tt>zpool(8)</tt> and <tt>zfs(8)</tt>
	utilities, delegation, tuning and a section devoted to
	defintions and explainations of the terms and features of
	ZFS.</p>

      <p>The remaining section is the FAQ.  To help users address the
	most common problems they might run into with ZFS.  It would be
	useful to hear experiences, questions, misconceptions, gotchas,
	stumbling blocks and suggestions for the FAQ section from other
	users.  Also, a use cases section that highlights some of the
	cases where ZFS provides advantages over traditional file
	systems.</p>

      <p>Please send suggestions to the <tt>freebsd-doc</tt> mailing
	list.</p>
    </body>

    <sponsor>ScaleEngine, Inc</sponsor>

    <help>
      <task>Technical review by Matt Ahrens (co-creator of ZFS).</task>
      <task>Improve delegation section.</task>
      <task>Improve tuning section, add new sysctls added in
	<tt>head</tt>.</task>
      <task>Add section on jails and the jailed property.</task>
      <task>Add FAQ section.</task>
      <task>Add <q>Use Cases</q> section.</task>
      <task>General editing and review.</task>
    </help>
  </project>

  <project cat='team'>
    <title>&os; Release Engineering Team</title>

    <contact>
      <person>
	<name>&os; Release Engineering Team</name>
	<email>re@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.FreeBSD.org/releases/9.3R/schedule.html">&os;&nbsp;9.3-RELEASE schedule</url>
      <url href="http://www.FreeBSD.org/releases/9.3R/todo.html">&os;&nbsp;9.3-RELEASE todo list</url>
      <url href="http://ftp.FreeBSD.org/pub/FreeBSD/snapshots/ISO-IMAGES/">&os;&nbsp;development snapshots</url>
    </links>

    <body>
      <p>In early January, the &os; Release Engineering Team became
	aware of several last-minute showstopper issues in
	&os;&nbsp;10.0, which lead to an extension in the final release
	builds.  &os;&nbsp;10.0-RELEASE was announced on January 20, two
	months behind the original schedule.</p>

      <p>The schedule for the &os;&nbsp;9.3-RELEASE cycle has been
	written and posted to the website, and the release cycle will
	begin early May.</p>

      <p>There is ongoing work to integrate support for embedded
	architectures as part of the release build process.  At this
	time, support exists for a number of ARM kernels, in particular
	the Raspberry Pi, BeagleBone, and WandBoard.</p>
    </body>

    <sponsor>The &os; Foundation</sponsor>
  </project>

  <project cat='team'>
    <title>&os; Documentation Engineering Team</title>

    <contact>
      <person>
	<name>&os; Documentation Engineering Team</name>
	<email>doceng@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://lists.freebsd.org/pipermail/freebsd-doc/2014-February/023265.html">Announcement of Warren Block's addition</url>
    </links>

    <body>
      <p>The &os; Documentation Engineering Team is responsible for
	defining and following up documentation goals for the committers
	in the Documentation project.  The team is pleased to announce a
	new member &mdash; &a.wblock;.  In early March, the &os;
	Documentation Engineering Team members assumed responsibility
	for the &os; Webmaster Team.</p>
    </body>
  </project>

  <project cat='ports'>
    <title>&os; Ada Ports</title>

    <contact>
      <person>
	<name>
	  <given>John</given>
	  <common>Marino</common>
	</name>
	<email>marino@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.dragonlace.net"/>
      <url href="http://www.spark-2014.org/about/">SPARK 2014</url>
    </links>

    <body>
      <p>Ada is a structured, statically typed, imperative,
	wide-spectrum, and object-oriented high-level computer
	programming language, extended from Pascal and other languages,
	originally targeted at embedded and real-time systems.  The
	number of Ada ports in the collection has grown significantly
	since the last report six months ago.  There are almost 50
	Ada-related ports now, with new ones getting added the time.</p>

      <p>The previous plan was to move from the GCC 4.7-based GNAT
	compiler to a GCC 4.8-based one, but finally GCC 4.8 was skipped
	and now a GCC 4.9-based GNAT is the standard Ada compiler, which
	fully supports the new ISO standard, Ada 2012.  Moving to a
	newer compiler allowed several important ports like PolyOrb and
	GPRBuild to be upgraded to the latest available versions.  In
	fact, almost every Ada port is currrently at its most recent
	upstream version.</p>

      <p>For non-Windows-based Ada development, &os; and DragonFly are
	now undisputed as the go-to platforms.  The other candidates are
	Debian and Fedora, but there are few Ada software on those
	platforms that are not also in &os; ports tree, but the versions are
	much older.  The Ports Collection also features software not found
	anywhere else such as the USAFA's Ironsides DNS server,
	libsparkcrypto, matreshka, GNATDroid (Android cross-compiler) and
	several developer libraries.</p>

      <p>A desired addition to the Ada ports will be SPARK 2014 (see
	links), which should cement &os; as an option for professional,
	safety-critical application development.  This package should
	have its first release by early summer.</p>
    </body>
  </project>

  <project cat='ports'>
    <title>Xfce/&os;</title>

    <contact>
      <person>
	<name>
	  <given>&os; Xfce Team</given>
	</name>
	<email>xfce@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://wiki.freebsd.org/Xfce"/>
      <url href="https://svn.redports.org/olivierd/xfce4/">Development repository</url>
      <url href="https://people.freebsd.org/~olivierd/xfce-core-unstable.html"/>
      <url href="http://www.freebsd.org/cgi/query-pr.cgi?pr=183690">ports/183690</url>
    </links>

    <body>
      <p>Xfce is a free software desktop environment for Unix and
	Unix-like platforms, such as &os;.  It aims to be fast and
	lightweight, while still being visually appealing and easy to
	use.  The Xfce team continues to keep up-to-date each piece of
	the Xfce Desktop.</p>

      <p>The latest commits concerned:</p>

      <ul>
	<li>Applications:</li>

	<ul>
	  <li>Midori (0.5.7)</li>
	  <li>xfburn (0.5.0)</li>
	  <li>xfce4-parole (0.5.4)</li>
	  <li>xfce4-taskmanager (1.0.1)</li>
	  <li>xfce4-tumbler (0.1.30)</li>
	</ul>

	<li>Panel plugins:</li>

	<ul>
	  <li>xfce4-clipman-plugin (1.2.5)</li>
	  <li>xfce4-equake-plugin (1.3.4)</li>
	  <li>xfce4-wavelan-plugin (0.5.11)</li>
	  <li>xfce4-whiskermenu-plugin (1.3.2)</li>
	</ul>
      </ul>

      <p>We also follow development of core components (available in
	your repository).  See link for documentation on how to upgrade
	those libraries.</p>

      <ul>
	<li>garcon (0.3.0)</li>
	<li>libxfce4menu (4.11.1)</li>
	<li>libxfce4util (4.11.0)</li>
	<li>xfce4-appfinder (4.11.0)</li>
	<li>xfce4-desktop (4.11.4)</li>
	<li>xfce4-dev-tools (4.11.0)</li>
	<li>xfce4-panel (4.11.0)</li>
	<li>xfce4-parole (0.6.0)</li>
	<li>xfce4-settings (4.11.2)</li>
	<li>xfce4-session (4.11.0)</li>
	<li>xfce4-wm (4.11.1)</li>
	<li>xfce4-xkb-plugin (0.7.0)</li>
      </ul>
    </body>

    <help>
      <task>Add support of DragonFly for xfce4-taskmanger.</task>

      <task>Finish to replace Tango icons theme by GNOME, in order to
	close <tt>ports/183690</tt> (see links, it remains
	Midori).</task>
    </help>
  </project>

  <project cat='kern'>
    <title>PCI SR-IOV Infrastructure</title>

    <contact>
      <person>
	<name>
	  <given>Ryan</given>
	  <common>Stone</common>
	</name>
	<email>rstone@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://github.com/rysto32/freebsd/tree/iov_ixgbe">Work in progress on GitHub</url>
    </links>

    <body>
      <p>PCI Single Root I/O Virtualization (SR-IOV) is an optional part
	of the PCIe standard that provides hardware acceleration for the
	virtualization of PCIe devices.  When SR-IOV is in use, a
	function in a PCI device (known as a Physical Function, or PF)
	will present multiple Virtual PCI Functions (VF) on the PCI bus.
	These VFs are fully independent PCI devices that have
	 access to the resources of the PF.  For example, on a network
	interface card VFs could transmit and receive packets
	independent of the PF.</p>

      <p>The most obvious use case for SR-IOV is virtualization.  A
	hypervisor like bhyve could instantiate a VF for every VM and
	use PCI passthrough to assign the VFs to the VMs.  This would
	allow multiple VMs to share access to the PCI device without
	having to do any expensive communication with the hypervisor,
	greatly increasing performance of performing I/O from a VM.</p>

      <p>There are two parts to this project.  The first is implementing
	an API in the PCI subsystem for the creating VFs and configuring
	standard PCI features like BARs.  The second part is updating
	individual drivers for PCI devices that support SR-IOV to
	configure their VFs.  For example, a network interface driver
	will typically have to assign a MAC address to a VF and
	configure the interface to route packets destined for that MAC
	address to the VF.</p>

      <p>At this point only SR-IOV support for the <tt>ixgbe(4)</tt>
	driver is planned.  The PCI subsystem API is designed to be
	generic and should support SR-IOV on any device, but fairly
	extensive driver work is necessary to support SR-IOV, which is
	currently not planned due to lack of time and hardware.</p>

      <p>At present, <tt>ixgbe(4)</tt> is able to create VFs and the
	<tt>ixgbevf</tt> driver is able to pass traffic.  There is still
	a fair amount of work to support VLAN tags, multicast addresses
	and other features on the VFs.  Also, the VF configuration needs
	to be better integrated with the PF initialization path to
	ensure that resets of the PF do not interrupt operation of the
	VFs.</p>
    </body>

    <sponsor>Sandvine, Inc</sponsor>
  </project>

  <project cat='bin'>
    <title>&os; Test Suite</title>

    <contact>
      <person>
	<name>
	  <given>Julio</given>
	  <common>Merino</common>
	</name>
	<email>jmmv@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://wiki.FreeBSD.org/TestSuite">Project page</url>
      <url href="http://kyua1.nyi.FreeBSD.org/">Testing cluster</url>
      <url href="http://julipedia.meroh.net/2014/01/freebsd-test-suite-goals-and-planning.html">Roadmap for the project</url>
      <url href="https://drive.google.com/a/meroh.net/#folders/0B08g-X1kPkSYNmlEdTB5RjlFbkk">AsiaBSDCon 2014 tutorial materials</url>
    </links>

    <body>
      <p>The &os; Test Suite project aims to equip &os; with a
	comprehensive collection of tests that are easy to run out of
	the box and during the development of the system.  The test
	suite is installed into <tt>/usr/tests/</tt> and the
	<tt>kyua(1)</tt> command-line tool (<tt>devel/kyua</tt> in the
	Ports Collection) is used to run them.  See the project page for
	more details.</p>

      <p>Since the last status report, we have been hard at work
	polishing the framework in many different areas.  The highlights
	are:</p>

      <ul>
	<li>A roadmap for the project has been prepared and published,
	  see links.</li>

	<li>Many tests have been added to the test suite thanks to the
	  work of various developers and, in particular, a good bunch of
	  old tests from <tt>src/tools/regression/</tt> have been
	  incorporated into the new test suite.  As of this writing,
	  there are 509 test cases continuously running.</li>

	<li>The testing infrastructure in <tt>stable/10</tt> branch has
	  been synced to <tt>head</tt>.  It should now be possible to
	  seamlessly MFC changes to the stable branch along with their
	  tests, if any.</li>

	<li>The testing cluster, which only issued <tt>amd64</tt>
	  builds, has been extended to perform <tt>i386</tt> builds as
	  well.  Additionally, a canary machine has been put in place so
	  that changes to the cluster configuration can be properly
	  validated before deployment.</li>

	<li>A tutorial on Kyua and the &os; Test Suite was given at
	  AsiaBSDCon 2014.  The tutorial materials are available for
	  public consumption, please consult the links.</li>

	<li>Both Kyua's and ATF's upstream sites have been moved to
	  GitHub, mostly due to the discontinuation of file downloads in
	  Google Code.</li>
      </ul>
    </body>

    <help>
      <task>Enable the build of the test suite by default.</task>

      <task>Add alerting for failed or missing test runs from the
	testing cluster.</task>

      <task>Add bhyve support to the testing cluster for faster
	turnaround times.</task>

      <task>Simplify and improve Kyua HTML reports.  In particular,
	reports will be coalesced into single HTML files for easier
	management and will include more useful details for debugging.
	Such details are the revision at which the system was built,
	date and duration of the whole run, or list of installed
	packages, to mention a few examples.</task>

      <task>Add JUnit XML output to Kyua for better integration with
	Jenkins.  This work is actively ongoing and should be ready for
	prime time at BSDCan&nbsp;2014.</task>
    </help>
  </project>

  <project cat='ports'>
    <title>OpenAFS on &os;</title>

    <contact>
      <person>
	<name>
	  <given>Benjamin</given>
	  <common>Kaduk</common>
	</name>
	<email>bjk@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://openafs.org">OpenAFS homepage</url>
    </links>

    <body>
      <p>AFS is a distributed network filesystem that originated from
	the Andrew Project at Carnegie-Mellon University.  OpenAFS is an
	open-source implementation of the AFS protocol derived from IBM
	AFS, which was released under the IBM Public License.  OpenAFS
	on &os; (the <tt>net/openafs</tt> port) is suitable for light
	use, but is not yet production ready.</p>

      <p>We got a chance to pick up this porting project after some
	hiatus.  Recent work focused on investigating the bugs preventing
	the use of a disk cache for caching file data.  An internal
	"lookupname" abstraction was intended to return an unlocked,
	referenced vnode, but instead returned a locked, referenced
	vnode, leading to various failure modes depending on the number
	of kernel debugging options enabled.</p>
    </body>

    <help>
      <task>Track down an issue involving incorrect reference counts on
	the AFS root vnode that cause warnings on shutdown.</task>

      <task>Audit the locking in all the vnode operations code &mdash;
	it is expected that there remain some incorrectly locked areas,
	though none that present visible issues under light load.</task>
    </help>
  </project>

  <project cat='ports'>
    <title>libvirt/bhyve Support</title>

    <contact>
      <person>
	<name>
	  <given>Roman</given>
	  <common>Bogorodskiy</common>
	</name>
	<email>novel@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://libvirt.org/drvbhyve.html">bhyve Driver</url>
      <url href="http://libvirt.org/">libvirt Home Page</url>
      <url href="http://empt1e.blogspot.ru/search/label/libvirt">Developer Blog</url>
    </links>

    <body>
      <p>Libvirt is a virtualization library providing a common API for
	various hypervisors (Qemu/KVM, Xen, LXC, and others), and also a
	popular library used by a number of projects.  Libvirt 1.2.2,
	released on March, 2014, was the first release to include bhyve
	support.  Enabling bhyve support allows consumers to use bhyve
	in libvirt-ready applications without major efforts.</p>

      <p>Currently, libvirt supports almost all essential features of
	bhyve, such as Virtual Machince lifecycle (start, stop), bridged
	networking, and virtio/SATA driver support.  The work continues
	to implement more API calls and to cover more of features
	offered by bhyve.</p>
    </body>

    <help>
      <task>&os; port of <tt>netcf</tt> is needed for adding interface
	driver support to libvirt.</task>
    </help>
  </project>
</report>
