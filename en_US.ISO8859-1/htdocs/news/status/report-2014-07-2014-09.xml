<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE report PUBLIC "-//FreeBSD//DTD FreeBSD XML Database for
  Status Report//EN"
  "http://www.FreeBSD.org/XML/share/xml/statusreport.dtd" >

<!-- $FreeBSD$ -->

<report>
  <date>
    <month>July-September</month>

    <year>2014</year>
  </date>

  <section>
    <title>Introduction</title>

<!-- <?ignore -->
    <p><strong>This is a draft of the July-September 2014 status
	report.	 Please check back after it is finalized, and an
	announcement email is sent to the &os;-Announce mailing
	list.</strong></p>
<!-- ?> -->

    <p>This report covers &os;-related projects between July and
      September 2014.  This is the third of four reports planned for
      2014.</p>

    <p>The third quarter of 2014... was a very busy and productive
      time</p>

    <p>Thanks to all the reporters for the excellent work!  This
      report contains 0 entries and we hope you enjoy reading it.</p>

    <p>The deadline for submissions covering the period from October
      to December 2014 is January 7th, 2015.</p>
  </section>

  <category>
    <name>team</name>

    <description>&os; Team Reports</description>
  </category>

  <category>
    <name>proj</name>

    <description>Projects</description>
  </category>

  <category>
    <name>kern</name>

    <description>Kernel</description>
  </category>

  <category>
    <name>arch</name>

    <description>Architectures</description>
  </category>

  <?ignore
  <category>
    <name>bin</name>

    <description>Userland Programs</description>
  </category>
  ?>

  <category>
    <name>ports</name>

    <description>Ports</description>
  </category>

  <category>
    <name>doc</name>

    <description>Documentation</description>
  </category>

  <category>
    <name>misc</name>

    <description>Miscellaneous</description>
  </category>

  <project cat='proj'>
    <title>New Automounter</title>

    <contact>
      <person>
	<name>
	  <given>Edward Tomasz</given>
	  <common>Napiera&#322;a</common>
	</name>
	<email>trasz@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://wiki.freebsd.org/Automounter" />
      <url href="http://people.freebsd.org/~trasz/autofs.pdf" />
    </links>

    <body>
      <p>Deficiencies in the current automounter, <tt>amd(8)</tt>, are a
	recurring problem reported by many FreeBSD users.  A new
	automounter is being developed to address these concerns.</p>

      <p>The automounter is a cleanroom implementation of
	functionality available in most other Unix systems, using
	proper kernel support implemented via an autofs filesystem.
	The automounter supports a standard map format, and will
	integrate with the Lightweight Directory Access Protocol
	(LDAP) service.</p>

      <p>The code is ready to use - it has been committed to 11-CURRENT
	and 10-STABLE, and will ship as part of 10.1-RELEASE.  There
	is ongoing work on improving performance and fixing possible
	bugs.</p>
    </body>

    <sponsor>
      The FreeBSD Foundation
    </sponsor>

    <help></help>
  </project>

  <project cat='proj'>
    <title>Chelsio iSCSI Offload Support</title>

    <contact>
      <person>
	<name>
	  <given>Sreenivasa</given>
	  <common>Honnur</common>
	</name>
	<email>shonnur@chelsio.com</email>
      </person>

      <person>
	<name>
	  <given>Edward Tomasz</given>
	  <common>Napiera&#322;a</common>
	</name>
	<email>trasz@FreeBSD.org</email>
      </person>
    </contact>

    <links></links>

    <body>
      <p>
	Building on the new in-kernel iSCSI target and initiator stack
	released in FreeBSD 10.0, Chelsio Communications has begun
	developing an offload interface to take advantage of the
	hardware offload capabilities of Chelsio T4 and T5 10 and 40
	gigabit Ethernet adapters.</p>

      <p>The code implements hardware PDU offload for both target and
	initiator.  The iSCSI stack has been modified to provide
	hardware-independent offload API, allowing offload drivers to
	be loaded as kernel modules, and to provide mechanisms for the
	system administrator to configure this feature.  The project
	is entering a testing phase.  The code will be released under
	the BSD license and is expected to be completed later in the
	year and ship in FreeBSD 10.2-RELEASE.</p>
    </body>

    <sponsor>
      Chelsio Communications
    </sponsor>

    <sponsor>
      The FreeBSD Foundation
    </sponsor>

    <help>
      <task>
	Complete testing
      </task>
    </help>
  </project>

  <project cat='docs'>
    <contact>
      <person>
	<name>
	  <given>Michael</given>
	  <common>Lucas</common>
	</name>
	<email>mwlucas@michaelwlucas.com</email>
      </person>
    </contact>

    <links>
      <url href="http://blather.michaelwlucas.com/archives/2088">book announcement</url>
      <url href="http://blather.michaelwlucas.com/archives/2119">pre-pub availability announcement</url>
      <url href="https://www.tiltedwindmillpress.com/?product=freebsd-mastery-storage-essentials">in-progress draft</url>
    </links>

    <body>
      <p>Lucas is working on a series of small FreeBSD books.  The
	first one, FreeBSD Mastery: Storage Essentials, is underway,
	and covers GEOM, gpart, MBR, UFS, GELI, GBDE, disk sector
	alignment, and more. You can pre-order the book at a discount
	from his web site, or wait for it to hit print and all major
	ebook retailers.</p>

      <p>Get status updates on his blog, or check @mwlauthor on
	Twitter.</p>
    </body>

    <help>
      <task>
	Lucas needs to write faster.
      </task>
    </help>
  </project>

  <project cat='ports'>
    <title>Xfce</title>

    <contact>
      <person>
	<name>
	  <given>FreeBSD Xfce Team</given>
	</name>
	<email>xfce@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://wiki.freebsd.org/Xfce" />
      <url href="http://www.redports.org/browser/olivierd/xfce4">devel repo</url>
      <url href="https://people.freebsd.org/~olivierd/xfce4-4.11-screencast.webm">Video showing significant changes</url>
    </links>

    <body>
      <p>Xfce is a free software desktop environment for Unix and
	Unix-like platforms including FreeBSD.  It aims to be fast and
	lightweight while still being visually appealing and easy to
	use.</p>

      <p>There were no major updates in the ports tree except cosmetic
	changes (fix pkg-plist, switch to USES= libtool, and so
	on).</p>

      <p>Still, the Xfce team continues to keep each piece of the Xfce
	Desktop up to date. That is why we are working on the next
	stable release (no date scheduled).</p>

      <p>Major changes will be:</p>

      <ul>
	<li>Switch to USES</li>

	<li>Support of GTK2 (default toolkits) and GTK3
	  (optional)</li>

	<li>GNOME like default icons theme</li>

	<li>Enhance documentation (handbooks, FAQ)</li>
      </ul>

      <p>Below is a list of current ports in the devel repository (see
	link).</p>

      <ul>
	<li>deskutils/xfce4-xkb-plugin 0.7.0</li>

	<li>devel/xfce4-dev-tools 4.11.0</li>

	<li>misc/xfce4-appfinder 4.11.0</li>

	<li>multimedia/xfce4-parole 0.6.1 and 0.7.0</li>

	<li>sysutils/garcon 0.3.0</li>

	<li>sysutils/xfce4-settings 4.11.3</li>

	<li>x11/libxfce4menu 4.11.1</li>

	<li>x11/libxfce4util 4.11.0</li>

	<li>x11-wm/xfce4-desktop 4.11.8</li>

	<li>x11-wm/xfce4-panel 4.11.1</li>

	<li>x11-wm/xfce4-session 4.11.0</li>
      </ul>

      <p>There are also two new ports</p>

      <ul>
	<li>deskutils/xfce4-volumed-pulse 0.2.0</li>

	<li>x11/xfce4-dashboard 0.2.3 and 0.3.2</li>
      </ul>

      <p>For more details, please see our wiki page in the Links
	section.</p>
    </body>

    <help>
      <task>
	<p>Finish to patch ACPI helper (xfce4-power-manager).</p>
      </task>

      <task>
	<p>Continue to work on documentation, especially the Porter's
	  Handbook and creating a FAQ).</p>
      </task>
    </help>
  </project>

  <project cat='docs'>
    <title>ZFS Chapter of the Handbook</title>

    <contact>
      <person>
	<name>
	  <given>Allan</given>
	  <common>Jude</common>
	</name>

	<email>allanjude@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Benedict</given>
	  <common>Reuschling</common>
	</name>

	<email>bcr@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Warren</given>
	  <common>Block</common>
	</name>

	<email>wblock@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="&base;/doc/en_US.ISO8859-1/books/handbook/zfs.html">ZFS Section of the FreeBSD Handbook</url>
    </links>

    <body>
      <p>ZFS is one of the premier features of FreeBSD and the quality
	of the documentation should match that of other important
	features.  Much of the original documentation from Sun and
	Oracle has disappeared, moved, or is about the proprietary
	version of ZFS.  The OpenZFS project does not provide much
	documentation and instead provides users with a few links,
	including the FreeBSD Handbook.  New users have many questions
	about ZFS and yet there exists a great deal more bad advice
	about ZFS than proper documentation.</p>

      <p>After over a year of work, a new ZFS chapter has been added
	to the FreeBSD Handbook.  Over 20,000 words describing the
	basics of creating, managing and maintaining a ZFS pool, as
	well as using some of the advanced features like compression,
	deduplication, and delegation.  The chapter also contains a
	glossary of terms, explaining a number of the concepts unique
	to ZFS.  The chapter also includes documentation of some of
	the many sysctl variables that can be used to tune ZFS.</p>

      <p>The remaining work is the FAQ section.  To help users address
	the most common questions or problems they might face with
	ZFS.  It would be useful to hear experiences, questions,
	misconceptions, gotchas, stumbling blocks and suggestions for
	the FAQ section from other users.  Also, a use cases section
	that highlights some of the cases where ZFS provides
	advantages over traditional file systems.</p>

      <p>Please send suggestions to the docs mailing list.</p>
    </body>

    <sponsor>ScaleEngine Inc.</sponsor>

    <help>
      <task>Technical review by Matt Ahrens (co-creator of ZFS)</task>
      <task>Improve delegation section</task>
      <task>Improve tuning section, add recently added sysctls</task>
      <task>Add section on jails and the jailed property</task>
      <task>Add FAQ section</task>
      <task>Add Use Cases section</task>
      <task>General editing and review</task>
    </help>
  </project>

  <project cat='proj'>
    <title>Jenkins Continuous Integration for FreeBSD</title>

    <contact>
      <person>
	<name>
	  <given>Craig</given>
	  <common>Rodrigues</common>
	</name>
	<email>rodrigc@FreeBSD.org</email>
      </person>

      <person>
	<name>Jenkins Administrators</name>
	<email>jenkins-admin@FreeBSD.org</email>
      </person>

      <person>
	<name>&os; Testing</name>
	<email>freebsd-testing@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://jenkins.freebsd.org">Jenkins CI server in &os; cluster</url>
      <url href="https://wiki.freebsd.org/201405DevSummit/Jenkins">Jenkins working group at DevSummit</url>
      <url href="http://www.bsdcan.org/2014/schedule/events/445.en.html">Jenkins presentation at BSDCan</url>
      <url href="http://clang-analyzer.llvm.org/scan-build.html">clang static analyzer</url>
      <url href="http://scan.freebsd.org">FreeBSD static analysis results</url>
      <url href="http://www.bsdnow.tv/episodes/2014_07_02-base_iso_100">BSD Now episode 44</url>
      <url href="http://www.slideshare.net/CraigRodrigues1/libvirt-bhyve">livirt and bhyve"</url>
      <url href="https://github.com/jmmv/kyua">Kyua testing framework</url>
      <url href="https://issues.jenkins-ci.org/browse/JENKINS-24521">Issue to update Jenkins to JNA 4.1.0 for FreeBSD</url>
      <url href="https://github.com/jenkinsci/jenkins/pull/1387">Pull request #1 to upgrade JNA in Jenkins</url>
      <url href="https://github.com/jenkinsci/jenkins/pull/1410">Pull request #2 to upgrade JNA in Jenkins</url>
      <url href="http://jenkins.mouf.net/job/pkg/">Jenkins job for testing pkg</url>
      <url href="https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=193499">yacc bug found by kyua</url>
      <url href="https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=193246">IPv6 multicast join() problem found by Jenkins</url>
      <url href="https://github.com/rodrigc/kyua/wiki/Quickstart-Guide">Kyua Quickstart Guide</url>
    </links>

    <body>
      <p>In May, &a.rodrigc; led a working group <em>Continuous
	  Integration and Testing with Jenkins for FreeBSD</em> at the
	FreeBSD Devsummit in Ottawa.  &a.rodrigc; also gave a Jenkins
	presentation at BSDCan.</p>

      <p>At BSDCan, &a.rodrigc; had some discussions with &a.jmmv;
	about how to better integrate &os; testing efforts with
	Jenkins and kyua.  As a result of this discussion, &a.jmmv;
	enhanced the <tt>kyua</tt> testing framework with a
	<tt>kyua report-junit</tt> command.  This command takes kyua
	test results and outputs a test report in JUnit XML format.
	Jenkins can directly import JUnit XML test results and display
	them nicely.</p>

      <p>In June, &a.rodrigc; was interviewed for episode 44 of BSD
	Now.  The interview covered Jenkins and Continuous Integration
	in the &os; project.</p>

      <p>In July, &a.rodrigc; gave a presentation to the Bay Area &os;
	Users Group (BAFUG), <em>Libvirt and bhyve</em>, based on
	experience he had with those technologies when used with
	Jenkins.</p>

      <p>&a.lwhsu; set up a Jenkins job to run the LLVM scan-build
	tool to perform static analysis of the &os; code, and make the
	results availalble at <tt>scan.freebsd.org</tt>.</p>

      <p>&a.swills; modified the Jenkins job which builds
	<tt>pkg(8)</tt> to use the <tt>kyua report-junit</tt> command
	to integrate <tt>pkg(8)</tt> test results in Jenkins.</p>

      <p>Anthony Williams reported that the version of the Java
	Native Access (JNA) library bundled with Jenkins has problems
	on &os;.  This causes problems with Jenkins using libpam and
	other plugins which use JNA.  Craig filed JENKINS-24521
	against Jenkins.  Craig submitted patches to Jenkins to update
	Jenkins to use JNA 4.1.0, which has fixes for &os;.  Github
	pull request 1410 was accepted into Jenkins, while pull
	request 1387 is pending.</p>

      <p>&a.rodrigc; worked on automatically running the tests in the
	&os; <tt>/usr/tests</tt> directory under Jenkins using the
	<tt>kyua</tt> test framework.  &a.rodrigc; provided feedback
	to &a.jmmv; about <tt>kyua</tt> and &a.jmmv; incorporated some
	of the feedback as bugfixes and feature enhancements to
	<tt>kyua</tt>.  &a.rodrigc; committed some fixes to &os; to
	eliminate some test failures.  One of the tests still results
	in a crash in byacc.  This is being tracked in PR 193499.
	Thomas E. Dickey (byacc maintainer) submitted a patch to fix
	the problem, and this has been committed to FreeBSD.</p>

      <p>&a.rodrigc; analyzed the cause of some startup errors in
	Jenkins when opening a multicast socket.  He had some
	discussion with &a.bms; captured in PR 193246.  The Java JDK
	depends on functionality in Solaris where it is possible to
	open an IPv4 multicast socket, but with an IPv4 multicast
	address mapped to an IPv6 address.  On Linux, there are
	modifications to the JDK itself to work around this.  &a.bms;
	said that the work to make the FreeBSD IPv6 stack behave like
	Solaris would require some work.</p>

      <p>&a.rodrigc; started writing a Kyua Quickstart Guide.  This
	guide is meant to help new kyua users who want to write tests
	and run them under kyua.  &a.rodrigc; is seeking feedback to
	help improve this guide.</p>
    </body>

    <help>
      <task>
	Upstream more fixes to Jenkins for FreeBSD, such as JNA fixes.
      </task>

      <task>
	Automate the build of <tt>/usr/tests</tt>.
      </task>

      <task>
	Set up more builds based on examples from the existing FreeBSD
	Tinderbox.
      </task>

      <task>
	Get feedback for improving the Kyua Quickstart Guide.
      </task>

      <task>
	We need more people to join us on freebsd-testing@freebsd.org
	and help out.  We especially need people with devops and
	scripting experience to help us set up more builds and tests.
	We would also like to integrate with other parts of the
	project, such as Phabricator.
      </task>
    </help>
  </project>
</report>
