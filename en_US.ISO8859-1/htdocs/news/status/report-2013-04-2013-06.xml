<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE report PUBLIC "-//FreeBSD//DTD FreeBSD XML Database for Status Report//EN" "http://www.FreeBSD.org/XML/www/share/xml/statusreport.dtd" >
<!-- $FreeBSD$ -->
<report>
  <date>
    <month>April-June</month>

    <year>2013</year>
  </date>

  <section>
    <title>Introduction</title>

    <p>This report covers &os;-related projects between April and June
      2013.  This is the second of four reports planned for 2013.</p>

    <!-- XXX: theraven's part goes here -->

    <!-- XXX: keep updating the number of entries -->
    <p>Thanks to all the reporters for the excellent work!  This report
      contains 7 entries and we hope you enjoy reading it.</p>

    <!-- XXX: set date for the next set of submissions -->
    <p>The deadline for submissions covering between July and September 2013
      is not yet decided.</p>
  </section>

  <category>
    <name>team</name>

    <description>&os; Team Reports</description>
  </category>

  <category>
    <name>proj</name>

    <description>Projects</description>
  </category>

  <category>
    <name>kern</name>

    <description>Kernel</description>
  </category>

  <category>
    <name>arch</name>

    <description>Architectures</description>
  </category>

  <category>
    <name>bin</name>

    <description>Userland Programs</description>
  </category>

  <project cat='proj'>
    <title>PC-BSD</title>

    <contact>
      <person>
	<name>
	  <given>Kris</given>
	  <common>Moore</common>
	</name>
	<email>kmoore@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.pcbsd.org">PC-BSD Home Page</url>
    </links>

    <body>
      <p>Progress on moving PC-BSD &amp; TrueOS to a "rolling release"
	is happening quickly.  We have implemented our own package
	repository, fully based on <tt>pkg(8)</tt>, which is updated twice
	monthly, and are now hosting dedicated
	<tt>freebsd-update(8)</tt> systems.  In addition to the
	<tt>9.1-RELEASE</tt> ISO images, we have begun to create a
	<tt>9-STABLE</tt> branch as well, using
	<tt>freebsd-update(8)</tt> to push out the latest world and
	kernel binaries on a monthly basis.</p>

      <p>We are currently working on an implementation of ZFS Boot
	Environments for desktops and servers.  These users to install
	updates or experimental versions in separate ZFS clones and
	select the one to run at boot time, providing an easy way of
	testing upgrades before deployment.</p>
    </body>
  </project>

  <project cat='kern'>
    <title>Wireless Networking Improvements</title>

    <contact>
      <person>
	<name>
	  <given>Adrian</given>
	  <common>Chadd</common>
	</name>
	<email>adrian@FreeBSD.org</email>
      </person>
    </contact>

    <links/>

    <body>
      <p>Recently the &os; wireless networking stack has received
	updates in the following areas:</p>

      <ul>
	<li>Improved transmit locking in <tt>net80211(4)</tt> to
	  eliminate a whole class of subtle race conditions leading to
	  out-of-order packets being handed to the driver.</li>

	<li>Spectral scan (FFT) information is now available for the
	  AR9280, AR9285, AR9287 series NICs.</li>

	<li>Added support for AR93xx, AR94xx, AR95xx NICs &mdash;
	  <tt>hostap</tt>, <tt>adhoc</tt> and <tt>station</tt> modes
	  have been tested, including 3x3 stream support for the those
	  NICs where appropriate.</li>

	<li>Implemented ps-poll handling in <tt>hostap</tt> mode.  This
	  was required for correct behaviour with stations that implement
	  aggressive power save.</li>

	<li>Added AR933x SoC support &mdash; including all on-board
	  peripherals &mdash; the <tt>8devices.com</tt> Carambola-2
	  board is now fully supported and will run &os; from NOR
	  flash.</li>
      </ul>
    </body>
  </project>

  <project cat='arch'>
    <title>Intel IOMMU (VT-d, DMAR) Support</title>

    <contact>
      <person>
	<name>
	  <given>Konstantin</given>
	  <common>Belousov</common>
	</name>
	<email>kib@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.intel.com/content/www/us/en/intelligent-systems/intel-technology/vt-directed-io-spec.html"/>
      <url href="http://lists.freebsd.org/pipermail/freebsd-arch/2013-May/014368.html"/>
      <url href="http://people.freebsd.org/~kib/misc/dmar.1.patch"/>
    </links>

    <body>
      <p>A VT-d driver was developed that implements the
	<tt>busdma(9)</tt> interface using the DMA Remap units (DMARs)
	found in current Intel chipsets.  The driver provides
	reliability and security improvements for the system by
	facilitating restricted access to main memory from busmastering
	devices.</p>

      <p>It also eliminates bounce buffering (copying) by allocating
	remapped regions that satisfy a device's access limitations.</p>

      <p>With additional work to define a suitable interface the VT-d
	driver will also provide PCI pass-through functionality for
	hypervisors.</p>

      <p>This project is sponsored by the &os; Foundation.</p>
    </body>

    <help>
      <task>Implement workarounds for chipset errata.</task>

      <task>Commit to HEAD after additional testing.</task>

      <task>Rebalance MSI/MSI-X using interrupt remapping unit, also
	required for x2APIC use on big machines.</task>

      <task>Integrate with the Intel GPU MMU and handle Ironlake and
	SandyBridge errata for the GFXVTd unit.</task>

      <task>Provide an interface for VMM (hypervisors).</task>

      <task>Consider implementing a driver for AMD's IOMMU.</task>
    </help>
  </project>

  <project cat='kern'>
    <title>Multi-threaded Pagedaemon</title>

    <contact>
      <person>
	<name>
	  <given>Konstantin</given>
	  <common>Belousov</common>
	</name>
	<email>kib@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://people.freebsd.org/~kib/misc/pagedaemon-numa.1.patch"/>
    </links>

    <body>
      <p>This project aims to improve scalability of the virtual memory
	subsystem.  Based on a prototype change from Jeff Roberson,
	per-domain page queues and per-domain pagedaemon working threads
	have been implemented to enable this.  At the moment, the
	domains coincide with the NUMA proximity domains, but this is
	not neccessary and could be improved with further separation to
	allow more parallelism in the pagedaemon.</p>

      <p>The patch is relatively simple, with the most delicate parts
	being the page laundry and OOM logic, which requires coordination
	between all pagedaemon threads to prevent false triggering.</p>

      <p>Testing on diverse workloads and on real multi-socket machines
	is required.</p>

      <p>This project is sponsored by the &os; Foundation.</p>
    </body>

    <help>
      <task>Debug on multi-domain NUMA machine.</task>

      <task>Test, get review and commit.</task>
    </help>
  </project>

  <project cat='bin'>
    <title>HAST Module for <tt>bsnmpd(1)</tt></title>

    <contact>
      <person>
	<name>
	  <given>Mikolaj</given>
	  <common>Golub</common>
	</name>
	<email>trociny@FreeBSD.org</email>
      </person>
    </contact>

    <links/>

    <body>
      <p>HAST module for <tt>bsnmpd(1)</tt> has been committed to
	-CURRENT and merged to 8.x and 9.x -STABLE branches.  The module
	allows to monitor and manage HAST via the SNMP protocol.</p>
    </body>
  </project>

  <project cat='team'>
    <title>&os; Release Engineering Team</title>

    <contact>
      <person>
	<name>&os; Release Engineering Team</name>
	<email>re@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.freebsd.org/releases/8.4R/errata.html"/>
      <url href="http://www.freebsd.org/releases/9.2R/schedule.html"/>
    </links>

    <body>
      <p>The &os;&nbsp;8.4-RELEASE cycle completed on June 7, 2013,
	approximately two months behind the original schedule.  Please
	be sure to read the Errata Notices for any post-release issues
	discovered after 8.4-RELEASE.</p>

      <p>The &os;&nbsp;9.2-RELEASE process will begin July 6, 2013.
	Unless any critical issues arise, &os;&nbsp;9.2-RELEASE is
	expected to be available late August or early September.</p>

      <p>Users tracking the &os;&nbsp;9.<i>X</i> branch are encouraged
	to test the -BETA and -RC builds whenever possible, and provide
	feedback and report issues to the <a
	  href="http://lists.freebsd.org/pipermail/freebsd-stable">freebsd-stable
	  mailing list</a>.</p>
    </body>
  </project>

  <project cat='proj'>
    <title>Virtual Private Systems</title>

    <contact>
      <person>
	<name>
	  <given>Klaus</given>
	  <common>Ohrhallinger</common>
	</name>
	<email>k@7he.at</email>
      </person>
    </contact>

    <links>
      <url href="http://www.7he.at/freebsd/vps/"/>
      <url href="http://svnweb.freebsd.org/base/projects/vps/"/>
    </links>

    <body>
      <p>VPS for &os; is an OS-level based virtualization implementation
	that supports advanced features like live migration.  It has
	been recently imported into the Project's Subversion repository
	as a project branch.  The code is currently of alpha
	quality.</p>
    </body>

    <help>
      <task>Test with many different guest setups/applications.  All
	feedback is highly appreciated.</task>
    </help>
  </project>
</report>
