<!--
     The FreeBSD Documentation Project

     $FreeBSD$
-->

<chapter id="linuxemu">
  <chapterinfo>
    <authorgroup>
      <author>
	<firstname>Jim</firstname>
	<surname>Mock</surname>
	<contrib>Restructurado y partes actualizadas por </contrib>
      </author>
      <!-- 22 Mar 2000 -->
    </authorgroup>
    <authorgroup>
      <author>
	<firstname>Brian N.</firstname>
	<surname>Handy</surname>
	<contrib>Originalmente contribuido por </contrib>
      </author>
      <author>
	<firstname>Rich</firstname>
	<surname>Murphey</surname>
      </author>
    </authorgroup>
  </chapterinfo>

  <title>Compatibilidad binaria con Linux</title>

  <sect1 id="linuxemu-synopsis">
    <title>Sinopsis</title>
    <indexterm><primary>compatibilidad binaria con Linux</primary></indexterm>
    <indexterm>
      <primary>compatibilidad binaria</primary>
      <secondary>Linux</secondary>
    </indexterm>

    <para>FreeBSD brinda compatibilidad de binarios con muchos otros
      sistemas operativos tipo &unix;, incluyendo Linux. En este
      punto, usted se puede estar preguntando ¿por qu&eacute;,
      exactamente necesita FreeBSD ejecutar binarios de Linux? La
      respuesta a esa pregunta es muy simple. Muchas compa&ntilde;&iacute;as
      y desarrolladores desarrollan solo para Linux, ya que es la
      <quote>cosa caliente</quote> del mundo computacional ultimamente.
      Eso nos deja al resto de nosotros, usuarios de FreeBSD la tarea
      de irritar a esas mismas compa&ntilde;&iacute;as y desarrolladores
      para que saquen versiones nativas de FreeBSD de sus aplicaciones.
      El problema es, que la mayor&iacute;a de esas compa&ntilde;&iacute;as
      no se dan cuenta realmente cuantas personas utilizar&iacute;an
      su producto si hubiera versiones para FreeBSD tambi&eacute;n, y
      la mayor&iacute;a continua desarrollando solamente para Linux.
      Entonces ¿que puede hacer un usuario de FreeBSD? Aqu&iacute;
      es donde entra en juego la compatibilidad de binarios con
      Linux.</para>

    <para>En resumen, la compatibilidad le permite a usuarios FreeBSD
      ejecutar cerca del 90% de todas las aplicaciones Linux sin
      modificaci&oacute;n. Esto incluye aplicaciones como <application>&staroffice;</application>,
      la versi&oacute;n Linux de <application>&netscape;</application>,
      <application>&adobe;&nbsp;&acrobat;</application>,
      <application><trademark class="registered">RealPlayer</trademark></application>,
      <application><trademark>VMware</trademark></application>,
      <application>&oracle;</application>,
      <application><trademark class="registered">WordPerfect</trademark></application>, <application>Doom</application>,
      <application>Quake</application> y m&aacute;s. Se ha resportado
      tambi&eacute;n que en algunas situaciones los binarios Linux
      se desempe&ntilde;an mejor en FreeBSD que en Linux.</para>

    <para>Existen, de todas maneras, algunas opciones de sistema
      operativo espec&iacute;ficas de Linux que no est&aacute;n
      soportadas bajo FreeBSD. Los binarios Linux no funcionar&aacute;n
      en FreeBSD si sobreutilizan llamadas &i386; espec&iacute;ficas,
      como la habilitaci&oacute;n del modo virtual 8086.</para>
 
    <para>Despues de leer este cap&iacute;tulo usted sabr&aacute;:</para>
    <itemizedlist>
      <listitem>
        <para>Como habilitar la compatibilidad de binarios Linux en su
          sistema.</para>
      </listitem>

      <listitem>
        <para>Como instalar librer&iacute;as compartidas Linux adicionales.
	  </para>
	</listitem>

      <listitem>
        <para>Como instalar aplicaciones Linux en su sistema FreeBSD.</para>
      </listitem>

      <listitem>
        <para>Los detalles de la implementaci&oacute;n de compatibilidad
          de binarios Linux en FreeBSD.</para>
      </listitem>
    </itemizedlist>

    <para>Antes de leer este cap&iacute;tulo, usted debe:</para>

    <itemizedlist>
      <listitem>
        <para>Saber como instalar software adicional de
          terceros (<xref linkend="ports">).</para>
      </listitem>
    </itemizedlist>

  </sect1>

  <sect1 id="linuxemu-lbc-install">
    <title>Instalaci&oacute;n</title>

    <indexterm><primary>KLD (objeto cargable del kernel)</primary></indexterm>

    <para>La compatibilidad binaria con Linux no est&aacute; activada
      por omisi&oacute;n. La manera m&aacute;s sencilla de habilitar
      esta funcionalidad es cargar el objeto KLD <literal>linux</literal>
      (<quote>objeto cargable del kernel</quote>). Puede cargar este
      m&oacute;dulo tecleando lo siguiente como <username>root</username>:</para>

    <screen>&prompt.root; <userinput>kldload linux</userinput></screen>

    <para>Si desea que la compatibilidad con Linux est&eacute;
      habilitada siempre, entonces debe agregar la siguiente l&iacute;nea
      a <filename>/etc/rc.conf</filename>:</para>

    <programlisting>linux_enable="YES"</programlisting>

    <para>El comando &man.kldstat.8; se puede utilizar para verificar
      que el KLD est&eacute; cargado:</para>

    <screen>&prompt.user; <userinput>kldstat</userinput>
Id Refs Address    Size     Name
 1    2 0xc0100000 16bdb8   kernel
 7    1 0xc24db000 d000     linux.ko</screen>
    <indexterm>
      <primary>kernel options</primary>
      <secondary>LINUX</secondary>
    </indexterm>

    <para>Si por alguna raz&oacute;n no desea o no puede cargar el KLD,
      entonces puede enlazar estaticamente la compatibilidad de binarios
      Linux en el kernel agregando <literal>options COMPAT_LINUX</literal>
      a su archivo de configuraci&oacute;n del kernel. Entonces instale
      su nuevo kernel como se describe en
      <xref linkend="kernelconfig">.</para>

    <sect2>
      <title>Instalando librer&iacute;as de ejecuci&oacute;n linux</title>
      <indexterm>
	<primary>Linux</primary>
	<secondary>instalando librer&iacute;as Linux</secondary>
      </indexterm>

      <para>Esto puede realizarse de dos maneras, ya sea usando
        el port <link linkend="linuxemu-libs-port">linux_base</link>,
        o instal&aacute;ndolas 
	<link linkend="linuxemu-libs-manually">manualmente</link>.</para>

      <sect3 id="linuxemu-libs-port">
	<title>Instalaci&oacute;n usando el port linux_base</title>
	<indexterm><primary>colecci&oacute;n de ports</primary></indexterm>

        <para>Este es por mucho el m&eacute;todo mas sencillo de utilizar
          para instalar librer&iacute;as de ejecuci&oacute;n. Es como
          instalar cualquier otro port desde la
          <ulink type="html" url="file://localhost/usr/ports/">colecci&oacute;n
          de ports</ulink>. Simplemente haga lo siguiente:</para>

	<screen>&prompt.root; <userinput>cd /usr/ports/emulators/linux_base</userinput>
&prompt.root; <userinput>make install distclean</userinput></screen>

        <para>Ahora debe tener una compatibilidad de binarios Linux
          funcional. Algunos programas pueden quejarse de versiones
          inferiores incorrectas de las librer&iacute;as del sistema.
          En general, de todas formas, esto no parece ser un problema.</para>

        <note><para>Pueden existir m&uacute;ltiples versiones disponibles
          del port <filename role="package">emulators/linux_base</filename>,
          correspondiendo a diferentes versiones de varias distribuciones
          Linux. Debe instalar el port que m&aacute;s se parezca a
          los requerimientos de las aplicaciones Linux que quiera
          instalar.</para></note>

      </sect3>

      <sect3 id="linuxemu-libs-manually">
	<title>Instalaci&oacute;n manual de librer&iacute;as</title>

        <para>Si no tiene instalada la colecci&oacute;n de 
	  <quote>ports</quote>,
          en su lugar puede instalar las librer&iacute;as a mano.
          Necesitar&aacute; las librer&iacute;as compartidas Linux de
          las que depende el programa y el enlazador en tiempo de
          ejecuci&oacute;n (runtime linker). Tambi&eacute;n, necesitar&aacute;
          crear un directorio <quote>ra&iacute;z sombra</quote>,
          <filename>/compat/linux</filename>, para librer&iacute;as Linux
          en su sistema FreeBSD. Cualquier librer&iacute;a compartida abierta
	  por los programas Linux que se ejecuten en FreeBSD buscar&aacute;n
          primero en este directorio. Por lo tanto, si se carga un
          programa Linux, por ejemplo, <filename>/lib/libc.so</filename>,
          FreeBSD primero tratar&aacute; de abrir
          <filename>/compat/linux/lib/libc.so</filename>, y si no
          existe, entonces tratar&aacute; con 
	  <filename>/lib/libc.so</filename>.  Las librer&iacute;as
	  compartidas deben ser instaladas en el &aacute;rbol sombra
	  <filename>/compat/linux/lib</filename> en lugar de las rutas que 
	  el <command>ld.so</command> de Linux reporta.</para>

        <para>Generalmente, necesitar&aacute; buscar las librer&iacute;as
          compartidas de las que los binarios Linux dependen solamente
          las primeras veces que instale un programa Linux en su sistema
          FreeBSD. Despues de un tiempo, tendr&aacute; un conjunto
          suficiente de librer&iacute;as compartidas Linux en su sistema
          para ser capaz de correr nuevos binarios Linux importados
          sin ning&uacute;n trabajo extra.</para>
      </sect3>

      <sect3>
        <title>Como instalar librer&iacute;as compartidas adicionales</title>
	<indexterm><primary>librer&iacute;as compartidas</primary></indexterm>

        <para>¿Que pasar&iacute;a si instala el port 
	  <filename>linux_base</filename> y su aplicaci&oacute;n 
	  todav&iacute;a se queja de librer&iacute;as compartidas no
	  existentes? ¿Como saber que librer&iacute;as compartidas necesitan
	  los binarios Linux? Basicamente, hay dos posibilidades (al seguir
	  estas instrucciones necesitar&aacute; estar como 
	  <username>root</username> en su sistema FreeBSD).</para>

        <para>Si tiene acceso a un sistema Linux, vea que librer&iacute;as
          necesita la aplicaci&oacute;n y c&oacute;pielas a su sistema
          FreeBSD. Vea los siguientes ejemplos:</para>

	<informalexample>
          <para>Vamos a asumir que utiliz&oacute; FTP para obtener los
            binarios Linux de <application>Doom</application>, y los
            puso en un sistema Linux al que tiene acceso. Entonces
            puede revisar que librer&iacute;as compartidas necesita
            ejecutando <command>ldd linuxdoom</command>, como esto:</para>

	  <screen>&prompt.user; <userinput>ldd linuxdoom</userinput>
libXt.so.3 (DLL Jump 3.1) =&gt; /usr/X11/lib/libXt.so.3.1.0
libX11.so.3 (DLL Jump 3.1) =&gt; /usr/X11/lib/libX11.so.3.1.0
libc.so.4 (DLL Jump 4.5pl26) =&gt; /lib/libc.so.4.6.29</screen>

	  <indexterm><primary>enlace simb&oacute;licos</primary></indexterm>
          <para>Necesitar&iacute;a obtener todos los archivos de la
            &uacute;ltima columna, y colocarlos en <filename>/compat/linux</filename>,
            con los nombres de la primera columna como enlaces
            simb&oacute;licos apuntando a ellos. Esto significa que
            eventualmente tiene esos archivos en su sistema FreeBSD:</para>

	  <screen>/compat/linux/usr/X11/lib/libXt.so.3.1.0
/compat/linux/usr/X11/lib/libXt.so.3 -&gt; libXt.so.3.1.0
/compat/linux/usr/X11/lib/libX11.so.3.1.0
/compat/linux/usr/X11/lib/libX11.so.3 -&gt; libX11.so.3.1.0
/compat/linux/lib/libc.so.4.6.29
/compat/linux/lib/libc.so.4 -&gt; libc.so.4.6.29</screen>

	  <blockquote>
	    <note>
              <para>Note que si usted ya tiene una librer&iacute;a
                compartida Linux con un n&uacute;mero de revisi&oacute;n
                mayor que concida con la primera columna de la salida de
                <command>ldd</command>, no necesitar&aacute; copiar el
                archivo nombrado en la &uacute;ltima columna a su sistema,
                el que ya tiene deber&iacute;a funcionar. Aunque se aconseja
                copiar la librer&iacute;a compartida de todas maneras
                si es una versi&oacute;n nueva. Puede eliminar la vieja,
                siempre que haga que el enlace simb&oacute;lico apunte
                a la nueva. Por eso, si tiene estas librer&iacute;as
                en su sistema:</para>

	      <screen>/compat/linux/lib/libc.so.4.6.27
/compat/linux/lib/libc.so.4 -&gt; libc.so.4.6.27</screen>

              <para>y encuentra un nuevo binario que demanda requerir una
                una versi&oacute;n m&aacute;s reciente de acuerdo a la
                salida de <command>ldd</command>:</para>

	      <screen>libc.so.4 (DLL Jump 4.5pl26) -&gt; libc.so.4.6.29</screen>

              <para>Si solo son una o dos versiones desfasadas en los
                &uacute;ltimos d&iacute;gitos entonces no se preocupe
                de copiar <filename>/lib/libc.so.4.6.29</filename>
                tambi&eacute;n, debido a que el programa debe funcionar
                bien con la versi&oacute;n ligeramente antigua.
                De todas formas, si gusta, puede decidir reemplazar
                <filename>libc.so</filename>, y eso le debe dejar con:</para>

	      <screen>/compat/linux/lib/libc.so.4.6.29
/compat/linux/lib/libc.so.4 -&gt; libc.so.4.6.29</screen>
	    </note>
	  </blockquote>

	  <blockquote>
	    <note>
              <para>El mecanismo de enlazado simb&oacute;lico es
                necesitado <emphasis>unicamente</emphasis> para
                binarios Linux. El enlazador en tiempo de ejecuci&oacute;n
                de FreeBSD se encarga de buscar el mismo revisiones mayores
                coincidentes y usted no necesita preocuparse de eso.</para>
	    </note>
	  </blockquote>
	</informalexample>
      </sect3>
    </sect2>

    <sect2>
      <title>Instalar binarios ELF Linux</title>
      <indexterm>
	<primary>Linux</primary>
	<secondary>binarios ELF</secondary>
      </indexterm>

      <para>Los binarios ELF algunas veces requieren un paso extra de
        <quote>marcado</quote>. Si trata de correr un binario ELF no
        marcado, obtendr&aacute; un mensaje de error como el siguiente:</para>

      <screen>&prompt.user; <userinput>./my-linux-elf-binary</userinput>
ELF binary type not known
Abort</screen>

      <para>Para ayudar al kernel de FreeBSD a distinguir entre un binario
        ELF de FreeBSD y uno de Linux, use la utlidad &man.brandelf.1;.</para>

      <screen>&prompt.user; <userinput>brandelf -t Linux my-linux-elf-binary</userinput></screen>

      <indexterm><primary>GNU toolchain</primary></indexterm>
      <para>Las herramientas GNU ahora colocan el marcado de
        informaci&oacute;n apropiada en los binarios ELF
        automaticamente, por lo tanto este paso deber&iacute;a convertirse
        en innecesario en el futuro.</para>
         
    </sect2>

    <sect2>
      <title>Configurando el resolvedor de nombres de equipo</title>

      <para>Si el DNS no funciona u obtiene este mensaje:</para>

      <screen>resolv+: "bind" is an invalid keyword resolv+:
"hosts" is an invalid keyword</screen>

      <para>Necesitar&aacute; configurar un archivo
        <filename>/compat/linux/etc/host.conf</filename>
        conteniendo:</para>

      <programlisting>order hosts, bind
multi on</programlisting>

      <para>El orden aqu&iacute; especifica que 
        <filename>/etc/hosts</filename> es analizado primero y DNS es usado
	despues. Cuando <filename>/compat/linux/etc/host.conf</filename> no
        est&aacute; instalado, las aplicaciones Linux encuentran el
	<filename>/etc/host.conf</filename> de FreeBSD y se quejan de la
	sintaxis incompatible de FreeBSD. Debe eliminar 
	<literal>bind</literal> si no tiene configurado un servidor de
	nombres usando el archivo <filename>/etc/resolv.conf</filename>.
	</para>
    </sect2>
  </sect1>

  <sect1 id="linuxemu-mathematica">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Murray</firstname>
	  <surname>Stokely</surname>
	  <contrib>Actualizado para Mathematica 4.X por </contrib>
	</author>
      </authorgroup>
      <authorgroup>
	<author>
	  <firstname>Bojan</firstname>
	  <surname>Bistrovic</surname>
	  <contrib>Fusionado con trabajo de </contrib>
	</author>
      </authorgroup>
    </sect1info>
    <title>Instalando &mathematica;</title>

    <indexterm>
      <primary>aplicaciones</primary>
      <secondary><application>Mathematica</application></secondary>
    </indexterm>

    <para>Este documento describe el proceso de instalaci&oacute;n
      de la versi&oacute;n para Linux de 
      <application>&mathematica; 4.X</application> en un sistema FreeBSD.
      </para>

    <para>La versi&oacute;n para Linux de 
      <application>&mathematica;</application> corre perfectamente bajo
      FreeBSD, de todas maneras, los binarios liberados por Wolfram 
      necesitan ser marcados para que FreeBSD sepa que tiene que utilizar 
      la ABI Linux para ejecutarlos.</para>

    <para>La versi&oacute;n para Linux de 
      <application>&mathematica;</application> o 
      <application>&mathematica; para estudiantes</application> puede
      ser solicitada directamente de Wolfram en
      <ulink url="http://www.wolfram.com/"></ulink>.</para>

    <sect2>
      <title>Marcando los binarios Linux</title>

      <para>Los binarios Linux est&aacute;n localizados en el directorio
        <filename>Unix</filename> del CDROM de 
	<application>&mathematica;</application> distribuido por Wolfram.
	Necesita copiar este &aacute;rbol de directorios a su disco duro
	local para que pueda marcar los binarios Linux con 
	&man.brandelf.1; antes de ejecutar el instalador:</para>

      <screen>&prompt.root; <userinput>mount /cdrom</userinput>
&prompt.root; <userinput>cp -rp /cdrom/Unix/ /localdir/</userinput>
&prompt.root; <userinput>brandelf -t Linux /localdir/Files/SystemFiles/Kernel/Binaries/Linux/*</userinput>
&prompt.root; <userinput>brandelf -t Linux /localdir/Files/SystemFiles/FrontEnd/Binaries/Linux/*</userinput>
&prompt.root; <userinput>brandelf -t Linux /localdir/Files/SystemFiles/Installation/Binaries/Linux/*</userinput>
&prompt.root; <userinput>brandelf -t Linux /localdir/Files/SystemFiles/Graphics/Binaries/Linux/*</userinput>
&prompt.root; <userinput>brandelf -t Linux /localdir/Files/SystemFiles/Converters/Binaries/Linux/*</userinput>
&prompt.root; <userinput>brandelf -t Linux /localdir/Files/SystemFiles/LicenseManager/Binaries/Linux/mathlm</userinput>
&prompt.root; <userinput>cd /localdir/Installers/Linux/</userinput>
&prompt.root; <userinput>./MathInstaller</userinput></screen>

      <para>Alternativamente, puede simplemente activar la
        marcaci&oacute;n por omisi&oacute;n de binarios ELF a
        Linux para todos los binarios no marcados con el comando:</para>
        
      <screen>&prompt.root; <userinput>sysctl kern.fallback_elf_brand=3</userinput></screen>
      <para>Esto provocar&aacute; que FreeBSD asuma que los binarios
        ELF utilicen la ABI Linux y por lo tanto debe ser capaz de 
        correr el instalador directamente desde el CDROM.</para>
    </sect2>

    <sect2>
      <title>Obteniendo su contrase&ntilde;a de &mathematica;</title>

      <para>Antes de que pueda correr <application>&mathematica;</application>
        tendr&aacute; que obtener
        una contrase&ntilde;a de Wolfram que corresponda a su
        <quote>ID de m&aacute;quina</quote>.</para>
      <indexterm>
	<primary>Ethernet</primary>
	<secondary>direcci&oacute;n MAC</secondary>
      </indexterm>

      <para>Una vez que tenga instalada las librer&iacute;as de compatibilidad
        en tiempo de ejecuci&oacute;n y descompactado <application>&mathematica;</application>
        puede obtener la
        <quote>ID de m&aacute;quina</quote> corriendo el programa
        <command>mathinfo</command> en el directorio de instalaci&oacute;n.
        Esta ID de m&aacute;quina est&aacute; basada solamente en
        la direcci&oacute;n MAC de su primera tarjeta de red.</para>

      <screen>&prompt.root; <userinput>cd /localdir/Files/SystemFiles/Installation/Binaries/Linux</userinput>
&prompt.root; <userinput>mathinfo</userinput>
disco.example.com 7115-70839-20412</screen>

      <para>Cuando se registre con Wolfram, ya sea por correo, tel&eacute;fono
        o fax, le proporcionar&aacute; la <quote>ID de m&aacute;quina</quote>
        y le responder&aacute;n con una contrase&ntilde;a correspondiente
        consistiendo en grupos de n&uacute;meros. Puede ingresar esta
        informaci&oacute;n cuando trate de ejecutar <application>&mathematica;</application>
        por primera vez exactamente como lo har&iacute;a para
        cualquier otra plataforma de 
        <application>&mathematica;</application>.</para>
    </sect2>

    <sect2>
      <title>Ejecutando el Frontend de &mathematica; a trav&eacute;s de la red</title>

      <para><application>&mathematica;</application> utiliza algunas
        fuentes especiales para desplegar caracteres no
        presentes en cualquier otro conjunto de fuentes est&aacute;ndar
        (integrales, sumatorias, letras griegas, etc). El protocolo X
        requiere que estas fuentes sean instaladas <emphasis>localmente</emphasis>.
        Esto significa que tendr&aacute; que copiar estas fuentes desde
        el CDROM a desde un equipo con <application>&mathematica;</application>
        instalado a su m&aacute;quina local. Estas fuentes son
        almacenadas normalmente en
        <filename>/cdrom/Unix/Files/SystemFiles/Fonts</filename> en
        el CDROM, o
        <filename>/usr/local/mathematica/SystemFiles/Fonts</filename>
        en su disco duro. Las verdaderas fuentes se encuentran en
        los subdirectorios <filename>Type1</filename> y <filename>X</filename>.
        Hay muchas maneras de utilizarlas, como se describe abajo.</para>

      <para>La primera manera es copiarlas a uno de los directorios de
        fuentes existentes en <filename>/usr/X11R6/lib/X11/fonts</filename>.
        Esto requerir&aacute; editar el archivo <filename>fonts.dir</filename>,
        agregandole los nombres de fuentes, y cambiando el n&uacute;mero
        de fuentes en la primera l&iacute;nea. Alternativamente,
        debe ser capaz de ejecutar solamente &man.mkfontdir.1; en
        el directorio a donde las ha copiado.</para> 

      <para>La segunda manera de hacer esto es copiar los directorios
        a <filename>/usr/X11R6/lib/X11/fonts</filename>:</para>

      <screen>&prompt.root; <userinput>cd /usr/X11R6/lib/X11/fonts</userinput>
&prompt.root; <userinput>mkdir X</userinput>
&prompt.root; <userinput>mkdir MathType1</userinput>
&prompt.root; <userinput>cd /cdrom/Unix/Files/SystemFiles/Fonts</userinput>
&prompt.root; <userinput>cp X/* /usr/X11R6/lib/X11/fonts/X</userinput>
&prompt.root; <userinput>cp Type1/* /usr/X11R6/lib/X11/fonts/MathType1</userinput>
&prompt.root; <userinput>cd /usr/X11R6/lib/X11/fonts/X</userinput>
&prompt.root; <userinput>mkfontdir</userinput>
&prompt.root; <userinput>cd ../MathType1</userinput>
&prompt.root; <userinput>mkfontdir</userinput></screen>

      <para>Ahora agregue los nuevos directorios de fuentes a su ruta
        de fuentes:</para>

      <screen>&prompt.root; <userinput>xset fp+ /usr/X11R6/lib/X11/fonts/X</userinput>
&prompt.root; <userinput>xset fp+ /usr/X11R6/lib/X11/fonts/MathType1</userinput>
&prompt.root; <userinput>xset fp rehash</userinput></screen>

      <para>Si est&aacute; utilizando el servidor <application>&xorg;</application>, puede
        hacer que estos directorios de fuentes se carguen automaticamente
        a&ntilde;adi&eacute;ndolos a su archivo <filename>xorg.conf</filename> file.</para>

      <note><para>Para servidores <application>&xfree86;</application>,
        el archivo de configuraci&oacute;n es <filename>XF86Config</filename>.</para></note>
      <indexterm><primary>fuentes</primary></indexterm>

      <para>Si todav&iacute;a <emphasis>no</emphasis> tiene un directorio
        llamado <filename>/usr/X11R6/lib/X11/fonts/Type1</filename>,
        puede cambiar el nombre del directorio <filename>MathType1</filename>
        en el ejemplo de arriba a <filename>Type1</filename>.</para>
    </sect2>
  </sect1>

  <sect1 id="linuxemu-maple">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Aaron</firstname>
	  <surname>Kaplan</surname>
<!--	  <address><email>aaron@lo-res.org</email></address>-->
	  <contrib>Contribuido por </contrib>
	</author>
      </authorgroup>
      <authorgroup>
	<author>
	  <firstname>Robert</firstname>
	  <surname>Getschmann</surname>
<!--	  <address><email>rob@getschmann.org</email></address>-->
	  <contrib>Gracias a </contrib>
	</author>
      </authorgroup>
    </sect1info>
    <title>Instalando &maple;</title>

    <indexterm>
      <primary>aplicaciones</primary>
      <secondary><application>Maple</application></secondary>
    </indexterm>

    <para><application>&maple;</application> es un programa de matem&aacute;ticas comercial
      similar a <application>&mathematica;</application>. Debe adquirir este software
      desde <ulink url="http://www.maplesoft.com/"></ulink> y entonces
      registrarlo para recibir un archivo de licencia. Para instalar 
      este software en FreeBSD siga por favor estos siemples pasos.</para>

      <procedure>
        <step><para>Ejecute el script de shell <filename>INSTALL</filename>
          desde la distribuci&oacute;n del producto. Elija
          la opci&oacute;n <quote>RedHat</quote> cuando
          le pregunte el programa de instalaci&oacute;n. Un
          directorio de instalaci&oacute;n t&iacute;pico
          puede ser <filename
	  class="directory">/usr/local/maple</filename>.</para></step>

        <step><para>Si no lo ha hecho, ordene una licencia para <application>&maple;</application>
          desde Maple Waterloo Software (<ulink url="http://register.maplesoft.com/"></ulink>)
          y c&oacute;piela a
	  <filename>/usr/local/maple/license/license.dat</filename>.</para></step>

        <step><para>Instale el manejador de licencias <application>FLEXlm</application>
          ejecutando el script de shell de instalaci&oacute;n <filename>INSTALL_LIC</filename>
          que viene con <application>&maple;</application>. Especifique
          el nombre de equipo primario de su m&aacute;quina para
          el servidor de licencias.</para></step>

        <step><para>Parchee el archivo
          <filename>/usr/local/maple/bin/maple.system.type</filename>
          con lo siguiente:</para>

<programlisting>   ----- snip ------------------
*** maple.system.type.orig      Sun Jul  8 16:35:33 2001
--- maple.system.type   Sun Jul  8 16:35:51 2001
***************
*** 72,77 ****
--- 72,78 ----
          # the IBM RS/6000 AIX case
          MAPLE_BIN="bin.IBM_RISC_UNIX"
          ;;
+     "FreeBSD"|\
      "Linux")
          # the Linux/x86 case
        # We have two Linux implementations, one for Red Hat and
   ----- snip end of patch -----</programlisting>

        <para>Por favor note que despues de <literal>"FreeBSD"|\</literal>
          no se encuentre ning&uacute;n espacio en blanco.</para>
 
        <para>Este parche le instruye a <application>&maple;</application>
          que reconozca a <quote>FreeBSD</quote> como un tipo de sistema
          Linux. El script de shell <filename>bin/maple</filename>
          llama al script de shell <filename>bin/maple.system.type</filename>
          el cual a su vez llama a <command>uname -a</command> para
          encontrar el nombre del sistema operativo. Dependiendo del
          nombre del sistema operativo sabr&aacute; que binarios
          utilizar.</para></step>

      <step><para>Inicie el servidor de licencias.</para>

        <para>El siguiente script, instalado como
          <filename>/usr/local/etc/rc.d/lmgrd.sh</filename> es una
          manera conveniente de iniciar <command>lmgrd</command>:</para>

	<programlisting>   ----- snip ------------

#! /bin/sh
PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/usr/X11R6/bin
PATH=${PATH}:/usr/local/maple/bin:/usr/local/maple/FLEXlm/UNIX/LINUX
export PATH

LICENSE_FILE=/usr/local/maple/license/license.dat
LOG=/var/log/lmgrd.log

case "$1" in
start)
	lmgrd -c ${LICENSE_FILE} 2>> ${LOG} 1>&2
	echo -n " lmgrd"
	;;
stop)
	lmgrd -c ${LICENSE_FILE} -x lmdown 2>> ${LOG} 1>&2
	;;
*)
	echo "Usage: `basename $0` {start|stop}" 1>&2
	exit 64
	;;
esac

exit 0
   ----- snip ------------</programlisting></step>


      <step><para>Pruebe iniciar <application>&maple;</application>:</para>
	<screen>&prompt.user; <userinput>cd /usr/local/maple/bin</userinput>
&prompt.user; <userinput>./xmaple</userinput></screen>

        <para>Debe estar arriba y funcionando. ¡Aseg&uacute;rese de
          escribir a Maplesoft para hacerles saber que le gustar&iacute;a
          una versi&oacute;n nativa para FreeBSD!</para></step>
    </procedure>

    <sect2>
      <title>Trampas comunes</title>

      <itemizedlist>
        <listitem><para>El administrador de licencias <application>FLEXlm</application> puede
          ser una herramienta dif&iacute;cil de trabajar. Se puede
          encontrar informaci&oacute;n adicional sobre el tema en
          <ulink url="http://www.globetrotter.com/"></ulink>.</para></listitem>

        <listitem><para><command>lmgrd</command> es conocido por ser muy
          meticuloso acerca del archivo de licencia y por mandar volcados
          core (core dump) si hay alg&uacute;n problema. Un archivo de
          licencia correcto debe verse como este:</para>

<programlisting># =======================================================
# License File for UNIX Installations ("Pointer File")
# =======================================================
SERVER chillig ANY
#USE_SERVER
VENDOR maplelmg

FEATURE Maple maplelmg 2000.0831 permanent 1 XXXXXXXXXXXX \
         PLATFORMS=i86_r ISSUER="Waterloo Maple Inc." \
         ISSUED=11-may-2000 NOTICE=" Technische Universitat Wien" \
         SN=XXXXXXXXX</programlisting>

          <note><para>N&uacute;mero de serie y llave sobreescritos con X.
            <hostid>chillig</hostid> es un nombre de equipo.</para></note>

          <para>Editar el archivo de licencias funciona siempre que no
            toque la l&iacute;nea <quote>FEATURE</quote> (la cual es
            protegida por la llave de licencia).</para></listitem>
      </itemizedlist>
    </sect2>
  </sect1>

  <sect1 id="linuxemu-matlab">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Dan</firstname>
	  <surname>Pelleg</surname>
	  <contrib>Contribuido por </contrib>
	</author>
	<!-- daniel+handbook@pelleg.org -->
      </authorgroup>
    </sect1info>
    <title>Instalando &matlab;</title>

    <indexterm>
      <primary>aplicaciones</primary>
      <secondary><application>MATLAB</application></secondary>
    </indexterm>

    <para>Este documento describe el proceso para instalar la versi&oacute;n
      para Linux de <application>&matlab; version 6.5</application>
      en un sistema &os;. Funciona bastante bien, con la excepci&oacute;n
      de <application>&java.virtual.machine;</application>
      (ver <xref linkend="matlab-jre">).</para>

    <para>La versi&oacute;n Linux de <application>&matlab;</application>
      puede ser ordenada directamente desde The MathWorks en
      <ulink url="http://www.mathworks.com"></ulink>. Aseg&uacute;rese
      de recibir tambi&eacute;n el archivo de licencia o instrucciones
      de como crearlo. Mientras est&aacute; ah&iacute;, h&aacute;gales
      saber que le gustar&iacute;a una versi&oacute;n nativa para
      FreeBSD de su software.</para>

    <sect2>
      <title>Instalando &matlab;</title>

      <para>Para instalar <application>&matlab;</application>,
        haga los siguiente:</para>

      <procedure>
	<step>
          <para>Inserte el CD de instalaci&oacute;n y m&oacute;ntelo.
            Conviertase en <username>root</username>, como lo
            recomienda el script de instalaci&oacute;n. Para iniciar
            el script de instalaci&oacute;n tecl&eacute;e:</para>

	  <screen>&prompt.root; <userinput>/compat/linux/bin/sh /cdrom/install</userinput></screen>

	  <tip>
            <para>El instalador es gr&aacute;fico. Si obtiene errores
              acerca de no ser capaz de abrir un display, tecl&eacute;e
              <command>setenv HOME ~<replaceable>USER</replaceable></command>,
              donde <replaceable>USER</replaceable> es el usuario desde donde
              hizo &man.su.1; as.</para>
	  </tip>
	</step>

	<step>
	  <para>
            Cuando se le pregunte por el directorio ra&iacute;z de
            <application>&matlab;</application>, tecl&eacute;e
	    <userinput>/compat/linux/usr/local/matlab</userinput>.</para>

	  <tip>
            <para>Para un tecleo m&aacute;s f&aacute;cil en el resto
              del proceso de instalaci&oacute;n, en el prompt de
              su shell escriba esto:
	      <command>set MATLAB=/compat/linux/usr/local/matlab</command></para>
	  </tip>
	</step>

	<step>
          <para>Edite el archivo de licencia como se le instruy&oacute;
            cuando obtuvo la licencia de <application>&matlab;</application>.</para>

	  <tip>
            <para>Puede preparar este archivo desde antes usando su
              editor favorito, y c&oacute;pielo a
              <filename>$MATLAB/license.dat</filename> antes que
              el instalador le pida editarlo.</para>
	  </tip>
	</step>

	<step>
	  <para>Complete el proceso de instalaci&oacute;n.</para>
	</step>
      </procedure>

      <para>En este punto su instalaci&oacute;n <application>&matlab;</application>
        est&aacute; completada. Los siguientes pasos aplican
        <quote>pegamento</quote> para conectarlo a su sistema &os;.</para>
    </sect2>

    <sect2>
      <title>Inicio del administrador de licencias</title>
      <procedure>
	<step>
	  <para>Cr&eacute;e enlaces simb&oacute;licos para los scripts del administrador 
            de licencias:</para>

	  <screen>&prompt.root; <userinput>ln -s $MATLAB/etc/lmboot /usr/local/etc/lmboot_TMW</userinput>
&prompt.root; <userinput>ln -s $MATLAB/etc/lmdown /usr/local/etc/lmdown_TMW</userinput></screen>
	</step>
	
	<step>
          <para>Cr&eacute;e un archivo de inicio en
            <filename>/usr/local/etc/rc.d/flexlm.sh</filename>.
            El ejemplo de abajo es una versi&oacute;n modificada de
            <filename>$MATLAB/etc/rc.lm.glnx86</filename> que se distribuye.
            Los cambios son la localizaci&oacute;n de los archivos
            y el inicio del administrador de licencias bajo
            emulaci&oacute;n Linux.</para>

	  <programlisting>#!/bin/sh
case "$1" in
  start)
        if [ -f /usr/local/etc/lmboot_TMW ]; then
              /compat/linux/bin/sh /usr/local/etc/lmboot_TMW -u <replaceable>username</replaceable> &amp;&amp; echo 'MATLAB_lmgrd'
        fi
        ;;
  stop)
	if [ -f /usr/local/etc/lmdown_TMW ]; then
            /compat/linux/bin/sh /usr/local/etc/lmdown_TMW  &gt; /dev/null 2&gt;&amp;1
	fi
        ;;
  *)
	echo "Usage: $0 {start|stop}"
	exit 1
	;;
esac

exit 0</programlisting>

	  <important>
            <para>El archivo debe hacerse ejecutable:</para>

	    <screen>&prompt.root; <userinput>chmod +x /usr/local/etc/rc.d/flexlm.sh</userinput></screen>

            <para>Tambi&eacute;n debe reemplazar el
              <replaceable>nombre de usuario</replaceable> de arriba 
              con el nombre de un usuario v&aacute;lido en su sistema
              (que no sea <username>root</username>).</para>
	  </important>
	</step>

	<step>
	  <para>Inicie el administrador de licencias con el comando:</para>

	  <screen>&prompt.root; <userinput>/usr/local/etc/rc.d/flexlm.sh start</userinput></screen>
	</step>
      </procedure>
    </sect2>

    <sect2 id="matlab-jre">
      <title>Enlazando el ambiente de ejecuci&oacute;n &java;</title>

      <para>Cambie el enlace del ambiente de ejecuci&oacute;n <application>&java;</application>
        (JRE) a uno que funcione bajo &os;:</para>

      <screen>&prompt.root; <userinput>cd $MATLAB/sys/java/jre/glnx86/</userinput>
&prompt.root; <userinput>unlink jre; ln -s ./jre1.1.8 ./jre</userinput></screen>
    </sect2>

    <sect2>
      <title>Creando un script de arranque para &matlab;</title>

      <procedure>
	<step>
	  <para>Coloque el siguiente script de arranque en
	    <filename>/usr/local/bin/matlab</filename>:
	  </para>

	  <programlisting>#!/bin/sh
/compat/linux/bin/sh /compat/linux/usr/local/matlab/bin/matlab "$@"</programlisting>
	</step>

	<step>
	  <para>Entonces escriba el comando
	    <command>chmod +x /usr/local/bin/matlab</command>.</para>
	</step>
      </procedure>

      <tip>
        <para>Dependiendo de su versi&oacute;n de
          <filename role="package">emulators/linux_base</filename> tal
          vez tenga errores al correr este script. Para prevenir eso,
          edite el archivo
          <filename>/compat/linux/usr/local/matlab/bin/matlab</filename>
          y cambie la l&iacute;nea que dice:</para>

	<programlisting>if [ `expr "$lscmd" : '.*-&gt;.*'` -ne 0 ]; then</programlisting>

	<para>(en la versi&oacute;n 13.0.1 es en la l&iacute;nea 410) a esta
	  l&iacute;nea:</para>

	<programlisting>if test -L $newbase; then</programlisting>
      </tip>
    </sect2>

    <sect2>
      <title>Creando un script de apagado para &matlab;</title>

      <para>Lo siguiente se necesita para resolver un problema de
        &matlab; al no cerrarse correctamente.</para>

      <procedure>
	<step>
          <para>Cr&eacute;e un archivo
            <filename>$MATLAB/toolbox/local/finish.m</filename> y
            ponga en el una sola l&iacute;nea:</para>

	  <programlisting>! $MATLAB/bin/finish.sh</programlisting>

	  <note><para>El <literal>$MATLAB</literal> es
	    literal.</para></note>

	  <tip>
            <para>En el mismo directorio encontrar&aacute; los
              archivos <filename>finishsav.m</filename> y
              <filename>finishdlg.m</filename>, los cuales le
              permiten salvar su espacio de trabajo antes de
              salir. Si utiliza alguno de ellos, inserte la l&iacute;nea
              de arriba inmediatamente despues del comando
              <literal>save</literal>.</para></tip>
	</step>

	<step>
          <para>Cr&eacute;e un archivo
            <filename>$MATLAB/bin/finish.sh</filename>, el cual
            contendr&aacute; lo siguiente:</para>

	  <programlisting>#!/usr/compat/linux/bin/sh
(sleep 5; killall -1 matlab_helper) &
exit 0</programlisting>
	</step>

	<step>
	  <para>Haga el archivo ejecutable:</para>

	  <screen>&prompt.root; <userinput>chmod +x $MATLAB/bin/finish.sh</userinput></screen>
	</step>
      </procedure>
    </sect2>

    <sect2 id="matlab-using">
      <title>Usando &matlab;</title>

      <para>En este punto usted est&aacute; listo
        para teclear <command>matlab</command> y empezar
        a utilizarlo.</para>
    </sect2>
  </sect1>

  <sect1 id="linuxemu-oracle">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Marcel</firstname>
	  <surname>Moolenaar</surname>
	  <contrib>Contribuido por </contrib>
	</author>
	<!-- marcel@cup.hp.com -->
      </authorgroup>
    </sect1info>
    <title>Instalando &oracle;</title>

    <indexterm>
      <primary>aplicaciones</primary>
      <secondary><application>Oracle</application></secondary>
    </indexterm>

    <sect2>
      <title>Prefacio</title>
      <para>Este documento describe el proceso de instalaci&oacute;n de <application>&oracle; 8.0.5</application>
        y <application>&oracle; 8.0.5.1 Enterprise Edition</application> para Linux en una
        m&aacute;quina FreeBSD.</para>
    </sect2>

    <sect2>
      <title>Instalando el ambiente Linux</title>

      <para>Aseg&uacute;rese que tiene instalados <filename role='package'>emulators/linux_base</filename>
        y <filename role='package'>devel/linux_devtools</filename> desde la colecci&oacute;n
        de ports. Si encuentra dificultades con estos ports,
        tal vez tenga que usar los paquetes o
        versiones antiguas disponibles en la colecci&oacute;n de ports.</para>

      <para>Si desea correr el agente inteligente, tambi&eacute;n
        necesitar&aacute;  instalar el paquete Tcl de Red Hat:
        <filename>tcl-8.0.3-20.i386.rpm</filename>. El comando
        general para instalar paquetes con el port oficial <application>RPM</application>
        (<filename role='package'>archivers/rpm</filename>) es:</para>

      <screen>&prompt.root; <userinput>rpm -i --ignoreos --root /compat/linux --dbpath /var/lib/rpm <replaceable>package</replaceable></userinput></screen>

      <para>La instalaci&oacute;n del <replaceable>paquete</replaceable> no debe generar ning&uacute;n error.</para>
    </sect2>

    <sect2>
      <title>Creando el ambiente &oracle;</title>

      <para>Antes de que pueda instalar <application>&oracle;</application>, necesita configurar
        un ambiente apropiado. Este documento solamente describe lo que hay
        que hacer <emphasis>especialmente</emphasis> para correr <application>&oracle;</application>
        en su versi&oacute;n para Linux en FreeBSD, no lo que
        ha sido descrito en la gu&iacute;a de instalaci&oacute;n de
        <application>&oracle;</application>.</para>

      <sect3 id="linuxemu-kernel-tuning">
        <title>Afinaci&oacute;n del Kernel</title>
	<indexterm><primary>kernel tuning</primary></indexterm>

        <para>Como se describi&oacute; en la gu&iacute;a de instalaci&oacute;n de
          <application>&oracle;</application>, necesita configurar
          el tama&ntilde;o m&aacute;ximo de memoria compartida.
          No utilice <literal>SHMMAX</literal> bajo FreeBSD.
          <literal>SHMMAX</literal> es meramente calculado de
          <literal>SHMMAXPGS</literal> y <literal>PGSIZE</literal>.
          Por lo tanto defina <literal>SHMMAXPGS</literal>. Todas
          las otras opciones pueden ser usadas como se describe
          en la gu&iacute;a. Por ejemplo:</para>

	<programlisting>options SHMMAXPGS=10000
options SHMMNI=100
options SHMSEG=10
options SEMMNS=200
options SEMMNI=70
options SEMMSL=61</programlisting>

        <para>Configure estas opciones para que se apeguen al uso pretendido de
          <application>&oracle;</application>.</para>

        <para>Tambi&eacute;n, aseg&uacute;rese que tenga las siguientes
          opciones en su archivo de configuraci&oacute;n de kernel:</para>

<programlisting>options SYSVSHM #SysV shared memory
options SYSVSEM #SysV semaphores
options SYSVMSG #SysV interprocess communication</programlisting>
      </sect3>

      <sect3 id="linuxemu-oracle-account">

        <title>Cuenta &oracle;</title>

        <para>Cr&eacute;e una cuenta <username>oracle</username> como si 
          fuera a crear cualquier otra cuenta. La cuenta <username>oracle</username>
          es especial en el sentido que debe darle un shell Linux. Agregue
          <literal>/compat/linux/bin/bash</literal> a
          <filename>/etc/shells</filename> y active el shell para la
          cuenta <username>oracle</username> a
          <filename>/compat/linux/bin/bash</filename>.</para>
      </sect3>

      <sect3 id="linuxemu-environment">
        <title>Ambiente</title>

        <para>aparte de las variables normales de <application>&oracle;</application>,
          como <envar>ORACLE_HOME</envar> y <envar>ORACLE_SID</envar>, debe
          configurar las siguientes variables de entorno:</para>

	<informaltable frame="none" pgwide="1">
	  <tgroup cols="2">
          <colspec colwidth="1*">
          <colspec colwidth="2*">
	    <thead>
	      <row>
		<entry>Variable</entry>

		<entry>Valor</entry>
	      </row>
	    </thead>
	    <tbody>
	      <row>
		<entry><envar>LD_LIBRARY_PATH</envar></entry>

		<entry><literal>$ORACLE_HOME/lib</literal></entry>
	      </row>

	      <row>
		<entry><envar>CLASSPATH</envar></entry>

		<entry><literal>$ORACLE_HOME/jdbc/lib/classes111.zip</literal></entry>
	      </row>

	      <row>
		<entry><envar>PATH</envar></entry>

		<entry><literal>/compat/linux/bin
/compat/linux/sbin
/compat/linux/usr/bin
/compat/linux/usr/sbin
/bin
/sbin
/usr/bin
/usr/sbin
/usr/local/bin
$ORACLE_HOME/bin</literal></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>

        <para>Se aconseja configurar todas las variables de ambiente
          en <filename>.profile</filename>. Un ejemplo completo es:</para>

<programlisting>ORACLE_BASE=/oracle; export ORACLE_BASE
ORACLE_HOME=/oracle; export ORACLE_HOME
LD_LIBRARY_PATH=$ORACLE_HOME/lib
export LD_LIBRARY_PATH
ORACLE_SID=ORCL; export ORACLE_SID
ORACLE_TERM=386x; export ORACLE_TERM
CLASSPATH=$ORACLE_HOME/jdbc/lib/classes111.zip
export CLASSPATH
PATH=/compat/linux/bin:/compat/linux/sbin:/compat/linux/usr/bin
PATH=$PATH:/compat/linux/usr/sbin:/bin:/sbin:/usr/bin:/usr/sbin
PATH=$PATH:/usr/local/bin:$ORACLE_HOME/bin
export PATH</programlisting>
      </sect3>
    </sect2>

    <sect2>
      <title>Instalando &oracle;</title>

      <para>Debido a una peque&ntilde;a inconsistencia en el emulador
        Linux, necesita crear un directorio llamado <filename>.oracle</filename>
        en <filename>/var/tmp</filename> antes de iniciar el instalador.
        Deje que sea propiedad del usuario <username>oracle</username>.
        Debe ser capaz de instalar <application>&oracle;</application> sin
        ning&uacute;n problema. Si tiene problemas, ¡revise su
        distribuci&oacute;n <application>&oracle;</application> y/o
        configuraci&oacute;n primero! Despues que tenga instalado
        <application>&oracle;</application>, aplique los parches descritos
        en las siguientes dos subsecciones.</para>

      <para>Un problema frecuente es que el adaptador del protocolo TCP
        no est&aacute; instalado correctamente. Como consecuencia, no
        puede iniciar ning&uacute;n escucha TCP. Las siguientes acciones
        ayudan a resolver el problema:</para>

      <screen>&prompt.root; <userinput>cd $ORACLE_HOME/network/lib</userinput>
&prompt.root; <userinput>make -f ins_network.mk ntcontab.o</userinput>
&prompt.root; <userinput>cd $ORACLE_HOME/lib</userinput>
&prompt.root; <userinput>ar r libnetwork.a ntcontab.o</userinput>
&prompt.root; <userinput>cd $ORACLE_HOME/network/lib</userinput>
&prompt.root; <userinput>make -f ins_network.mk install</userinput></screen>

      <para>¡No se olvide de correr <filename>root.sh</filename> otra vez!</para>

    <sect3 id="linuxemu-patch-root">
      <title>Parchando root.sh</title>

        <para>Al instalar <application>&oracle;</application>, algunas
          acciones, las cuales necesitan ser ejecutadas como <username>root</username>,
          son grabadas en un script de shell llamado <filename>root.sh</filename>.
          Este script es escrito es el directorio <filename>orainst</filename>.
          Aplique el siguiente parche a <filename>root.sh</filename>, para que 
          utilice la ruta correcta de <command>chown</command> o
          alternativamente corra el script bajo un shell nativo
          de Linux.</para>

	<programlisting>*** orainst/root.sh.orig Tue Oct 6 21:57:33 1998
--- orainst/root.sh Mon Dec 28 15:58:53 1998
***************
*** 31,37 ****
# This is the default value for CHOWN
# It will redefined later in this script for those ports
# which have it conditionally defined in ss_install.h
! CHOWN=/bin/chown
#
# Define variables to be used in this script
--- 31,37 ----
# This is the default value for CHOWN
# It will redefined later in this script for those ports
# which have it conditionally defined in ss_install.h
! CHOWN=/usr/sbin/chown
#
# Define variables to be used in this script</programlisting>

        <para>Cuando no instala <application>&oracle;</application> desde
          CD, puede parchar las fuentes de <filename>root.sh</filename>.
          Est&aacute; como <filename>rthd.sh</filename> y est&aacute;
          localizado en el directorio <filename>orainst</filename>
          en el &aacute;rbol de fuentes.</para>
      </sect3>

      <sect3 id="linuxemu-patch-tcl">
	<title>Parchando genclntsh</title>

        <para>El script <command>genclntsh</command> es usado para crear
          una sola librer&iacute;a de cliente compartida.
          Es usada para construir los demos. Aplique el siguiente parche
          para comentar la definici&oacute;n de <envar>PATH</envar>:</para>

	<programlisting>*** bin/genclntsh.orig Wed Sep 30 07:37:19 1998
--- bin/genclntsh Tue Dec 22 15:36:49 1998
***************
*** 32,38 ****
#
# Explicit path to ensure that we're using the correct commands
#PATH=/usr/bin:/usr/ccs/bin export PATH
! PATH=/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin export PATH
#
# each product MUST provide a $PRODUCT/admin/shrept.lst
--- 32,38 ----
#
# Explicit path to ensure that we're using the correct commands
#PATH=/usr/bin:/usr/ccs/bin export PATH
! #PATH=/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin export PATH
#
# each product MUST provide a $PRODUCT/admin/shrept.lst</programlisting>
      </sect3>
    </sect2>

    <sect2>
      <title>Corriendo &oracle;</title>

      <para>Cuando haya seguido las instrucciones, usted debe ser capaz de
        correr <application>&oracle;</application> como si estuviera
        corriendo en Linux.</para>
    </sect2>
  </sect1>

  <sect1 id="sapr3">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Holger</firstname>
	  <surname>Kipp</surname>
	  <contrib>Contribuido por </contrib>
	</author>
      </authorgroup>
      <!-- holger.kipp@alogis.com -->
      <authorgroup>
	<author>
	  <firstname>Valentino</firstname>
	  <surname>Vaschetto</surname>
	  <contrib>Versi&oacute;n original convertida a SGML por </contrib>
	</author>
      </authorgroup>
    </sect1info>

    <title>Instalando &sap.r3;</title>

    <indexterm>
      <primary>aplicaciones</primary>
      <secondary><application>SAP R/3</application></secondary>
    </indexterm>

    <para>Las instalaciones de sistemas <application>&sap;</application> utilizando
      FreeBSD no se&aacute;n soportadas por el equipo de soporte de &sap; &mdash;
      ellos solo ofrecen soporte para plataformas certificadas.</para>

    <sect2 id="preface">
      <title>Prefacio</title>

      <para>Este documento describe una manera posible de instalar
        un <application>sistema &sap.r3;</application> con
        una <application>base de datos &oracle;</application>
        para Linux en una m&aacute;quina FreeBSD, incluyendo la
        instalaci&oacute;n de FreeBSD y <application>&oracle;</application>.
        Dos configuraciones diferentes ser&aacute;n descritas:</para>

      <itemizedlist>
	<listitem>
	  <para><application>&sap.r3; 4.6B (IDES)</application> con
	  <application>&oracle; 8.0.5</application> en FreeBSD 4.3-STABLE</para>
	</listitem>

	<listitem>
	  <para><application>&sap.r3; 4.6C</application> con
	  <application>&oracle; 8.1.7</application> en FreeBSD 4.5-STABLE</para>
	</listitem>
      </itemizedlist>

      <para>Incluso aunque este documento trata de describir todos
        los pasos importantes en mayor detalle, no se espera que sea
        un reemplazo de las gu&iacute;as de instalaci&oacute;n de
        <application>&oracle;</application> y <application>&sap.r3;</application>.</para>

      <para>Por favor vea la documentaci&oacute;n de <application>&sap.r3;</application>
        que viene con la edici&oacute;n para Linux de <application>&sap</application>
        y las preguntas espec&iacute;ficas de <application>&oracle;</application>,
        as&iacute; como los recursos de <application>&oracle;</application>
        y <application>&sap; OSS</application>.</para>
    </sect2>

    <sect2 id="software">
      <title>Software</title>

      <para>Los siguientes CD-ROMs han sido usados para la instalaci&oacute;n <application>&sap;</application>:</para>

      <sect3 id="software-46b">
	<title>&sap.r3; 4.6B, &oracle; 8.0.5</title>

      <informaltable frame="none" pgwide="1">
	<tgroup cols=3>
	  <thead>
	    <row>
	      <entry>Nombre</entry> <entry>N&uacute;mero</entry> <entry>Descripci&oacute;n</entry>
	    </row>
	  </thead>
	  <tbody>
	    <row>
	      <entry>KERNEL</entry> <entry>51009113</entry> <entry>SAP Kernel Oracle /
		Installation / AIX, Linux, Solaris</entry>
	    </row>

	    <row>
	      <entry>RDBMS</entry> <entry>51007558</entry> <entry>Oracle / RDBMS 8.0.5.X /
		Linux</entry>
	    </row>

	    <row>
	      <entry>EXPORT1</entry> <entry>51010208</entry> <entry>IDES / DB-Export /
		Disco 1 de 6</entry>
	    </row>

	    <row>
	      <entry>EXPORT2</entry> <entry>51010209</entry> <entry>IDES / DB-Export /
		Disco 2 de 6</entry>
	    </row>

	    <row>
	      <entry>EXPORT3</entry> <entry>51010210</entry> <entry>IDES / DB-Export /
		Disco 3 de 6</entry>
	    </row>
   
	    <row>
	      <entry>EXPORT4</entry> <entry>51010211</entry> <entry>IDES / DB-Export /
		Disco 4 de 6</entry>
	    </row>

	    <row>
	      <entry>EXPORT5</entry> <entry>51010212</entry> <entry>IDES / DB-Export /
		Disco 5 de 6</entry>
	    </row>

	    <row>
	      <entry>EXPORT6</entry> <entry>51010213</entry> <entry>IDES / DB-Export /
		Disco 6 de 6</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para>Adicionalmente, utilizamos el CD de <application>&oracle; 8
        Server</application> (versi&oacute;n pre-producci&oacute;n
        8.0.5 para Linux, versi&oacute;n de kernel 2.0.33) el cual
        no es realmente necesario y FreeBSD 4.3-STABLE (a unos cuantos
        d&iacute;as de la liberaci&oacute;n de 4.3-RELEASE).</para>

      </sect3>
      <sect3 id="software-46c">
	<title>&sap.r3; 4.6C SR2, &oracle; 8.1.7</title>

	<informaltable frame="none" pgwide="1">
	  <tgroup cols=3>
	    <thead>
	      <row>
		<entry>Nombre</entry> <entry>N&uacute;mero</entry> <entry>Descripci&oacute;n</entry>
	      </row>
	    </thead>

	    <tbody>
	      <row>
		<entry>KERNEL</entry> <entry>51014004</entry> <entry>SAP Kernel Oracle /
		  SAP Kernel Version 4.6D / DEC, Linux</entry>
	      </row>

	      <row>
		<entry>RDBMS</entry> <entry>51012930</entry> <entry>Oracle 8.1.7/ RDBMS /
		  Linux</entry>
	      </row>

	      <row>
		<entry>EXPORT1</entry> <entry>51013953</entry> <entry>Release 4.6C SR2 / Export
		  / Disco 1 de 4</entry>
	      </row>

	      <row>
		<entry>EXPORT1</entry> <entry>51013953</entry> <entry>Release 4.6C SR2 / Export
		  / Disco 2 de 4</entry>
	      </row>

	      <row>
		<entry>EXPORT1</entry> <entry>51013953</entry> <entry>Release 4.6C SR2 / Export
		  / Disco 3 de 4</entry>
	      </row>

	      <row>
		<entry>EXPORT1</entry> <entry>51013953</entry> <entry>Release 4.6C SR2 / Export
		  / Disco 4 de 4</entry>
	      </row>

	      <row>
		<entry>LANG1</entry> <entry>51013954</entry> <entry>Release 4.6C SR2 /
		  Language / DE, EN, FR / Disco 1 de 3</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>

        <para>Dependiendo de los lenguajes que le gustar&iacute;a instalar,
          pueden ser necesarios CDs adicionales de lenguajes. Aqu&iacute;
          solo estamos utilizando DE y EN, as&iacute; que solo el primer
          CD de lenguajes se necesita. Como una peque&ntilde;a nota, los
          n&uacute;meros para todos los cuatro CDs EXPORT son id&eacute;nticos.
          Los tres CDs de lenguajes tambi&eacute;n tienen el mismo n&uacute;mero
          (esto es diferente de la numeraci&oacute;n de CDs de la liberaci&oacute;n
          4.6B IDES). Al momento de escribir esto la instalaci&oacute;n est&aacute;
          corriendo en FreeBSD 4.5-STABLE (20.03.2002).</para>
      </sect3>
    </sect2>

    <sect2 id="sap-notes">
      <title>Notas &sap;</title>

      <para>Las siguientes notas deben ser le&iacute;das antes
        de instalar <application>&sap.r3;</application> y han
        probado ser &uacute;tiles durante la instalaci&oacute;n:</para>

      <sect3 id="sap-notes-46b">
	<title>&sap.r3; 4.6B, &oracle; 8.0.5</title>

	<informaltable frame="none" pgwide="1">
	  <tgroup cols="2">
	    <thead>
	      <row>
		<entry>N&uacute;mero</entry>
		<entry>T&iacute;tulo</entry>
	      </row>
	    </thead>
	    <tbody>

	      <row>
		<entry>0171356</entry> <entry>SAP Software en Linux: Comentarios
		  esenciales</entry>
	      </row>

	      <row>
		<entry>0201147</entry> <entry>INST: 4.6C R/3 Inst. en UNIX -
		  Oracle</entry>
	      </row>

	      <row>
		<entry>0373203</entry> <entry>Actualizaci&oacute;n / Migraci&oacute;n Oracle 8.0.5 --&gt;
		  8.0.6/8.1.6 LINUX</entry>
	      </row>

	      <row>
		<entry>0072984</entry> <entry>Liberaci&oacute;n de Digital UNIX 4.0B para
		  Oracle</entry>
	      </row>

	      <row>
		<entry>0130581</entry> <entry>R3SETUP step DIPGNTAB terminates</entry>
	      </row>

	      <row>
		<entry>0144978</entry> <entry>Su sistema no ha sido instalado
		  correctamente</entry>
	      </row>

	      <row>
		<entry>0162266</entry> <entry>Preguntas y consejos para R3SETUP en Windows
		  NT / W2K</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>
      </sect3>

      <sect3 id="sap-notes-46c">
	<title>&sap.r3; 4.6C, &oracle; 8.1.7</title>

	<informaltable frame="none" pgwide="1">
	  <tgroup cols="2">
	    <thead>
	      <row>
		<entry>N&uacute;mero</entry>
		<entry>T&iacute;tulo</entry>
	      </row>
	    </thead>
	    <tbody>
	      <row>
		<entry>0015023</entry> <entry>Inicializar tabla TCPDB (RSXP0004)
		  (EBCDIC)</entry>
	      </row>

	      <row>
		<entry>0045619</entry> <entry>R/3 con varios lenguajes o
		  estilos</entry>
	      </row>

	      <row>
		<entry>0171356</entry> <entry>SAP Software en Linux: Comentarios
		  esenciales</entry>
	      </row>

	      <row>
		<entry>0195603</entry> <entry>RedHat 6.1 Enterprise version:
		  Problemas conocidos</entry>
	      </row>

	      <row>
		<entry>0212876</entry> <entry>La nueva herramienta de archivado SAPCAR</entry>
	      </row>

	      <row>
		<entry>0300900</entry> <entry>Linux: Hardware DELL liberado</entry>
	      </row>

	      <row>
		<entry>0377187</entry> <entry>RedHat 6.2: Observaciones importantes</entry>
	      </row>

	      <row>
		<entry>0387074</entry> <entry>INST: R/3 4.6C SR2 Instalaci&oacute;n en
		  UNIX</entry>
	      </row>

	      <row>
		<entry>0387077</entry> <entry>INST: R/3 4.6C SR2 Inst. en UNIX -
		  Oracle</entry>
	      </row>

	      <row>
		<entry>0387078</entry> <entry>SAP Software en UNIX: Dependencias de OS
		  4.6C SR2</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>
      </sect3>
    </sect2>

    <sect2 id="hardware-requirements">
      <title>Requerimientos de hardware</title>

      <para>El siguiente equipo es suficiente para la instalaci&oacute;n
        de un <application>sistema &sap.r3;</application>. Para uso
        en producci&oacute;n, se necesita una medici&oacute;n m&aacute;s
        exacta por supuesto:</para> 

      <informaltable frame="none" pgwide="1">
	<tgroup cols="3">
	  <thead>
	    <row>
	      <entry>Componente</entry>
	      <entry>4.6B</entry>
	      <entry>4.6C</entry>
	    </row>
	  </thead>
	  <tbody>
	    <row>
	      <entry>Procesador</entry>
	      <entry>2 x 800MHz &pentium; III</entry>
	      <entry>2 x 800MHz &pentium; III</entry>
	    </row>

	    <row>
	      <entry>Memoria</entry>
	      <entry>1GB ECC</entry>
	      <entry>2GB ECC</entry>
	    </row>

	    <row>
	      <entry>Espacio en disco</entry>
	      <entry>50-60GB (IDES)</entry>
	      <entry>50-60GB (IDES)</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para>Para su uso en producci&oacute;n se recomienda procesadores
        &xeon; con un cach&eacute; grande, discos de acceso de alta
        velocidad (SCSI, controlador de RAID por hardware), USV y
        ECC-RAM. El extenso espacio en disco es debido al sistema
        IDES preconfigurado que crea archivos de base de datos de
        27&nbsp;GB durante la instalaci&oacute;n. Este espacio es
        tambi&eacute;n suficiente para sistemas iniciales en producci&oacute;n
        y datos de aplicaci&oacute;n.</para> 

      <sect3 id="hardware-46b">
	<title>&sap.r3; 4.6B, &oracle; 8.0.5</title>

      <para>El siguiente hardware fu&eacute; usado: tarjeta para procesadores
        dual con 2 procesadores &pentium;&nbsp;III a 800&nbsp;MHz, adaptador
        SCSI &adaptec; 29160 Ultra160 (para accesar una unidad de cinta
        40/80&nbsp;GB DLT y CDROM), &mylex; &acceleraid; (2 canales,
        firmware 6.00-1-00 con 32&nbsp;MB RAM). A la controladora &mylex; RAID
        est&aacute;n conectados dos discos duros de 17&nbsp;GB
        (espejados) y cuatro discos duros de 36&nbsp;GB (RAID level 5).</para>
      </sect3>

      <sect3 id="hardware-46c">
	<title>&sap.r3; 4.6C, &oracle; 8.1.7</title>

      <para>Para esta instalaci&oacute;n se us&oacute; un &dell; &poweredge;
        2500: tarjeta para procesadores dual con 2 procesadores &pentium;&nbsp;III
        a 1000&nbsp;MHz (256&nbsp;kB Cach&eacute;), 2&nbsp;GB PC133 ECC SDRAM,
        Controladora RAID PERC/3 DC PCI con 128&nbsp;MB y una unidad EIDE DVD-ROM.
        A la ontroladora RAID se conectaron dos discos duros 18&nbsp;GB (espejados)
        y cuatro discos duros de 36&nbsp;GB (RAID level 5).</para>
        
      </sect3>
    </sect2>

    <sect2 id="installation">
      <title>Instalaci&oacute;n de FreeBSD</title>

      <para>Primero tiene que instalar FreeBSD, Existen muchas maneras de hacer
        esto (FreeBSD&nbsp;4.3 fu&eacute; instalado por FTP,  FreeBSD&nbsp;4.5
        directamente desde el CD de distribuci&oacute;n) para mayor
        informaci&oacute;n lea <xref linkend="install-diff-media">.</para>

      <sect3 id="disk-layout">
	<title>Esquema de disco</title>

        <para>Para mantenerlo simple, el mismo esquema de disco para la
          instalaci&oacute;n de
          <application>&sap.r3; 46B</application> y <application>&sap.r3; 46C
          SR2</application> fu&eacute; utilizado. Solo los nombres
          de dispositivos cambiaron, debido a que las instalaciones
          fueron en hardware diferente (<filename>/dev/da</filename> y
          <filename>/dev/amr</filename> respectivamente, as&iacute; que si
          se utiliza una AMI &megaraid;, uno ver&aacute;
          <filename>/dev/amr0s1a</filename> en lugar de 
          <filename>/dev/da0s1a</filename>):</para>

	<informaltable frame="none" pgwide="1">
	  <tgroup cols="4">
	    <thead>
	      <row>
		<entry>Sistema de archivos</entry>
		<entry>Tama&ntilde;o (bloques de 1k)</entry>
		<entry>Tama&ntilde;o (GB)</entry>
		<entry>Montado en</entry>
	      </row>
	    </thead>
	    <tbody>
	      <row>
		<entry><filename>/dev/da0s1a</filename></entry>
		<entry>1.016.303</entry>
		<entry>1</entry>
		<entry><filename>/</filename></entry>
	      </row>

	      <row>
		<entry><filename>/dev/da0s1b</filename></entry>
		<entry> </entry>
		<entry>6</entry>
		<entry>swap</entry>
	      </row>

	      <row>
		<entry><filename>/dev/da0s1e</filename></entry>
		<entry>2.032.623</entry>
		<entry>2</entry>
		<entry><filename>/var</filename></entry>
	      </row>

	      <row>
		<entry><filename>/dev/da0s1f</filename></entry>
		<entry>8.205.339</entry>
		<entry>8</entry>
		<entry><filename>/usr</filename></entry>
	      </row>

	      <row>
		<entry><filename>/dev/da1s1e</filename></entry>
		<entry>45.734.361</entry>
		<entry>45</entry>
		<entry><filename>/compat/linux/oracle</filename></entry>
	      </row>

	      <row>
		<entry><filename>/dev/da1s1f</filename></entry>
		<entry>2.032.623</entry>
		<entry>2</entry>
		<entry><filename>/compat/linux/sapmnt</filename></entry>
	      </row>

	      <row>
		<entry><filename>/dev/da1s1g</filename></entry>
		<entry>2.032.623</entry>
		<entry>2</entry>
		<entry><filename>/compat/linux/usr/sap</filename></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>

        <para>Configure e inicialice las dos unidades l&oacute;gicas
          con el software &mylex; or PERC/3 RAID con anterioridad.
          El software puede ser iniciado durante la fase
          de arranque del <acronym>BIOS</acronym>.</para>

        <para>Por favor note que este esquema de disco difiere
          ligeramente de las recomendaciones de &sap;, ya que
          &sap; sugiere montar los subdirectorios <application>&oracle;</application>
          (y algunos otros) separadamente &mdash; decidimos
          simplemente crearlos como subdirectorios reales
          para simplificar.</para>
      </sect3>

      <sect3 id="makeworldandnewkernel">
	<title><command>make world</command> y un nuevo Kernel</title>

        <para>Descargue las fuentes -STABLE m&aacute;s recientes.
          Recompile world y su kernel personalizado despues de
          configurar su archivo de configuraci&oacute;n del kernel.
          Aqu&iacute; debe incluir tambi&eacute;n los
          <link linkend="kerneltuning">par&aacute;metros del kernel</link>
          que son requeridos tanto para <application>&sap.r3;</application>
          como para <application>&oracle;</application>.</para>
      </sect3>
    </sect2>

    <sect2 id="installingthelinuxenviornment">
      <title>Instalando el ambiente Linux</title>

      <sect3 id="installinglinuxbase-system">
	<title>Instalando el sistema base Linux</title>

        <para>Primero necesita ser instalado el port 
          <link linkend="linuxemu-libs-port">linux_base</link>
          (como <username>root</username>):</para>

	<screen>&prompt.root; <userinput>cd /usr/ports/emulators/linux_base</userinput>
&prompt.root; <userinput>make install distclean</userinput></screen>

      </sect3>


      <sect3 id="installinglinuxdevelopment">
	<title>Instalando el ambiente de desarrollo Linux</title>

        <para>El ambiente de desarrollo Linux es necesario, si quiere instalar
          <application>&oracle;</application> en FreeBSD de acuerdo a
          <xref linkend="linuxemu-oracle">:</para>

	<screen>&prompt.root; <userinput>cd /usr/ports/devel/linux_devtools</userinput>
&prompt.root; <userinput>make install distclean</userinput></screen>

        <para>El ambiente de desarrollo Linux solo ha sido instalado para la
          instalaci&oacute;n de <application>&sap.r3; 46B IDES</application>.
          No es necesario, si <application>&oracle; DB</application>
          no est&aacute; reenlazado (relinked) en el sistema FreeBSD.
          Este es el caso si est&aacute; usando el archivo comprimido
          tar de <application>&oracle;</application> de un sistema Linux.</para>

      </sect3>


      <sect3 id="installingnecessaryrpms">
	<title>Instalando los RPMs necesarios</title>
	<indexterm><primary>RPMs</primary></indexterm>

        <para>Para iniciar el programa <command>R3SETUP</command>, se necesita soporte
          PAM. Durante la primera instalaci&oacute;n de <application>&sap;</application>
          en FreeBSD 4.3-STABLE tratamos de instalar PAM con todos
          los paquetes requeridos y finalmente forzamos la
          instalaci&oacute;n del paquete PAM, el cual funcion&oacute;.
          Para <application>&sap.r3; 4.6C SR2</application> forzamos
          directamente la instalaci&oacute;n del RPM PAM, que tambi&eacute;n
          funcion&oacute;, as&iacute; que parece que los paquetes
          dependientes no son necesarios:</para>


<screen>&prompt.root; <userinput>rpm -i --ignoreos --nodeps --root /compat/linux --dbpath /var/lib/rpm \
pam-0.68-7.i386.rpm</userinput></screen>

        <para>Para que <application>&oracle; 8.0.5</application> corra
          el agente inteligente, tambi&eacute;n tenemos que instalar
          el paquete Tcl de RedHat
          <filename>tcl-8.0.5-30.i386.rpm</filename> (de otra forma
          en reenlazado durante la instalaci&oacute;n de
          <application>&oracle;</application> no funcionar&aacute;).
          Existen algunos otros asuntos en relaci&oacute;n al
          reenlazado de <application>&oracle;</application>, pero
          esos son asuntos de la versi&oacute;n para Linux de
          <application>&oracle;</application>, no espec&iacute;ficos
          de FreeBSD.</para>

      </sect3>

      <sect3 id="linuxprocandfallbackelfbrand">
	<title>Algunas sugerencias adicionales</title>

        <para>Puede ser una buena idea agregar tambi&eacute;n
          <literal>linprocfs</literal> a <filename>/etc/fstab</filename>, para
          mayor informaci&oacute;n vea la p&aacute;gina de manual &man.linprocfs.5;.
          Otro par&aacute;metro a configurar es
          <literal>kern.fallback_elf_brand=3</literal> el cual se realiza
          en el archivo <filename>/etc/sysctl.conf</filename>.</para>
      </sect3>
    </sect2>

    <sect2 id="creatingsapr3env">
      <title>Creando el ambiente &sap.r3;</title>

      <sect3 id="filesystemsandmountpoints">
        <title>Creando los sistemas de archivos y puntos de montaje necesarios</title>

        <para>Para una instalaci&oacute;n simple, es suficiente con
          crear los siguientes sistemas de archivos:</para>

	<informaltable frame="none" pgwide="1">
	  <tgroup cols="2">
	    <thead>
	      <row>
		<entry>punto de montaje</entry>
		<entry>tama&ntilde;o en GB</entry>
	      </row>
	    </thead>
	    <tbody>
	      <row>
		<entry><filename>/compat/linux/oracle</filename></entry>
		<entry>45 GB</entry>
	      </row>

	      <row>
		<entry><filename>/compat/linux/sapmnt</filename></entry>
		<entry>2 GB</entry>
	      </row>

	      <row>
		<entry><filename>/compat/linux/usr/sap</filename></entry>
		<entry>2 GB</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>

        <para>Tambi&eacute;n es necesario crear algunos enlaces.
          De otra manera el instalador <application>&sap;</application>
          se quejar&aacute;, ya que revisa los siguientes enlaces
          creados:</para>

	<screen>&prompt.root; <userinput>ln -s /compat/linux/oracle /oracle</userinput>
&prompt.root; <userinput>ln -s /compat/linux/sapmnt /sapmnt</userinput>
&prompt.root; <userinput>ln -s /compat/linux/usr/sap /usr/sap</userinput></screen>

        <para>Errores posibles durante la instalaci&oacute;n (aqu&iacute;
          con el sistema <emphasis>PRD</emphasis> y la instalaci&oacute;n
          de <application>&sap.r3; 4.6C SR2</application>):</para>

	<screen>INFO 2002-03-19 16:45:36 R3LINKS_IND_IND SyLinkCreate:200
    Checking existence of symbolic link /usr/sap/PRD/SYS/exe/dbg to
    /sapmnt/PRD/exe. Creating if it does not exist...

WARNING 2002-03-19 16:45:36 R3LINKS_IND_IND SyLinkCreate:400
    Link /usr/sap/PRD/SYS/exe/dbg exists but it points to file
    /compat/linux/sapmnt/PRD/exe instead of /sapmnt/PRD/exe. The
    program cannot go on as long as this link exists at this
    location. Move the link to another location.

ERROR 2002-03-19 16:45:36 R3LINKS_IND_IND Ins_SetupLinks:0
    can not setup link '/usr/sap/PRD/SYS/exe/dbg' with content
    '/sapmnt/PRD/exe'</screen>
      </sect3>

      <sect3 id="creatingusersanddirectories">
	<title>Creando usuarios y directorios</title>

        <para><application>&sap.r3;</application> necesita dos usuarios
          y ID de sistema <application>&sap;</application> (SID) el
          cual consiste en tres letras. Algunos de estos SIDs
          est&aacute;n reservados por <application>&sap;</application>
          (por ejemplo <literal>SAP</literal> y <literal>NIX</literal>.
          Para una lista completa vea por favor la documentaci&oacute;n
          de <application>&sap;</application>).
          Para la instalaci&oacute;n de IDES usamos <literal>IDS</literal>,
          para la instalaci&oacute;n de 4.6C SR2 <literal>PRD</literal>,
          si ese sistema est&aacute; destinado para un uso de
          producci&oacute;n. Tenemos por lo tanto los siguientes
          grupos (IDs de grupo pueden ser diferentes, estos son
          solamente los valores usados con nuestra instalaci&oacute;n):</para>

        <informaltable frame="none" pgwide="1">
          <tgroup cols="3">
          <thead>
          <row>
            <entry>ID de grupo</entry>
            <entry>nombre de grupo</entry>
            <entry>descripci&oacute;n</entry>
          </row>
          </thead>
          <tbody>
          <row>
            <entry>100</entry>
            <entry>dba</entry>
            <entry>Administrador de base de datos</entry>
          </row>
          <row>
            <entry>101</entry>
            <entry>sapsys</entry>
            <entry>Sistema &sap;</entry>
          </row>
          <row>
            <entry>102</entry>
            <entry>oper</entry>
            <entry>Operador de base de datos</entry>
          </row>
          </tbody>
          </tgroup>
        </informaltable>

        <para>Para una instalaci&oacute;n por omisi&oacute;n de 
          <application>&oracle;</application>, solo se usa el
          grupo <groupname>dba</groupname>. Como el grupo
          <groupname>oper</groupname>, uno tambi&eacute;n usa
          el grupo <groupname>dba</groupname> (ver la documentaci&oacute;n de
          <application>&oracle;</application> y <application>&sap;</application>
          para informaci&oacute;n adicional).</para>

        <para>Tambi&eacute;n necesitamos los siguientes usuarios:</para>

        <informaltable frame="none" pgwide="1">
          <tgroup cols="6">
          <thead>
          <row>
            <entry>ID de usuario</entry>
            <entry>nombre de usuario</entry>
            <entry>nombre gen&eacute;rico</entry>
            <entry>grupo</entry>
            <entry>grupos adicionales</entry>
            <entry>descripci&oacute;n</entry>
          </row>
          </thead>
          <tbody>
          <row>
            <entry>1000</entry>
            <entry>idsadm/prdadm</entry>
            <entry><replaceable>sid</replaceable>adm</entry>
            <entry>sapsys</entry>
            <entry>oper</entry>
            <entry>Administrador &sap;</entry>
          </row>
          <row>
            <entry>1002</entry>
            <entry>oraids/oraprd</entry>
            <entry>ora<replaceable>sid</replaceable></entry>
            <entry>dba</entry>
            <entry>oper</entry>
            <entry>Administrador &oracle;</entry>
          </row>
          </tbody>
          </tgroup>
        </informaltable>

        <para>Agregar los usuarios con &man.adduser.8;
          requiere las siguientes entradas (por favor
          note el shell y directorio de home) para el
          <quote>administrador &sap;</quote>:</para>

        <programlisting>Name: <replaceable>sid</replaceable>adm
Password: ******
Fullname: SAP Administrator <replaceable>SID</replaceable>
Uid: 1000
Gid: 101 (sapsys)
Class:
Groups: sapsys dba
HOME: /home/<replaceable>sid</replaceable>adm
Shell: bash  (/compat/linux/bin/bash)</programlisting>

        <para>y para el <quote>Administrador &oracle;</quote>:</para>

        <programlisting>Name: ora<replaceable>sid</replaceable> 
Password: ****** 
Fullname: Oracle Administrator <replaceable>SID</replaceable>
Uid: 1002 
Gid: 100 (dba) 
Class: 
Groups: dba 
HOME: /oracle/<replaceable>sid</replaceable> 
Shell: bash  (/compat/linux/bin/bash)</programlisting>

        <para>Esto tambi&eacute;n debe incluir al grupo
          <groupname>oper</groupname> en caso de que est&eacute;
          usando el grupo <groupname>dba</groupname> y
          tambi&eacute;n el grupo <groupname>oper</groupname>.</para>

      </sect3>

      <sect3 id="creatingdirectories">
        <title>Creando directorios</title>

        <para>Estos directorios son usualmente creados como
          sistemas de archivos separados. Esto depende enteramente
          de sus requerimientos. Nosotros elegimos crearlos como
          simples directorios, ya que todos est&aacute;n
          localizados en el mismo RAID 5 de todas maneras:</para>

        <para>Primero vamos a configurar los propietarios y los
          derechos de algunos directorios (como el usuario
          <username>root</username>):</para>

        <screen>&prompt.root; <userinput>chmod 775 /oracle</userinput>
&prompt.root; <userinput>chmod 777 /sapmnt</userinput>
&prompt.root; <userinput>chown root:dba /oracle</userinput>
&prompt.root; <userinput>chown <replaceable>sid</replaceable>adm:sapsys /compat/linux/usr/sap</userinput>
&prompt.root; <userinput>chmod 775 /compat/linux/usr/sap</userinput></screen>

        <para>Luego vamos a crear directorios como el
          usuario <username>ora<replaceable>sid</replaceable></username>.
          Estos ser&aacute;n todos subdirectorios de
	  <filename>/oracle/<replaceable>SID</replaceable></filename>:</para>

        <screen>&prompt.root; <userinput>su - ora<replaceable>sid</replaceable></userinput>
&prompt.root; <userinput>cd /oracle/<replaceable>SID</replaceable></userinput>
&prompt.root; <userinput>mkdir mirrlogA mirrlogB origlogA origlogB</userinput>
&prompt.root; <userinput>mkdir sapdata1 sapdata2 sapdata3 sapdata4 sapdata5 sapdata6</userinput>
&prompt.root; <userinput>mkdir saparch sapreorg</userinput>
&prompt.root; <userinput>exit</userinput></screen>

        <para>Para la instalaci&oacute;n de <application>&oracle; 8.1.7</application>
          se necesitan algunos directorios adicionales:</para>

	<screen>&prompt.root; <userinput>su - ora<replaceable>sid</replaceable></userinput>
&prompt.root; <userinput>cd /oracle</userinput>
&prompt.root; <userinput>mkdir 805_32</userinput>
&prompt.root; <userinput>mkdir client stage</userinput>
&prompt.root; <userinput>mkdir client/80x_32</userinput>
&prompt.root; <userinput>mkdir stage/817_32</userinput>
&prompt.root; <userinput>cd /oracle/<replaceable>SID</replaceable></userinput>
&prompt.root; <userinput>mkdir 817_32</userinput></screen>

        <note><para>El directorio <filename>client/80x_32</filename> es
          usado con este nombre exacto. No reemplace la <emphasis>x</emphasis>
          con alg&uacute;n n&uacute;mero o algo m&aacute;s.</para></note>

        <para>En el tercer paso creamos directorios como el usuario
	  <username><replaceable>sid</replaceable>adm</username>:</para>

        <screen>&prompt.root; <userinput>su - <replaceable>sid</replaceable>adm</userinput>
&prompt.root; <userinput>cd /usr/sap</userinput>
&prompt.root; <userinput>mkdir <replaceable>SID</replaceable></userinput>
&prompt.root; <userinput>mkdir trans</userinput>
&prompt.root; <userinput>exit</userinput></screen>
      </sect3>

      <sect3 id="entriesinslashetcslashservices">
        <title>Entradas en <filename>/etc/services</filename></title>

        <para><application>&sap.r3;</application> requiere algunas entradas
          en el archivo <filename>/etc/services</filename>, las cuales
          puede que no est&eacute;n correctamente activadas durante
          la instabalaci&oacute;n bajo FreeBSD. Agregue por favor
          las siguientes entradas (necesita al menos esas entradas
          correspondientes al n&uacute;mero de instancia &mdash; en
          este caso, <literal>00</literal>. No har&aacute; ning&uacute;n
          da&ntilde;o agregar todas las entradas desde
          <literal>00</literal> hasta <literal>99</literal> para
          <literal>dp</literal>, <literal>gw</literal>, <literal>sp</literal>
          y <literal>ms</literal>). Si va a utilizar un <application>SAProuter</application>
          o necesita accesar <application>&sap;</application> OSS, tambi&eacute;n
          necesita <literal>99</literal>, ya que el puerto 3299 es usado
          generalmente para el proceso <application>SAProuter</application>
          en el sistema destino:</para>

        <programlisting>
sapdp00    3200/tcp # SAP Dispatcher.      3200 + Instance-Number
sapgw00  3300/tcp # SAP Gateway.         3300 + Instance-Number
sapsp00  3400/tcp #                      3400 + Instance-Number
sapms00  3500/tcp #                      3500 + Instance-Number
sapms<replaceable>SID</replaceable> 3600/tcp # SAP Message Server.  3600 + Instance-Number
sapgw00s   4800/tcp # SAP Secure Gateway   4800 + Instance-Number</programlisting>
      </sect3>

      <sect3 id="necessarylocales">
        <title>Locales necesarios</title>
	<indexterm><primary>locales</primary></indexterm>

        <para><application>&sap;</application> requiere al menos dos locales
          que no son parte de la instalaci&oacute;n por omisi&oacute;n de
          RedHat. &sap; ofrece los RPMs que se requieren como descarga
          desde su FTP (que solo es accesible si es un cliente con
          acceso OSS). Vea la nota 0171356 para una lista de los
          RPMs que necesita.</para>

        <para>Tambi&eacute;n es posible solamente crear enlaces
          apropiados (por ejemplo desde <emphasis>de_DE</emphasis>
          y <emphasis>en_US</emphasis> ), pero no recomendamos para
          un sistema en producci&oacute;n (aunque hasta ahora ha funcionado
          con el sistema IDES sin ning&uacute;n problema). Las
          siguientes locales son necesarias:</para>

        <programlisting>de_DE.ISO-8859-1
en_US.ISO-8859-1</programlisting>

	<para>Haga los enlaces de esta manera:</para>

	<screen>&prompt.root; <userinput>cd /compat/linux/usr/share/locale</userinput>
&prompt.root; <userinput>ln -s de_DE de_DE.ISO-8859-1</userinput>
&prompt.root; <userinput>ln -s en_US en_US.ISO-8859-1</userinput></screen>

        <para>Si no est&aacute;n presentes, habr&aacute;n algunos
          problemas durante la instalaci&oacute;n. Si estos son
          ignorados subsecuentemente (configurando el <literal>STATUS</literal>
          de los pasos ofensivos a <literal>OK</literal> en el archivo
          <filename>CENTRDB.R3S</filename>), ser&aacute; imposible
          entrar al sistema <application>&sap;</application> sin
          algo de esfuerzo adicional.</para>
      </sect3>

      <sect3 id="kerneltuning">
        <title>Afinaci&oacute;n del kernel</title>
	<indexterm><primary>Afinaci&oacute;n del kernel</primary></indexterm>

        <para>Los sistemas <application>&sap.r3;</application> necesitan muchos
          recursos. Por lo tanto hemos agregado los siguientes par&aacute;metros
          al archivo de configuraci&oacute;n del kernel:</para>

        <programlisting># Set these for memory pigs (SAP and Oracle):
options MAXDSIZ="(1024*1024*1024)"
options DFLDSIZ="(1024*1024*1024)"
# System V options needed.
options SYSVSHM #SYSV-style shared memory
options SHMMAXPGS=262144 #max amount of shared mem. pages
#options SHMMAXPGS=393216 #use this for the 46C inst.parameters
options SHMMNI=256 #max number of shared memory ident if.
options SHMSEG=100 #max shared mem.segs per process
options SYSVMSG #SYSV-style message queues 
options MSGSEG=32767 #max num. of mes.segments in system 
options MSGSSZ=32 #size of msg-seg. MUST be power of 2
options MSGMNB=65535 #max char. per message queue
options MSGTQL=2046 #max amount of msgs in system
options SYSVSEM #SYSV-style semaphores 
options SEMMNU=256 #number of semaphore UNDO structures
options SEMMNS=1024 #number of semaphores in system
options SEMMNI=520 #number of semaphore identifiers
options SEMUME=100       #number of UNDO keys</programlisting>

        <para>Los valores m&iacute;nimos son especificados en la
          documentaci&oacute;n que viene con &sap;. Como no hay una
          descripci&oacute;n para Linux, vea la secci&oacute;n de
          HP-UX (32-bit) para mayor informaci&oacute;n. Como el sistema
          para la instalaci&oacute;n 4.6C SR2 tiene m&aacute;s
          memoria principal, los segmentos compartidos pueden ser m&aacute;s
          extensos tanto para <application>&sap;</application> como
          para <application>&oracle;</application>, por consiguiente
          elija un n&uacute;mero m&aacute;s grande de p&aacute;ginas
          de memoria compartida.</para>

        <note><para>Con la instalaci&oacute;n por omisi&oacute;n de
          FreeBSD&nbsp;4.5 en &i386;, deje <literal>MAXDSIZ</literal>
          y <literal>DFLDSIZ</literal> a 1&nbsp;GB m&aacute;ximo.
          De otra manera, pueden ocurrir errore extra&ntilde;os
          como <errorname>ORA-27102: out of memory</errorname>
          y <errorname>Linux Error: 12: Cannot allocate memory</errorname>.</para></note>
      </sect3>
    </sect2>

    <sect2 id="installingsapr3">
      <title>Instalando &sap.r3;</title>

      <sect3 id="preparingsapcdroms">
        <title>Preparando los CDROMs</title>

        <para>Hay muchos CDROMs que montar y desmontar durante la
          instalaci&oacute;n. Asumiendo que tenga suficientes unidades
          de CDROM, puede solamente montarlos todos. Nosotros decidimos
          copiar el contenidos de los CDROMs a los directorios
          correspondientes:</para>

	<programlisting>/oracle/<replaceable>SID</replaceable>/sapreorg/<replaceable>nombre-cd</replaceable></programlisting>

        <para>Donde <replaceable>nombre-cd</replaceable> era <filename>KERNEL</filename>, 
	  <filename>RDBMS</filename>, <filename>EXPORT1</filename>,
	  <filename>EXPORT2</filename>, <filename>EXPORT3</filename>,
	  <filename>EXPORT4</filename>, <filename>EXPORT5</filename> y
	  <filename>EXPORT6</filename> para la instalaci&oacute;n 4.6B/IDES, y
	  <filename>KERNEL</filename>, <filename>RDBMS</filename>,
	  <filename>DISK1</filename>, <filename>DISK2</filename>,
	  <filename>DISK3</filename>, <filename>DISK4</filename> y
	  <filename>LANG</filename> para la instalaci&oacute;n 4.6C SR2. 
          Todos los nombres de archivo en los CDs montados deben estar
          en may&uacute;sculas, de otra manera use la opci&oacute;n
          <option>-g</option> para el montado. Entonces utilice estos
          comandos:</para>

        <screen>&prompt.root; <userinput>mount_cd9660 -g /dev/cd0a /mnt</userinput>
&prompt.root; <userinput>cp -R /mnt/* /oracle/<replaceable>SID</replaceable>/sapreorg/<replaceable>nombre-cd</replaceable></userinput>
&prompt.root; <userinput>umount /mnt</userinput></screen>
      </sect3>

      <sect3 id="runningtheinstall-script">
        <title>Corriendo el script de instalaci&oacute;n</title>

        <para>Primero tiene que preparar un directorio
          <filename class="directory">install</filename> directory:</para>

	<screen>&prompt.root; <userinput>cd /oracle/<replaceable>SID</replaceable>/sapreorg</userinput>
&prompt.root; <userinput>mkdir install</userinput>
&prompt.root; <userinput>cd install</userinput></screen>

        <para>Entonces el script de instalaci&oacute;n es iniciado, el cual
          copiar&aacute; casi todos los archivos relevantes en el directorio
          <filename class="directory">install</filename>:</para>

	<screen>&prompt.root; <userinput>/oracle/<replaceable>SID</replaceable>/sapreorg/KERNEL/UNIX/INSTTOOL.SH</userinput></screen>

        <para>La instalaci&oacute;n IDES (4.6B) viene con un sistema de
          demostraci&oacute;n &sap.r3; totalmente personalizado, as&iacute;
          que hay seis CDs EXPORT en lugar de solo tres. En este punto
          el patr&oacute;n de instalaci&oacute;n
          <filename>CENTRDB.R3S</filename> es para instalar una instancia
          dentral est&aacute;ndar (<application>&r3;</application> y
          base de datos), no la instancia central IDES, entonces se
          necesita copiar el <filename>CENTRDB.R3S</filename>
          correspondiente desde el directorio <filename class="directory">EXPORT1</filename>,
          de otra manera <command>R3SETUP</command> solo pedir&aacute;
          tres CDs EXPORT.</para>

        <para>La nueva liberaci&oacute;n de <application>&sap; 4.6C SR2</application>
          viene con cuatro CDs EXPORT. El archivo de par&aacute;metros
          que controla los pasos de instalaci&oacute;n es
          <filename>CENTRAL.R3S</filename>. Contrario a liberaciones
          anteriores no existen patrones de instalaci&oacute;n separados
          para una instancia central con o sin base de datos.
          <application>&sap;</application> est&aacute; usando un
          patr&oacute;n separado para la instalaci&oacute;n de la base
          de datos. Para reiniciar la instalaci&oacute;n despues es
          suficiente reiniciarla con el archivo original.</para>

        <para>Durante y despues de la instalaci&oacute;n, <application>&sap;</application>
          requiere que <command>hostname</command> regrese el nombre
          de la computadora solamente, no el nombre calificado
          de dominio completo. As&iacute; que configure el
          nombre de equipo de acuerdo, o active un alias con
          <command>alias hostname='hostname -s'</command> para
          <username>ora<replaceable>sid</replaceable></username>
          y para <username><replaceable>sid</replaceable>adm</username>
          (y para <username>root</username> al menos durante los
          pasos de la instalaci&oacute;n realizados como
          <username>root</username>). Tambi&eacute;n es posible ajustar
          los archivos <filename>.profile</filename> y <filename>.login</filename>
          instalados de ambos usuarios que son instalados
          durante la instalaci&oacute;n <application>&sap;</application>.</para>
      </sect3>

      <sect3 id="startr3setup-46B">
        <title>Iniciar <command>R3SETUP</command> 4.6B</title>

        <para>Aseg&uacute;rese que <envar>LD_LIBRARY_PATH</envar> est&eacute; configurada correctamente:</para>

        <screen>&prompt.root; <userinput>export LD_LIBRARY_PATH=/oracle/IDS/lib:/sapmnt/IDS/exe:/oracle/805_32/lib</userinput></screen>

        <para>Inicie <command>R3SETUP</command> como <username>root</username>
          desde el directorio de instalaci&oacute;n:</para>

        <screen>&prompt.root; <userinput>cd /oracle/IDS/sapreorg/install</userinput>
&prompt.root; <userinput>./R3SETUP -f CENTRDB.R3S</userinput></screen>

        <para>El script pregunta entonces algunas cosas (por omisi&oacute;n
          en corchetes, seguido de la respuesta real):</para>

        <informaltable frame="none" pgwide="1">
          <tgroup cols="3">
          <thead>
          <row>
            <entry>Pregunta</entry>
            <entry>Por omisi&oacute;n</entry>
            <entry>Entrada</entry>
          </row>
          </thead>
          <tbody>
          <row>
            <entry>Enter SAP System ID</entry>
            <entry>[C11]</entry>
            <entry>IDS<keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Enter SAP Instance Number</entry>
            <entry>[00]</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Enter SAPMOUNT Directory</entry>
            <entry>[/sapmnt]</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Enter name of SAP central host</entry>
            <entry>[troubadix.domain.de]</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Enter name of SAP db host</entry>
            <entry>[troubadix]</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Select character set</entry>
            <entry>[1] (WE8DEC)</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Enter Oracle server version (1) Oracle 8.0.5, (2) Oracle 8.0.6, (3) Oracle 8.1.5, (4) Oracle 8.1.6</entry>
            <entry> </entry>
            <entry>1<keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Extract Oracle Client archive</entry>
            <entry>[1] (Yes, extract)</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Enter path to KERNEL CD</entry>
            <entry>[/sapcd]</entry>
            <entry>/oracle/IDS/sapreorg/KERNEL</entry>
          </row>
          <row>
            <entry>Enter path to RDBMS CD</entry>
            <entry>[/sapcd]</entry>
            <entry>/oracle/IDS/sapreorg/RDBMS</entry>
          </row>
          <row>
            <entry>Enter path to EXPORT1 CD</entry>
            <entry>[/sapcd]</entry>
            <entry>/oracle/IDS/sapreorg/EXPORT1</entry>
          </row>
          <row>
            <entry>Directory to copy EXPORT1 CD</entry>
            <entry>[/oracle/IDS/sapreorg/CD4_DIR]</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Enter path to EXPORT2 CD</entry>
            <entry>[/sapcd]</entry>
            <entry>/oracle/IDS/sapreorg/EXPORT2</entry>
          </row>
          <row>
            <entry>Directory to copy EXPORT2 CD</entry>
            <entry>[/oracle/IDS/sapreorg/CD5_DIR]</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Enter path to EXPORT3 CD</entry>
            <entry>[/sapcd]</entry>
            <entry>/oracle/IDS/sapreorg/EXPORT3</entry>
          </row>
          <row>
            <entry>Directory to copy EXPORT3 CD</entry>
            <entry>[/oracle/IDS/sapreorg/CD6_DIR]</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Enter path to EXPORT4 CD</entry>
            <entry>[/sapcd]</entry>
            <entry>/oracle/IDS/sapreorg/EXPORT4</entry>
          </row>
          <row>
            <entry>Directory to copy EXPORT4 CD</entry>
            <entry>[/oracle/IDS/sapreorg/CD7_DIR]</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Enter path to EXPORT5 CD</entry>
            <entry>[/sapcd]</entry>
            <entry>/oracle/IDS/sapreorg/EXPORT5</entry>
          </row>
          <row>
            <entry>Directory to copy EXPORT5 CD</entry>
            <entry>[/oracle/IDS/sapreorg/CD8_DIR]</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Enter path to EXPORT6 CD</entry>
            <entry>[/sapcd]</entry>
            <entry>/oracle/IDS/sapreorg/EXPORT6</entry>
          </row>
          <row>
            <entry>Directory to copy EXPORT6 CD</entry>
            <entry>[/oracle/IDS/sapreorg/CD9_DIR]</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Enter amount of RAM for SAP + DB</entry>
            <entry> </entry>
            <entry>850<keycap>Enter</keycap> (en Megabytes)</entry>
          </row>
          <row>
            <entry>Service Entry Message Server</entry>
            <entry>[3600]</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Enter Group-ID of sapsys</entry>
            <entry>[101]</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Enter Group-ID of oper</entry>
            <entry>[102]</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Enter Group-ID of dba</entry>
            <entry>[100]</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Enter User-ID of <replaceable>sid</replaceable>adm</entry>
            <entry>[1000]</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Enter User-ID of ora<replaceable>sid</replaceable></entry>
            <entry>[1002]</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Number of parallel procs</entry>
            <entry>[2]</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          </tbody>
          </tgroup>
        </informaltable>
      
        <para>Si no ha copiado los CDs a las diferentes localidades,
          entonces el instalador <application>&sap;</application>
          no podr&aacute; encontrar el CD necesario (identificado
          por el archivo <filename>LABEL.ASC</filename> en el CD)
          y puede entonces pedirle que inserte y monte el CD y
          confirme o introduzca la ruta de montaje.</para>
   
        <para>El <filename>CENTRDB.R3S</filename> puede no estar
          libre de errores. En nuestro caso, solicit&oacute;
          el CD EXPORT4 nuevamente pero solo se le indic&oacute;
          la clave correcta (6_LOCATION, luego 7_LOCATION, etc),
          entonces uno puede solamente continuar indroduciendo
          los valores correctos.</para>

        <para>Aparte de algunos problemas mencionados abajo,
          todo debe ir directamente al punto donde el software
          de base de datos &oracle; necesita ser instalado.</para>
      </sect3>

      <sect3 id="startr3setup-46C">
	<title>Iniciar <command>R3SETUP</command> 4.6C SR2</title>

        <para>Aseg&uacute;rese que <envar>LD_LIBRARY_PATH</envar> est&eacute;
          configurada correctamente. Este es un valor diferente de
          la instalaci&oacute;n 4.6B con
	  <application>&oracle; 8.0.5</application>:</para>

	<screen>&prompt.root; <userinput>export LD_LIBRARY_PATH=/sapmnt/PRD/exe:/oracle/PRD/817_32/lib</userinput></screen>

        <para>Inicie <command>R3SETUP</command> como el usuario <username>root</username>
          desde el directorio de instalaci&oacute;n:</para>

	<screen>&prompt.root; <userinput>cd /oracle/PRD/sapreorg/install</userinput>
&prompt.root; <userinput>./R3SETUP -f CENTRAL.R3S</userinput></screen>

        <para>El script pregunta entonces algunas cosas (por omisi&oacute;n
          en corchetes, seguido de la respuesta real):</para>

	<informaltable frame="none" pgwide="1">
	  <tgroup cols="3">
	  <thead>
	  <row>
	    <entry>Pregunta</entry>
	    <entry>Por omisi&oacute;n</entry>
	    <entry>Entrada</entry>
	  </row>
	  </thead>
	  <tbody>
	  <row>
	    <entry>Enter SAP System ID</entry>
	    <entry>[C11]</entry>
	    <entry>PRD<keycap>Enter</keycap></entry>
	  </row>
	  <row>
	    <entry>Enter SAP Instance Number</entry>
	    <entry>[00]</entry>
	    <entry><keycap>Enter</keycap></entry>
	  </row>
	  <row>
	    <entry>Enter SAPMOUNT Directory</entry>
	    <entry>[/sapmnt]</entry>
	    <entry><keycap>Enter</keycap></entry>
	  </row>
	  <row>
	    <entry>Enter name of SAP central host</entry>
	    <entry>[majestix]</entry>
	    <entry><keycap>Enter</keycap></entry>
	  </row>
	  <row>
	    <entry>Enter Database System ID</entry>
	    <entry>[PRD]</entry>
	    <entry>PRD<keycap>Enter</keycap></entry>
	  </row>
	  <row>
	    <entry>Enter name of SAP db host</entry>
	    <entry>[majestix]</entry>
	    <entry><keycap>Enter</keycap></entry>
	  </row>
	  <row>
	    <entry>Select character set</entry>
	    <entry>[1] (WE8DEC)</entry>
	    <entry><keycap>Enter</keycap></entry>
	  </row>
	  <row>
	    <entry>Enter Oracle server version (2) Oracle 8.1.7</entry>
	    <entry> </entry>
	    <entry>2<keycap>Enter</keycap></entry>
	  </row>
	  <row>
	    <entry>Extract Oracle Client archive</entry>
	    <entry>[1] (Yes, extract)</entry>
	    <entry><keycap>Enter</keycap></entry>
	  </row>
	  <row>
	    <entry>Enter path to KERNEL CD</entry>
	    <entry>[/sapcd]</entry>
	    <entry>/oracle/PRD/sapreorg/KERNEL</entry>
	  </row>
	  <row>
	    <entry>Enter amount of RAM for SAP + DB</entry>
	    <entry>2044</entry>
	    <entry>1800<keycap>Enter</keycap> (in Megabytes)</entry>
	  </row>
	  <row>
	    <entry>Service Entry Message Server</entry>
	    <entry>[3600]</entry>
	    <entry><keycap>Enter</keycap></entry>
	  </row>
	  <row>
	    <entry>Enter Group-ID of sapsys</entry>
	    <entry>[100]</entry>
	    <entry><keycap>Enter</keycap></entry>
	  </row>
	  <row>
            <entry>Enter Group-ID of oper</entry>
            <entry>[101]</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Enter Group-ID of dba</entry>
            <entry>[102]</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Enter User-ID of <username>oraprd</username></entry>
            <entry>[1002]</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Enter User-ID of <username>prdadm</username></entry>
            <entry>[1000]</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>LDAP support</entry>
            <entry> </entry>
            <entry>3<keycap>Enter</keycap> (no support)</entry>
          </row>
          <row>
            <entry>Installation step completed</entry>
            <entry>[1] (continue)</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Choose installation service</entry>
            <entry>[1] (DB inst,file)</entry>
            <entry><keycap>Enter</keycap></entry>
          </row>
          </tbody>
          </tgroup>
        </informaltable>
      
        <para>Hasta ahora, la creaci&oacute;n de usuarios da un
          error durante la instalaci&oacute;n en las fases
          OSUSERDBSID_IND_ORA (para crear al usuario
          <username>ora<replaceable>sid</replaceable></username>) y
          OSUSERSIDADM_IND_ORA (creando al usuario
	  <username><replaceable>sid</replaceable>adm</username>).</para>
   
       <para>Aparte de algunos problemas mencionados abajo,
          todo debe ir directamente al punto donde el software
          de base de datos &oracle; necesita ser instalado.</para>
        
      </sect3>
    </sect2>

    <sect2 id="installingoracle805">
      <title>Instalando &oracle; 8.0.5</title>

      <para>Vea por favor las notas correspondientes en los <filename>Readme</filename>s
        de &sap; y &oracle; en relaci&oacute;n a Linux y <application>&oracle; DB</application>
        para problemas posibles. La mayor&iacute;a, si no todos
        los problemas vienen de librer&iacute;as incompatibles.</para>

      <para>Para mayor informaci&oacute;n instalando <application>&oracle;</application>,
        refi&eacute;rase al
        <link linkend="linuxemu-oracle">cap&iacute;tulo de
        instalaci&oacute;n de &oracle;.</link></para>


      <sect3 id="installingtheoracle805withorainst">
        <title>Instalando &oracle; 8.0.5 con <command>orainst</command></title>

        <para>Si <application>&oracle; 8.0.5</application> va a ser
          usado, se necesitan algunas librer&iacute;as adicionales
          para un reenlazado exitoso, ya que <application>&oracle; 8.0.5</application>
          fu&eacute; enlazado con una glibc antigua (RedHat 6.0),
          pero RedHat 6.1 ya usa una nueva glibc. Entonces tiene
          que instalar los siguientes paquetes adicionales para
          asegurarse que el reenlazado funcionar&aacute;:</para>

        <para><filename>compat-libs-5.2-2.i386.rpm</filename></para>
        <para><filename>compat-glibc-5.2-2.0.7.2.i386.rpm</filename></para>
        <para><filename>compat-egcs-5.2-1.0.3a.1.i386.rpm</filename></para>
        <para><filename>compat-egcs-c++-5.2-1.0.3a.1.i386.rpm</filename></para>
        <para><filename>compat-binutils-5.2-2.9.1.0.23.1.i386.rpm</filename></para>

        <para>Vea las notas correspondientes de &sap; o el <filename>Readme</filename>
          de &oracle; para m&aacute;s informaci&oacute;n. Si esto
          no puede ser posible (al momento de instalaci&oacute;n
          no teniamos tiempo suficiente para revisar esto), se
          podr&iacute;an utilizar los binarios originales, o
          los binarios reenlazados de un sistema original RedHat.</para>

        <para>Para compilar el agente inteligente, el paquete Tcl
          de RedHat debe ser instalado. Si no puede obtener
          <filename>tcl-8.0.3-20.i386.rpm</filename>, una versi&oacute;n
          m&aacute;s reciente como
          <filename>tcl-8.0.5-30.i386.rpm</filename> para RedHat
          tambi&eacute;n debe funcionar.</para>

        <para>Aparte del reenlazado, la instalaci&oacute;n
          es directa:</para>

        <screen>&prompt.root; <userinput>su - oraids</userinput>
&prompt.root; <userinput>export TERM=xterm</userinput>
&prompt.root; <userinput>export ORACLE_TERM=xterm</userinput>
&prompt.root; <userinput>export ORACLE_HOME=/oracle/IDS</userinput>
&prompt.root; <userinput>cd $ORACLE_HOME/orainst_sap</userinput>
&prompt.root; <userinput>./orainst</userinput></screen>

        <para>Confirme todas las pantallas con <keycap>Enter</keycap> hasta
          que el software est&eacute; instalado, excepto la que
          tiene deseleccionar el <emphasis>visualizador de
          textos &oracle; en l&iacute;nea</emphasis>, ya que no
          se encuentra disponible para Linux. <application>&oracle;</application>
          quiere entonces reenlazar con <command>i386-glibc20-linux-gcc</command>
          en lugar del <command>gcc</command> disponible,
          <command>egcs</command> o <command>i386-redhat-linux-gcc</command>.</para>

        <para>Debido a falta de tiempo decidimo usar los binarios
          de una liberaci&oacute;n <application>&oracle; 8.0.5 PreProduction</application>,
          despues que el primer intento de que funcionara la versi&oacute;n
          del CD RDBMS fallara, y encontrar y accesar los RPMs
          correctos era una pesadilla en ese momento.</para>

      </sect3>

      <sect3 id="installingtheoracle805preproduction">
        <title>Instalando &oracle; 8.0.5 Pre-production Release para
          Linux (Kernel 2.0.33)</title>

        <para>Esta instalacaci&oacute;n es bastante f&aacute;cil.
          Monte el CD, inicie el instalador. Entonces le preguntar&aacute;
          por la ubicaci&oacute;n de directorio home de &oracle;,
          y copiar&aacute; ah&iacute; todos los binarios. Aunque nosotros
          no eliminamos los sobrantes de nuestra instalaci&oacute;n
          RDBMS previa fallida.</para>

        <para>Despues de eso, la base de datos <application>&oracle;</application>
          puede ser iniciada sin problemas.</para>
      </sect3>
    </sect2>

    <sect2 id="installingoracle817">
      <title>Instalando el archivo comprimido de Linux  &oracle; 8.1.7</title>
      <para>Tome el archivo comprimido <filename>oracle81732.tgz</filename>
        que produjo desde el directorio de instalaci&oacute;n en un
        sistema Linux y descompr&iacute;malo en
        <filename>/oracle/<replaceable>SID</replaceable>/817_32/</filename>.</para>
    </sect2>

    <sect2 id="continuewithsapr4installation">
      <title>Continue con la instalaci&oacute;n &sap.r3;</title>

      <para>Primero revise las configuraciones de ambiente
        de los usuarios <username>idsamd</username>
        (<replaceable>sid</replaceable>adm) y
        <username>oraids</username> (ora<replaceable>sid</replaceable>).
        Ahora ambos deben tener los archivos
        <filename>.profile</filename>, <filename>.login</filename> y
        <filename>.cshrc</filename> los cuales est&aacute;n utilizando
        <command>hostname</command>. En caso que el nombre de
        equipo del sistema sea el nombre calificado completo,
        necesita cambiar <command>hostname</command> a
        <command>hostname -s</command> dentro de los
        tres archivos.</para>

      <sect3 id="databaseload">
        <title>Carga de la base de datos</title>

        <para>Despues, <command>R3SETUP</command> puede ser iniciado o continuado
          (dependiendo si se eligi&oacute; salir o no). Entonces <command>R3SETUP</command>
          crea los espacios en tablas y carga los datos (para 46B IDES,
          desde EXPORT1 hasta EXPORT6, para 46C desde DISK1 hasta DISK4)
          con <command>R3load</command> en la base de datos.</para>

        <para>Cuando se termina la carga de la base de datos (puede
          tomar un par de horas), se solicitan algunas contrase&ntilde;as.
          Para instalaciones de prueba, se pueden utilizar las
          contrase&ntilde;as por omisi&oacute;n bien conocidas
          (¡use unas diferentes si le preocupa la seguridad!):</para>

        <informaltable frame="none" pgwide="1">
          <tgroup cols="2">
          <thead>
          <row>
            <entry>Pregunta</entry>
            <entry>Entrada</entry>
          </row>
          </thead>
          <tbody>
          <row>
            <entry>Enter Password for sapr3</entry>
            <entry>sap<keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Confirum Password for sapr3</entry>
            <entry>sap<keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Enter Password for sys</entry>
            <entry>change_on_install<keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Confirm Password for sys</entry>
            <entry>change_on_install<keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Enter Password for system</entry>
            <entry>manager<keycap>Enter</keycap></entry>
          </row>
          <row>
            <entry>Confirm Password for system</entry>
            <entry>manager<keycap>Enter</keycap></entry>
          </row>
          </tbody>
          </tgroup>
        </informaltable>

        <para>At this point We had a few problems with 
	  <command>dipgntab</command> during the 4.6B
	  installation.</para>
      </sect3>

      <sect3 id="listener">
        <title>Escucha</title>

        <para>Inicie el escucha de <application>&oracle;</application> como
          el usuario <username>ora<replaceable>sid</replaceable></username>
          de la siguiente manera:</para>

        <screen>&prompt.user; <userinput>umask 0; lsnrctl start</userinput></screen>

        <para>De otra manera puede obtener el error <errorcode>ORA-12546</errorcode>
          ya que los sockets no tendr&aacute;n los permisos correctos.
          Vea la nota 072984 de &sap;.</para>
      </sect3>

      <sect3 id="mnlstables">
	<title>Actualizando tablas MNLS</title>

        <para>Si planea importar lenguajes que no sean Latin-1 hacia el
          sistema <application>&sap;</application>, tiene que actualizar
          el soporte de tablas multilenguaje. Esto se describe en las
          notas 15023 y 45619 de &sap; OSS. Si no, puede saltarse
          esta secci&oacute;n durante la instalaci&oacute;n de <application>&sap;</application>.</para>

        <note><para>Si no necesita soporte MNLS, todav&iacute;a es necesario
          revisar la tabla TCPDB e inicializarla si no se ha hecho. Vea
          las notas 0015023 y 0045619 de &sap; para mayor informaci&oacute;n.</para></note>
      </sect3>
    </sect2>

    <sect2 id="postinstallationsteps">
      <title>Pasos para despues de la instalaci&oacute;n</title>

      <sect3 id="requestsapr3licensekey">
        <title>Solicitar una licencia llave &sap.r3;</title>

        <para>Tiene que solicitar su licencia llave de <application>&sap.r3;</application>.
          Esta se necesita, ya que la licencia temporal que fu&eacute;
          instalada durante la instalaci&oacute;n es v&aacute;lida
          solamente por cuatro semanas. Primero obtenga la llave
          hardware. Entre como el usuario <username>idsadm</username>
          y llame a <command>saplicense</command>:</para>

        <screen>&prompt.root; <userinput>/sapmnt/IDS/exe/saplicense -get</userinput></screen>

        <para>Llamar a <command>saplicense</command> sin par&aacute;metros
          da una lista de opciones. Despues de recibir la licencia llave,
          puede ser instalada usando:</para>

        <screen>&prompt.root; <userinput>/sapmnt/IDS/exe/saplicense -install</userinput></screen>

        <para>Entonces se le solicita que entre los siguientes valores:</para>

        <programlisting>SAP SYSTEM ID   = <replaceable>SID, 3 caracteres</replaceable>
CUSTOMER KEY    = <replaceable>hardware key, 11 caracteres</replaceable>
INSTALLATION NO = <replaceable>installation, 10 caracteres</replaceable>
EXPIRATION DATE = <replaceable>yyyymmdd, usualmente "99991231"</replaceable>
LICENSE KEY     = <replaceable>license key, 24 caracteres</replaceable></programlisting>
      </sect3>

      <sect3 id="creatingusers">
        <title>Crear usuarios</title>

        <para>Cree un usuario dentro del cliente 000 (para algunas
          tareas que requieren ser hechas dentro de cliente 000, pero
          con un usuario diferente a los usuarios <username>sap*</username>
          y <username>ddic</username>). Como nombre de usuario,
          generalmente escogemos <username>wartung</username>
          (o <username>servicio</username> es espa&ntilde;ol).
          Los perfiles requeridos son <literal>sap_new</literal> y
          <literal>sap_all</literal>. Para seguridad adicional
          las contrase&ntilde;as para usuarios por omisi&oacute;n
          dentro de todos los clientes deben ser cambiadas (esto
          incluye usuarios <username>sap*</username> y
          <username>ddic</username>).</para>
      </sect3>

      <sect3 id="configtranssysprofileopermodesetc">
        <title>Configurar sistema de transporte, perfil, modos de operaci&oacute;n, etc.</title>

        <para>Dentro del cliente 000, usuario diferente de <username>ddic</username>
          y <username>sap*</username>, haga al menos lo siguiente:</para>

        <informaltable frame="none" pgwide="1">
          <tgroup cols="2">
          <thead>
          <row>
            <entry>Tarea</entry>
            <entry>Transacci&oacute;n</entry>
          </row>
          </thead>
          <tbody>
          <row>
            <entry>Configurar sistema de transporte, ej. como <emphasis>Stand-Alone
              Transport Domain Entity</emphasis></entry>
	    <entry>STMS</entry>
          </row>
          <row>
            <entry>Crear / editar perfil para el sistema</entry>
            <entry>RZ10</entry>
          </row>
          <row>
            <entry>Mantener modos de operaci&oacute;n e instancias</entry>
            <entry>RZ04</entry>
          </row>
          </tbody>
          </tgroup>
        </informaltable>

        <para>Estos y todos los demas pasos post-instalaci&oacute;n
          son descritos detalladamente en las gu&iacute;as
          de instalaci&oacute;n <application>&sap;</application>.</para>
      </sect3>

      <sect3 id="editintsidsap">
        <title>Editar <filename>init<replaceable>sid</replaceable>.sap</filename> (<filename>initIDS.sap</filename>)</title>

        <para>El archivo <filename>/oracle/IDS/dbs/initIDS.sap</filename>
          contiene el perfil de respaldo <application>&sap;</application>.
          Se necesita definir aqu&iacute; el tama&ntilde;o de la cinta a
          utilizar, tipo de conpresi&oacute;n y dem&aacute;s. Para
          tener esto corriendo con <command>sapdba</command> /
          <command>brbackup</command>, cambiamos los siguientes valores:</para>

        <programlisting>compress = hardware
archive_function = copy_delete_save
cpio_flags = "-ov --format=newc --block-size=128 --quiet"
cpio_in_flags = "-iuv --block-size=128 --quiet"
tape_size = 38000M
tape_address = /dev/nsa0
tape_address_rew = /dev/sa0</programlisting>

        <para>Explicaciones:</para>

        <para><varname>compress</varname>: La cinta que usamos es una
           HP DLT1 que tiene compresi&oacute;n por hardware.</para>

        <para><varname>archive_function</varname>: Esto define la
          conducta por omisi&oacute;n del almacenaje de los archivos
          de log de &oracle;: los archivos de log nuevos son guardados
          en cinta, los archivos de log que ya han sido guardados
          se guardan de nuevo y entonces son borrados. Esto previene
          muchos problemas si necesita recuparar la base de datos y
          uno de las cintas de archivo se ha da&ntilde;ado.</para>

        <para><varname>cpio_flags</varname>: por omisi&oacute;n se usa <option>-B</option>
          que indica un tama&ntilde;o de bloque de 5120&nbsp;Bytes. Para
          cintas DLT, HP recomienda al menos un tama&ntilde;o de bloque de
          32&nbsp;K, as&iacute; que usamos <option>--block-size=128</option>
          para 64&nbsp;K. <option>--format=newc</option> se necesita debido
          a que tenemos n&uacute;meros de inodo mayores a 65535. La
          &uacute;ltima opci&oacute;n <option>--quiet</option> se necesita
          ya que <command>brbackup</command> se queja tan pronto como
          <command>cpio</command> imprime los n&uacute;meros de bloque
          salvados.</para>

        <para><varname>cpio_in_flags</varname>: Banderas necesarias
          para cargar datos de vuelta desde la cinta. El formato
          es reconocido automaticamente.</para>

        <para><varname>tape_size</varname>: Esto usualmente da la
          capacidad de almacenaje cruda de la cinta. Por razones
          de seguridad (nosotros usamos compresi&oacute;n por
          hardware), el valor es ligeramente menor que el valor
          real.</para>

        <para><varname>tape_address</varname>: El dispositivo
          no retrocedible a utilizar con <command>cpio</command>.</para>

        <para><varname>tape_address_rew</varname>: El dispositivo
          retrocedible a utilizar con <command>cpio</command>.</para>
      </sect3>

      <sect3>
	<title>Detalles de configuraci&oacute;n despues de la instalaci&oacute;n</title>

        <para>Los siguientes par&aacute;metros <application>&sap;</application>
          deben ser afinados despues de la instalaci&oacute;n (ejemplos
          para IDES 46B, 1&nbsp;GB memory):</para>

	<informaltable frame="none" pgwide="1">
	  <tgroup cols="2">
	    <thead>
	      <row>
		<entry>Nombre</entry>
		<entry>Valor</entry>
	      </row>
	    </thead>
	    <tbody>
	      <row>
		<entry>ztta/roll_extension</entry>
		<entry>250000000</entry>
	      </row>
	      <row>
		<entry>abap/heap_area_dia</entry>
                <entry>300000000</entry>
	      </row>
	      <row>
		<entry>abap/heap_area_nondia</entry>
		<entry>400000000</entry>
	      </row>
	      <row>
		<entry>em/initial_size_MB</entry>
		<entry>256</entry>
	      </row>
	      <row>
		<entry>em/blocksize_kB</entry>
		<entry>1024</entry>
	      </row>
	      <row>
		<entry>ipc/shm_psize_40</entry>
		<entry>70000000</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>

	<para>&sap; Note 0013026:</para>

	<informaltable frame="none" pgwide="1">
	  <tgroup cols="2">
	    <thead>
	      <row>
		<entry>Nombre</entry>
		<entry>Valor</entry>
	      </row>
	    </thead>
	    <tbody>
	      <row>
		<entry>ztta/dynpro_area</entry>
		<entry>2500000</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>

	<para>&sap; Note 0157246:</para>

	<informaltable frame="none" pgwide="1">
	  <tgroup cols="2">
	    <thead>
	      <row>
		<entry>Nombre</entry>
		<entry>Valor</entry>
	      </row>
	    </thead>
	    <tbody>
	      <row>
		<entry>rdisp/ROLL_MAXFS</entry>
		<entry>16000</entry>
	      </row>
	      <row>
		<entry>rdisp/PG_MAXFS</entry>
		<entry>30000</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>

	<note>
	  <para>With the above parameters, on a system with 1&nbsp;gigabyte
	    of memory, one may find memory consumption similar to:</para>

	  <programlisting>Mem: 547M Active, 305M Inact, 109M Wired, 40M Cache, 112M Buf, 3492K Free</programlisting>
	</note>
      </sect3>
    </sect2>

    <sect2 id="problemsduringinstallation">
      <title>Problemas durante la instalaci&oacute;n</title>

      <sect3 id="restartr3setup">
	<title>Reiniciar <command>R3SETUP</command> despues de arreglar el problema</title>

        <para><command>R3SETUP</command> se detiene si encuentra un error. Si ha
          revisado en los archivos de log correspondientes y arreglado el error,
          tiene que reiniciar <command>R3SETUP</command>, usualmente 
          seleccionando REPEAT como opci&oacute;n para el &uacute;ltimo
          paso donde <command>R3SETUP</command> se quej&oacute;.</para>

        <para>Para reiniciar <command>R3SETUP</command>, solo inicielo con el
          archivo <filename>R3S</filename> correspondiente:</para>

	  <screen>&prompt.root; <userinput>./R3SETUP -f CENTRDB.R3S</userinput></screen>

	  <para>para 4.6B, o con</para>

	  <screen>&prompt.root; <userinput>./R3SETUP -f CENTRAL.R3S</userinput></screen>

          <para>para 4.6C, sin importar si el error ocurri&oacute;
            con <filename>CENTRAL.R3S</filename> o con
            <filename>DATABASE.R3S</filename>.</para>

        <note><para>En algunas etapas, <command>R3SETUP</command> asume que la
            base de datos y los procesos <application>&sap;</application> est&aacute;n
            arriba y funcionando (como aquellos en donde ya se completaron los
            pasos). Si ocurren errores y por ejemplo la base de datos no
            pudo iniciarse, tiene que iniciar la base de datos y <application>&sap;</application>
            manualmente despues de arreglar los errores y antes de iniciar
            <command>R3SETUP</command> de nuevo.</para>
          <para>No se olvide de iniciar tambi&eacute;n el escucha de <application>&oracle;</application>
            de nuevo (como <username>ora<replaceable>sid</replaceable></username> con
            <command>umask 0; lsnrctl start</command>) si fu&eacute;
            detenido tambi&eacute;n (por ejemplo debido a un reinicio
            necesario del sistema).</para>
	</note>
      </sect3>

      <sect3 id="indoraduringduringr3setup">
        <title>OSUSERSIDADM_IND_ORA durante <command>R3SETUP</command></title>

        <para>Si <command>R3SETUP</command> se queja en este etapa, edite
          el archivo de formato <command>R3SETUP</command> usado en
          ese momento (<filename>CENTRDB.R3S</filename> (4.6B) o ya sea
          <filename>CENTRAL.R3S</filename> o
          <filename>DATABASE.R3S</filename> (4.6C)).
          Localice <literal>[OSUSERSIDADM_IND_ORA]</literal> o busque la
          &uacute;nica entrada <literal>STATUS=ERROR</literal> y
          edite los siguientes valores:</para>

        <programlisting>HOME=/home/<replaceable>sid</replaceable>adm (estaba vac&iacute;o)
STATUS=OK (ten&iacute;a status ERROR)
        </programlisting>

        <para>Entonces puede reiniciar <command>R3SETUP</command>.</para>
      </sect3>

      <sect3 id="indoraduringr3setup">
        <title>OSUSERDBSID_IND_ORA durante <command>R3SETUP</command></title>

        <para>Posiblemente <command>R3SETUP</command> se queje tambi&eacute;n
          en esta etapa. El error aqu&iacute; es similar al de la fase
          OSUSERSIDADM_IND_ORA. Simplemente edite
          el archivo de formato <command>R3SETUP</command> utilizado
          en ese momento
          (<filename>CENTRDB.R3S</filename> (4.6B) o ya sea
          <filename>CENTRAL.R3S</filename> o
          <filename>DATABASE.R3S</filename> (4.6C)).
          Localice <literal>[OSUSERDBSID_IND_ORA]</literal> o busque la
          &uacute;nica entrada <literal>STATUS=ERROR</literal> y
          edite los siguientes valores en esa secci&oacute;n:</para>

        <programlisting>STATUS=OK</programlisting>

        <para>Entonces reinicie <command>R3SETUP</command>.</para>
      </sect3>

      <sect3 id="oraviewvrffilenotfound">
        <title><errorname>oraview.vrf FILE NOT FOUND</errorname> durante la instalaci&oacute;n de &oracle;</title>

        <para>No ha deseleccionado el <emphasis>visualizador de texto en l&iacute;nea
          de &oracle;</emphasis> antes de iniciar la instalaci&oacute;n. Esto
          est&aacute; marcado para instalar includo aunque esta opci&oacute;n
          no se encuentra disponible para Linux. Quite la selecci&oacute;n
          de este producto dentro del men&uacute; de instalaci&oacute;n de
          <application>&oracle;</application> y reinicie la
          instalaci&oacute;n.</para>
      </sect3>

      <sect3 id="textenvincalid">
        <title><errorname>TEXTENV_INVALID</errorname> durante <command>R3SETUP</command>, o inicio de RFC o SAPgui</title>

        <para>Si este error es encontrado, falta el local
          correcto. La nota 0171356 de &sap; lista los RPMs que
          necesitan instalarse (ej. <filename>saplocales-1.0-3</filename>,
          <filename>saposcheck-1.0-1</filename> para RedHat 6.1).
          En caso de que ignore todos los errores relacionados y
          configure los <literal>STATUS</literal> correspondientes
          de <literal>ERROR</literal> a <literal>OK</literal>
          (en <filename>CENTRDB.R3S</filename>) cada vez que
          <command>R3SETUP</command> se queje y simplemente reinicie
          <command>R3SETUP</command>, el sistema <application>&sap;</application>
          no ser&aacute; configurado apropiadamente y no podr&aacute;
          ser capaz de conectarse al sistema con <application>SAPgui</application>,
          incluso aunque el sistema pueda ser iniciado. Tratar de
          conectar con el antiguo <application>SAPgui</application>
          de Linux da los siguientes mensajes:</para>

        <programlisting>Sat May 5 14:23:14 2001
*** ERROR => no valid userarea given [trgmsgo. 0401]
Sat May 5 14:23:22 2001
*** ERROR => ERROR NR 24 occured [trgmsgi. 0410]
*** ERROR => Error when generating text environment. [trgmsgi. 0435]
*** ERROR => function failed [trgmsgi. 0447]
*** ERROR => no socket operation allowed [trxio.c 3363]
Speicherzugriffsfehler</programlisting>

        <para>Este comportamiento se debe a que <application>&sap.r3;</application>
          es incapaz de asignar correctamente una local y tampoco
          puede configurarse a si mismo correctamente (entradas
          faltantes en algunas tablas de la base de datos).
          Para ser capaz de conectar a <application>&sap;</application>,
          agregue las siguientes entradas al archivo
          <filename>DEFAULT.PFL</filename> (vea la nota 0043288):</para>
          
	<programlisting>abap/set_etct_env_at_new_mode = 0
install/collate/active = 0
rscp/TCP0B = TCP0B</programlisting>

        <para>Reinicie el sistema <application>&sap;</application>. Ahora
          puede conectar al sistema, incluso aunque la configuraci&oacute;n
          de lenguaje de pa&iacute;s espec&iacute;fico puede que no
          funcione como se espera. Despues de corregir las
          configuraciones de pa&iacute;s (y proporcionar las
          locales correctas), estas entradas pueden ser eliminadas
          de <filename>DEFAULT.PFL</filename> y el sistema
          <application>&sap;</application> puede ser reiniciado.</para>

      </sect3>

      <sect3 id="ora-00001">
	<title><errorcode>ORA-00001</errorcode></title>

        <para>Este error solamente ocurre con
          <application>&oracle; 8.1.7</application> en FreeBSD&nbsp;4.5.
          La raz&oacute;n fu&eacute; que la base de datos <application>&oracle;</application>
          no pudo inicializarse apropiadamente y fall&oacute;, dejando
          sem&aacute;foros y memoria compartida en el sistema. El
          siguiente intento de iniciar la base de datos regres&oacute;
          entonces <errorcode>ORA-00001</errorcode>.</para>

        <para>Encu&eacute;ntrelos con <command>ipcs -a</command> y elim&iacute;nelos
          con <command>ipcrm</command>.</para>
      </sect3>

      <sect3 id="ora-00445pmon">
	<title><errorcode>ORA-00445</errorcode> (Proceso en segundo plano PMON no inici&oacute;)</title>

        <para>Este error ocurri&oacute; con <application>&oracle; 8.1.7</application>.
          Este error es reportado si la base de datos es iniciada
          con el script usual <command>startsap</command>
          (por ejemplo <command>startsap_majestix_00</command>)
          como usuario <username>prdadm</username>.</para>

        <para>Una posible soluci&oacute;n es iniciar la base de
          datos como el usuario <username>oraprd</username> en
          lugar de hacerlo con <command>svrmgrl</command>:</para>

	<screen>&prompt.user; <userinput>svrmgrl</userinput>
SVRMGR&gt; <userinput>connect internal;</userinput>
SVRMGR&gt; <userinput>startup</userinput>;
SVRMGR&gt; <userinput>exit</userinput></screen>

      </sect3>

      <sect3 id="ora-12546">
        <title><errorcode>ORA-12546</errorcode> (Iniciar escucha con los permisos correctos)</title>

        <para>Inicie el escucha de <application>&oracle;</application> como
          usuario <username>oraids</username> con el siguiente comando:</para>

        <screen>&prompt.root; <userinput>umask 0; lsnrctl start</userinput></screen>

        <para>De no ser as&iacute; puede obtener <errorcode>ORA-12546</errorcode>
          ya que los sockets no tendr&aacute;n los permisos correctos.
          Vea la nota 0072984 de &sap;.</para>
      </sect3>

      <sect3 id="ora-27102">
	<title><errorcode>ORA-27102</errorcode> (Memoria agotada)</title>

        <para>Este error ocurre al tratar de usar valores mayores
          a 1&nbsp;GB (1024x1024x1024) para <literal>MAXDSIZ</literal>
          y <literal>DFLDSIZ</literal>. Adicionalmente, obtenemos
          <errorname>Linux Error 12: Cannot allocate memory</errorname>.</para>
      </sect3>

      <sect3 id="dipgntabindind">
        <title>[DIPGNTAB_IND_IND] durante <command>R3SETUP</command></title>

        <para>En general, vea la nota 0130581 de &sap; (el paso
          <literal>DIPGNTAB</literal> de <command>R3SETUP</command> finaliza).
          Durante la instalaci&oacute;n espec&iacute;fica IDES,
          por alguna raz&oacute;n el proceso de instalaci&oacute;n no
          estaba usando el nombre de sistema <application>&sap;</application>
          <quote>IDS</quote> correcto, sino la cadena vac&iacute;a <literal>""</literal>
          en su lugar. Esto provoca algunos errores menores
          con el acceso de directorios, ya que las rutas son
          generadas dinamicamente utilizando <replaceable>SID</replaceable>
          (en este caso IDS). As&iacute; que en lugar de accesar:</para>

        <programlisting>/usr/sap/IDS/SYS/...
/usr/sap/IDS/DVMGS00</programlisting>

        <para>las siguientes rutas fueron utilizadas:</para>

        <programlisting>/usr/sap//SYS/...
/usr/sap/D00</programlisting>

        <para>Para continuar con la instalaci&oacute;n, creamos un
          enlace y un directorio adicional:</para>

        <screen>&prompt.root; <userinput>pwd</userinput>
/compat/linux/usr/sap
&prompt.root; <userinput>ls -l</userinput>
total 4
drwxr-xr-x 3  idsadm sapsys 512 May 5 11:20 D00
drwxr-x--x 5  idsadm sapsys 512 May 5 11:35 IDS
lrwxr-xr-x 1  root   sapsys 7 May 5 11:35 SYS -> IDS/SYS
drwxrwxr-x 2  idsadm sapsys 512 May 5 13:00 tmp
drwxrwxr-x 11 idsadm sapsys 512 May 4 14:20 trans</screen>
   
        <para>Tambi&eacute;n encontramos que las notas de &sap;
          (0029227 y 0008401) describ&iacute;an este comportamiento.
           No encontramos ninguno de estos problemas con la
           instalaci&oacute;n de <application>&sap; 4.6C</application>.</para> 
      </sect3>

      <sect3 id="rfcrswboiniindind">
        <title>[RFCRSWBOINI_IND_IND] durante <command>R3SETUP</command></title>

        <para>Durante la instalaci&oacute;n de <application>&sap; 4.6C</application>,
          este error fu&eacute; el resultado de otro error que
          ocurri&oacute; antes durante la instalaci&oacute;n. En
          este caso, tiene que buscar en los archivos de log
          correspondientes y corregir el problema real.</para>

        <para>Si despues de buscar en los archivos de log este
          error resulta ser el correcto (revise las notas de &sap;),
          puede poner el <literal>STATUS</literal> del paso ofensivo de
          <literal>ERROR</literal> a <literal>OK</literal>
          (archivo <filename>CENTRDB.R3S</filename>) y reiniciar
          <command>R3SETUP</command>. Despues de la instalaci&oacute;n,
          tiene que ejecutar el reporte <literal>RSWBOINS</literal>
          de la transacci&oacute;n SE38. Vea la nota 0162266 de &sap;
          para informaci&oacute;n adicional acerca de la fase
          <literal>RFCRSWBOINI</literal> y 
	  <literal>RFCRADDBDIF</literal>.</para>
      </sect3>

      <sect3 id="rfcraddbdifindind">
        <title>[RFCRADDBDIF_IND_IND] durante <command>R3SETUP</command></title>

        <para>Aqu&iacute; aplican las mismas restricciones: aseg&uacute;rese
          revisando los archivos de log, que este error no sea causado
          por alg&uacute;n problema previo.</para>

        <para>Si puede confirmar que la nota 0162266 de &sap; aplica,
          solo ponga el <literal>STATUS</literal> del paso ofensivo de
          <literal>ERROR</literal> a <literal>OK</literal>
          (archivo <filename>CENTRDB.R3S</filename>) y reinicie <command>R3SETUP</command>.
          Despues de la instalaci&oacute;n, tiene que ejecutar el reporte
          <literal>RADDBDIF</literal> desde la transacci&oacute;n SE38.</para>
      </sect3>

      <sect3 id="sigactionsig31">
        <title><errorcode>sigaction sig31: File size limit exceeded</errorcode></title>

        <para>Este error ocurri&oacute; durante el inicio del proceso <application>&sap;</application>
          <emphasis>disp+work</emphasis>. Si inicia <application>&sap;</application>
          con el script <command>startsap</command>, entonces se inician los
          subprocesos que se desligan y hacen el trabajo sucio de iniciar
          todos los otros procesos <application>&sap;</application>. Como
          resultado, el mismo script no notar&aacute; si algo va mal.</para>

        <para>Para revisar si los procesos <application>&sap;</application>
          iniciaron correctamente, de un vistazo al estatus de los procesos con
          <command>ps ax | grep <replaceable>SID</replaceable></command>, que
          le proporcionar&aacute; una lista de todos los procesos de
          <application>&oracle;</application> y de <application>&sap;</application>.
          Si parece que algunos procesos no est&aacute;n o si no puede conectar
          al sistema <application>&sap;</application>, revise los archivos
          de log correspondientes los cuales pueden ser encontrados en
          <filename>/usr/sap/<replaceable>SID</replaceable>/DVEBMGS<replaceable>nr</replaceable>/work/</filename>.
          Los archivos a revisar son <filename>dev_ms</filename> y          
	  <filename>dev_disp</filename>.</para>

        <para>La se&ntilde;al 31 sucede si la cantidad de memoria compartida
          utilizada por <application>&oracle;</application> y <application>&sap;</application>
          excede la definida dentro del archivo de configuraci&oacute;n del
          kernel y puede resolverse usando un valor m&aacute;s grande:</para>

        <programlisting># larger value for 46C production systems:
options SHMMAXPGS=393216
# smaller value sufficient for 46B:
#options SHMMAXPGS=262144</programlisting>
	  
      </sect3>

      <sect3 id="saposcolfails">
        <title>Inicio de <command>saposcol</command> fallido</title>

        <para>Existen algunos problemas con el programa <command>saposcol</command> (version 4.6D).
          El sistema <application>&sap;</application> est&aacute; usando
          <command>saposcol</command> para recoger datos acerca del
          rendimiento del sistema. Este programa no es necesario para
          usar el sistema <application>&sap;</application>, as&iacute;
          que este problema puede ser considerado un problema menor.
          La versi&oacute;n m&aacute;s antigua (4.6B) funciona, pero
          no recoge todos los datos (muchas llamdas regresar&aacute;n
          solamente 0, por ejemplo el uso del CPU).</para>
      </sect3>
    </sect2>
  </sect1>

  <sect1 id="linuxemu-advanced">
    <title>T&oacute;picos avanzados</title>

    <para>Si tiene curiosidad de como funciona la compatibilidad de
      binarios Linux, esta es la secci&oacute;n que usted quiere leer.
      La mayor&iacute;a de lo que sigue est&aacute; fuertemente basado
      en un correo escrito a &a.chat; por Terry Lambert
      <email>tlambert@primenet.com</email> (ID de mensaje:
      <literal>&lt;199906020108.SAA07001@usr09.primenet.com&gt;</literal>).</para>

    <sect2>
      <title>¿Como funciona?</title>
      <indexterm><primary>cargador de clases de ejecuci&oacute;n</primary></indexterm>

      <para>FreeBSD tiene un abstracci&oacute;n llamada un <quote>cargador
        de clases de ejecuci&oacute;n</quote>. Esto es un pedazo dentro
        del sistema de llamadas &man.execve.2;.</para>

      <para>Lo que sucede es que FreeBSD tiene una lista de cargadores,
        en lugar de un solo cargador con un respaldo a el cargador
        <literal>#!</literal> para correr cualquier int&eacute;rprete de
        shell o script de shell.</para>

      <para>Historicamente, el &uacute;nico cargador en la plataforma
        &unix; examinaba el n&uacute;mero m&aacute;gico (generalmente
        los primeros 4 o 8 bytes del archivo) para ver si era un binario
        conocido para el sistema, y si lo era, invocaba el cargador
        binario.</para>

      <para>Si no era un tipo de binario para el sistema, la llamada
        &man.execve.2; regresaba un fallo, y el shell trataba de
        iniciar la ejecuci&oacute;n como comandos de shell.</para>

      <para>Se asum&iacute;a por defecto un <quote>cualquiera que sea
        el shell actual</quote>.</para>

      <para>Despues, se hizo un hack para que &man.sh.1; examinara los
        primeros dos caracteres, y si eran <literal>:\n</literal>,
        entonces invocaba al shell &man.csh.1; (creemos que el primero
        en hacer el hack fu&eacute; SCO).</para> 

      <para>Lo que hace FreeBSD Ahora es ir a trav&eacute;s de una lista
        de cargadores, con un cargador <literal>#!</literal> gen&eacute;rico
        que sabe de int&eacute;rpretes ya que los caracteres que le siguen
        al espacio en blanco siguiente que le sigue al &uacute;ltimo,
        seguido por un repliegue a
	<filename>/bin/sh</filename>.</para>
      <indexterm><primary>ELF</primary></indexterm>

      <para>Para el soporte de la ABI Linux, FreeBSD ve el n&uacute;mero
        m&aacute;gico como un binario ELF (no hace distinci&oacute;n
        entre FreeBSD, &solaris;, Linux, o cualquier otro sistema
        operativo que tenga un tipo de imagen ELF, hasta este momento).</para>
      <indexterm><primary>Solaris</primary></indexterm>

      <para>El cargador ELF busca por una <emphasis>marca</emphasis>
        especializada, la cual es una secci&oacute;n de comentarios
        en la imagen ELF, y que no est&aacute; presente en los
        binarios ELF de SVR4/&solaris;.</para>

      <para>Para que los binarios Linux funcionen, deben ser
        <emphasis>marcados</emphasis> de tipo <literal>Linux</literal>
        desde &man.brandelf.1;:</para>

      <screen>&prompt.root; <userinput>brandelf -t Linux file</userinput></screen>

      <para>Cuando se ha hecho esto, el cargador ELF ver&aacute;
        la marca <literal>Linux</literal> en el archivo.</para>
      <indexterm>
        <primary>ELF</primary>
	<secondary>marcaje</secondary>
      </indexterm>

      <para>Cuando el cargador ELF ve la marca <literal>Linux</literal>,
        el cargador reemplaza un apuntador en la estructura <literal>proc</literal>.
        Todas las llamadas del sistema son indexadas a trav&eacute;s
        de este apuntador (en un sistema tradicional &unix;, esto
        ser&iacute;a la matriz de estructura <literal>sysent[]</literal>,
        conteniendo las llamadas del sistema). Adicionalmente, el
        proceso es abanderado para un manejo especial del vector de
        trampas para la se&ntilde;al del c&oacute;digo trampol&iacute;n,
        y otras correciones varias (menores) que son manejadas por
        el m&oacute;dulo Linux del kernel.</para>

      <para>El vector de llamadas de sistema Linux contiene, entre otras
        cosas, una lista de entradas <literal>sysent[]</literal> cuyas
        direcciones residen en el m&oacute;dulo del kernel.</para>

      <para>Cuando una llamada del sistema es invocada por el binario
        Linux, el c&oacute;digo de trampa deferenc&iacute;a la funci&oacute;n
        de llamada al sistema fuera de la estructura <literal>proc</literal>,
        y toma el punto de entrada de llamada al sistema de Linux, no
        el de FreeBSD.</para>

      <para>Adem&aacute;s, el modo Linux <emphasis>reenruta</emphasis>
        dinamicamente b&uacute;squedas; esto es, en efecto, lo que
        la opci&oacute;n <option>union</option> hace en los montajes
        de sistemas de archivos
        (¡<emphasis>no</emphasis> el tipo de sistema de archivo
        <literal>unionfs</literal>!). Primero, un intento es realizado
        de buscar el archivo en el directorio
        <filename>/compat/linux/<replaceable>ruta-original</replaceable></filename>,
        <emphasis>entonces</emphasis> solamente si eso falla, la
        b&uacute;squeda se realiza en el directorio
        <filename>/<replaceable>ruta-original</replaceable></filename>.
        Esto asegura que los binarios que requieren otros binarios
        puedan ejecutarse (ej. todos los binarios de la cadena de
        utilidades Linux pueden correr bajo soporte de ABI Linux).
        Tambi&eacute;n significa que los binarios Linux pueden cargar
        y ejecutar binarios FreeBSD, si no est&aacute;n presentes los
        binarios Linux correspondientes, y que puede colocar un  &man.uname.1;
        en el &aacute;rbol de directorios <filename>/compat/linux</filename>
        para asegurar que los binarios Linux no puedan saber que no
        est&aacute;n corriendo en Linux.</para>

      <para>En efecto, existe un kernel Linux en el kernel de FreeBSD;
        las varias funciones internas que implementan todos los
        servicios que brindados por el kernel son id&eacute;nticas tanto
        en la tabla de entradas de llamadas al sistema FreeBSD como en
        la tabla de entradas de llamadas al sistema Linux: operaciones
        del sistema de archivos, operaciones de memoria virtual, entrega
        de se&ntilde;ales, System V IPC, etc&hellip; La &uacute;nica
        diferencia es que los binarios FreeBSD obtienen las funciones
        <emphasis>pegadas</emphasis>, y los binarios Linux obtienen
        las funciones <emphasis>pegadas</emphasis> Linux (sistemas
        operativos mas antiguos ten&iacute;an su propias funciones
        <emphasis>pegadas</emphasis>: direcciones de funciones en una
        matriz de estructuras <literal>sysent[]</literal> global, en lugar
        de direcciones de funciones deferenciadas de un apuntador
        inicializado dinamicamente en la estructura <literal>proc</literal>
        del proceso que realizaba la llamada).</para> 

      <para>¿Cual es la ABI nativa de FreeBSD? No importa. Basicamente
        la &uacute;nica diferencia es que (actualmente; esto puede
        ser facilmente cambiado un una liberaci&oacute;n futura, y
        probablemente ser&aacute; despues de esta) las funciones
        FreeBSD <emphasis>pegadas</emphasis> son enlazadas
        estaticamente en el kernel, y las funciones Linux <emphasis>pegadas</emphasis>
        pueden ser enlazadas estaticamente, o pueden ser accesadas
        por medio de un m&oacute;dulo del kernel.</para>

      <para>Claro, ¿pero esto es realmente emulaci&oacute;n? No.
        Es una implementaci&oacute;n de la ABI, no una emulaci&oacute;n.
        No existe un emulador (o simulador, para cortar la siguiente
        pegunta) involucrado.</para>

      <para>¿Entonces por qu&eacute; es llamado a veces <quote>emulaci&oacute;n
        Linux</quote>? ¡Para hacer que sea m&aacute;s dif&iacute;cil
        vender FreeBSD! De verdad, se debe a que la implementaci&oacute;n
        hist&oacute;rica fu&eacute; hecha en una &eacute;poca en la que
        no exist&iacute;a realmente otra palabra que esa para describir
        lo que estaba pasando; decir que FreeBSD corr&iacute;a binarios
        Linux no era cierto, si no se compilaba el c&oacute;digo o
        cargaba un m&oacute;dulo, y necesitaba haber una palabra que
        describiera lo que estaba siendo cargado&mdash;por eso
        <quote>el emulador Linux</quote>.</para>
    </sect2>
  </sect1>
</chapter>

<!-- 
     Local Variables:
     mode: sgml
     sgml-declaration: "../chapter.decl"
     sgml-indent-data: t
     sgml-omittag: nil
     sgml-always-quote-attributes: t
     sgml-parent-document: ("../book.sgml" "part" "chapter")
     End:
-->


