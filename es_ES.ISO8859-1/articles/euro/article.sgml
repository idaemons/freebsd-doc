<?xml version="1.0" encoding="ISO8859-1" standalone="no"?>
<!DOCTYPE article PUBLIC "-//FreeBSD//DTD DocBook XML V4.2-Based Extension//EN"
	"../../../share/sgml/freebsd42.dtd" [
<!ENTITY % entities PUBLIC "-//FreeBSD//ENTITIES DocBook FreeBSD Entity Set//ES" "../../share/sgml/entities.ent">
%entities;
]>

<!-- The FreeBSD Spanish Documentation Project
     $FreeBSD$
-->

<article lang="es">
  <articleinfo>
    <title>El símbolo del Euro en
      <systemitem class="osname">FreeBSD</systemitem></title>

    <authorgroup>
      <author>
	<firstname>Aaron</firstname>

	<surname>Kaplan</surname>

	<affiliation>
	  <address>
	    <email>aaron@lo-res.org</email>
	  </address>
	</affiliation>
      </author>
    </authorgroup>

    <copyright>
      <year>2002</year>
      <year>2003</year>
      <holder>The FreeBSD Documentation Project</holder>
    </copyright>

    <pubdate>$FreeBSD$</pubdate>

    <releaseinfo>$FreeBSD$</releaseinfo>

<!--
    <legalnotice id="trademarks" role="trademarks">
      &tm-attrib.freebsd;
      &tm-attrib.general;
    </legalnotice>
-->

    <abstract>
      <para>Este documento intentará ayudarle a empezar
	a usar el nuevo símbolo del <keycap>Euro</keycap>
	en su nuevo teclado, adquirido a principios del 2002
	debido al cambio de la nueva moneda común.
	Primero trataremos los aspectos más importantes,
	como mostrar correctamente el símbolo en la consola.
	Las secciones posteriores tratarán sobre la
	configuración de programas en concreto,  como
	<application>X11</application>.
      </para>

      <para>Se recibió ayuda muy provechosa de Oliver Fromme,
	Tom Rhodes y de muchos otros. ¡Gracias! ¡Sin su
	ayuda, este artículo no habría sido posible!
      </para>
      &trans.es.jcamou;
    </abstract>
  </articleinfo>

  <sect1>
    <title>El Euro hecho fácil</title>

    <para>Si ya se siente cómodo con la
<!--
      <ulink url="&url.books.handbook;/l10n.html">localización</ulink>
-->
      <ulink url="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/l10n.html">localización</ulink>
      descrita en el Handbook de <systemitem class="osname">FreeBSD
      </systemitem> puede que sólo esté interesado en los
      siguientes pasos,  que pueden ayudarle a empezar
      rápidamente:</para>

    <variablelist>
      <varlistentry>
	<term>ISO8859-15</term>

	<listitem>
	  <para>Ésta es una ligera modificación del
	  mapa de caracteres ISO8859-1.
	  Incluye ademá el símbolo del Euro, usado por
	  las variables <envar>LANG</envar> y <envar>LC_CTYPE</envar>.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><filename>iso15-8x16.fnt</filename></term>

	<listitem>
	  <para>La fuente &man.vidcontrol.1; para consola</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><filename>/usr/share/syscons/keymaps/*.iso.kbd</filename></term>

	<listitem>
	  <para>Un mapa de caracteres apropiado depende de su idioma.
	    Defina su entrada de <literal>keymap</literal> en <filename>
	    rc.conf</filename> usando alguno de éstos.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><envar>LC_CTYPE</envar></term>

	<listitem>
	  <para>Usado para especificar el tipo correcto de caracteres
	    correcto.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><literal>XkbLayout "<replaceable>idioma</replaceable>(euro)"
	  </literal></term>

	<listitem>
	  <para>Opción de configuración de
	    <application>XFree86</application>.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><filename>/usr/X11R6/lib/X11/fonts/*/fonts.alias</filename></term>
	<listitem>
	  <para>Asegúrese de adaptar sus fuentes X11 a
	    <literal>-*-..-*-iso8859-15</literal></para>
	</listitem>
      </varlistentry>
    </variablelist>
  </sect1>

  <sect1>
    <title>Observación general</title>

    <para>En las siguientes secciones a menudo nos referiremos a
      <emphasis>ISO8859-15</emphasis>.  Esta es la notación
      estándar a partir de <systemitem class="osname">FreeBSD
      </systemitem> 4.5.  En versiones anteriores la notación
      estándar era <emphasis>ISO_8859-15</emphasis> o
      <emphasis>DIS_8859-15</emphasis>.
    </para>

    <para>Si está usando una versión anterior de
      <systemitem class="osname"> FreeBSD</systemitem> asegúrese
      de revisar <filename>/usr/share/locale/ </filename> para averiguar
      la notación que está usando.</para>
  </sect1>

  <sect1>
    <title>La consola</title>

    <sect2>
      <title>Cómo establecer la fuente de la consola</title>

      <para>Dependiendo de la resolución y tamaño de su consola
	necesesitará una de las siguientes líneas en
	<filename> rc.conf</filename>:</para>

     <programlisting>font8x16="iso15-8x16.fnt" # from /usr/share/syscons/fonts/*
font8x14="iso15-8x14.fnt"
font8x8="iso15-8x8.fnt"</programlisting>

      <para>Esto seleccionará ISO8859-15, también
	conocida como la fuente Latin-9.  ISO8859-15 es una variación
	de ISO8859-1.  Es posible encontrar la diferencia entre las dos al
	ver el símbolo del Euro:  su valor decimal es 164.  En
	ISO8859-1 notará un círculo con cuatro pequeños
	brazos en las esquinas.  A menudo recibe el nombre de
	<quote>símbolo de la moneda universal</quote>.  En ISO8859-15
	en lugar del pequeño círculo se tiene el símbolo
	del Euro.  Aparte de eso, las fuentes son idénticas.</para>

      <warning>
	<para>Cuando se redacta este artículo  la única
	  fuente que es posible usar es, al parecer,
	  <literal>iso15-8x16.fnt</literal>.
	  Las otras aparentemente sólo muestran ISO8859-1 aunque el
	  nombre sugiera lo contrario.</para>
      </warning>

      <note>
	<para>Al especificar esta fuente algunos programas de consola
	  podrán ver muy alterado su comportamiento.  Esto es debido a
	  que se asume que  se está usando una fuente o caracter
	  diferente, por ejemplo ANSI 850.  Un ejemplo notable de ello es
	  <application>sysinstall</application>.  En muchas ocasiones esto
	  carece de mayor importancia.</para>
      </note>

      <para>El siguiente paso es reiniciar el sistema para que los cambios
	tengan efecto o hacer los pasos que hubiese hecho el sistema al ser
	reiniciado (manualmente):</para>

      <screen>&prompt.user; <userinput>vidcontrol -f <replaceable>iso15-8x16.fnt</replaceable></userinput></screen>

      <para>Para asegurarse de que la fuente haya sido correctamente
	seleccionada ejecute el siguiente <quote>script</quote> de
	<command><anchor id="awk-test"/>awk</command>:</para>

      <programlisting>#!/usr/bin/awk -f
BEGIN {
	for(i=160;i&lt;180;i++)
		printf~%3d %c\n",i,i
}</programlisting>

      <para>El resultado debe mostrar el símbolo del Euro en
	la posición 164.</para>
    </sect2>

    <sect2>
      <title>Configuración del teclado para el símbolo del
	Euro</title>

      <para>La mayoría de los teclados ya están configurados
	correctamente.  Por ejemplo: si se tiene un teclado en alemán
	y sus teclas Umlaut funcionan puede saltarse esta sección
	ya que su teclado ya tiene la combinación necesaria (e.g.:
	<keycombo action="simul"><keycap>Alt Gr</keycap><keycap>e</keycap>
	</keycombo>) al valor decimal 164.  Si se experimentan
	problemas la mejor manera de revisarlo es echándole un ojo
	a <filename>/usr/share/syscons/keymaps/*.kbd</filename>.  El formato
	de los ficheros de mapeo de teclas se describe en
	&man.keyboard.4;.  &man.kbdcontrol.1; puede usarse para cargar
	un mapa en particular.</para>
      <para>Una vez seleccionado el mapa de teclas correcto debe
	añadirse a <filename>/etc/rc.conf</filename> con la
	línea:</para>

      <programlisting>keymap="<replaceable>german.iso</replaceable>" # u otro mapa</programlisting>

      <para>Como ya se mencionó este paso probablemente ya haya
	sido realizado por usted durante la instalación
	(con la ayuda de <application>sysinstall</application>).  Si no
	fue así puede reiniciar o cargar el nuevo mapa de teclado
	mediante &man.kbdcontrol.1;.</para>


      <para>Para verificar el mapeo de las teclas es posible cambiar de
	consola y cuando pida nombre de usuario, <emphasis>en lugar de
	teclearlo</emphasis>, intente teclear el <keycap>Euro</keycap>.
	De no funcionar esto puede mandar un informe de error mediante
	&man.send-pr.1; o asegurarse de que haya escogido el mapa
	correcto para el teclado.</para>
      <note>
	<para>En este momento la tecla del Euro no funcionará en
	  <application>bash </application> o
	  <application>tcsh</application>.</para>
      </note>
    </sect2>

    <sect2>
      <title>Modificar las variables de ambiente</title>

      <para>Las shells (<application>bash</application>,
	<application>tcsh</application>)
	recurren a la biblioteca &man.readline.3;, que respeta la
	variable <envar>LC_CTYPE</envar>.  <envar>LC_CTYPE</envar> debe
	ser establecida antes de que la shell se ejecute.
	Afortunadamente es suficiente añadir la siguiente
	línea:</para>

      <programlisting>exoprt LC_CTYPE=<replaceable>de_DE</replaceable>.ISO8859-15</programlisting>

      <para>a su <filename>.bash_profile</filename>
	(<application>bash</application>), o:</para>

      <programlisting>setenv LC_CTYPE <replaceable>de_DE</replaceable>.ISO8859-15</programlisting>

      <para>a su <filename>.login</filename>
	(<application>tcsh</application>).
	Por supuesto, <replaceable>de_DE</replaceable> debe ser remplazado
	con su idioma.  A continuación finalice la sesión,
	inicie sesión nuevamente y verifique si su símbolo
	del Euro funciona.  A partir de ahora la gran
	mayoríia de los programas de consola deben responder al Euro.
	Es probable que sean necesarios algunos pasos adicionales de
	configuración para programas especiales como
	<application>pine</application>.
      </para>

      <note>
	<para>Una alternativa para modificar <filename>.login</filename> y
	  <filename>.bash_profile</filename> es establecer las variables
	  a partir del mecanismo de &man.login.conf.5;.  Este método
	  tiene la ventaja de asignar tipos de <quote>login</quote> a
	  ciertos usuarios (por ejemplo usuarios que desean tener su entorno
	  en francés, italiano, etc) mediante modificaciones de
	  configuración <emphasis>en un solo lugar</emphasis>.</para>
      </note>
    </sect2>
  </sect1>

  <sect1>
    <title>Modificar X11</title>

    <para>Modifique <filename>/etc/XF86Config</filename> de la siguiente
      manera:</para>

    <programlisting>Option "XkbLayout" "<replaceable>de</replaceable>(euro)"</programlisting>

    <para>Recuerde que tendrá que reemplazar
      <replaceable>de</replaceable> con el código de idioma que haya
      elegido.  Su teclado debería estar configurado correctamente.
      De igual modo que en la sección de consola, debe seleccionarse la
      fuente correcta.  En <application>KDE</application> vaya
      a su <application>KDE control center</application> -&gt;
      Personalization -&gt; Country &amp; Language -&gt; Charset
      y cámbielo a <literal>ISO8859-15</literal>.  En
      <application>kmail</application> y otros programas tendrá que
      proceder de forma muy similar.</para>

    <para>Otra buena idea es modificar su ficheros en <filename>
      fonts.alias</filename>.  Existe un caso especial: la fuente
      <quote><literal>fixed</literal></quote> debe cambiarse al mapa de
      caracteres correcto:  El
      <filename>/usr/X11R6/lib/x11/fonts/misc/fonts.alias</filename>
      del autor; este es:</para>

     <programlisting>! $Xorg: fonts.alias,v 1.3 2000/08/21 16:42:31 coskrey Exp $
fixed   -misc-fixed-medium-r-semicondensed--13-120-75-75-c-60-iso8859-15
ariable -*-helvetica-bold-r-normal-*-*-120-*-*-*-*-iso8859-15
(...)</programlisting>

    <para>Así como en las secciones de consola, ciertos programas
      aún tienen las fuentes ISO8859-1 configuradas en su respectiva
      base de datos de &man.xrdb.1;.  Un ejemplo de esto es
      <application>xterm</application>.  Como regla general es suficiente
      con cambiar la configuración correspondiente en
      <filename>/usr/X11R6/lib/X11/app-defaults</filename> y añadir la
      fuente correcta.  Veamos un ejemplo con
      <application>xterm</application>.</para>

  <screen>&prompt.root; cd /usr/X11R6/lib/X11/app-defaults/
&prompt.root; vi XTerm</screen>

    <para>Añada la siguiente línea al principio del
       fichero:</para>

    <programlisting>*font:     -misc-fixed-medium-r-normal-*-*-120-*-*-c-*-iso8859-15</programlisting>

    <para>Para finalizar  reinicie X y asegúrese de que las fuentes
      puedan mostrarse al ejecutar el
      <link linkend="awk-test">script de awk</link>
      anterior.  La mayoría de los programas deben respetar el mapa de
      caracteres y las configuraciones de fuente.</para>
  </sect1>

  <sect1>
    <title>Problemas</title>

    <para>Por supuesto que el autor agradecería que le enviara sus
      comentarios.
      Además, al menos me gustaría saber si tiene usted
      solución para alguno de los siguientes problemas:</para>
    <itemizedlist>
      <listitem>
	<para>Alguna manera alternativa de configurar
	  <application>XFree86</application>:
	  <filename role="package">x11/xkeycaps</filename></para>
      </listitem>

      <listitem>
	<para>Configuraciones para <application>GNOME</application></para>
      </listitem>

      <listitem>
	<para>Configuraciones para <application>KDE</application></para>
      </listitem>

      <listitem>
	<para>Configuraciones para <application>XFCE</application></para>
      </listitem>

      <listitem>
	<para>Configuraciones para <application>(X)Emacs</application></para>
      </listitem>

      <listitem>
	<para>Configuración para UTF-8</para>
      </listitem>

      <listitem>
	<para>Una configuración que incluya
	  <application>libiconv</application> como una manera
	  efectiva de convertir entre ISO8859-15 y UTF-{8, 16} dentro
	  de los programas</para>
      </listitem>
    </itemizedlist>
  </sect1>
</article>
