<!--
     The FreeBSD Italian Documentation Project

     $FreeBSD$
     Original revision: 1.184
-->

<chapter id="ports">
  <title>Installazione delle Applicazioni: Port e Package</title>

  <sect1 id="ports-synopsis">
    <title>Sinossi</title>

    <indexterm><primary>port</primary></indexterm>
    <indexterm><primary>package</primary></indexterm>

    <para>FreeBSD &egrave; distribuito con una ricca collezione di strumenti di
      sistema come parte base del sistema.  Comunque, c'&egrave; molto che si
      pu&ograve; fare prima che sia necessario installare un'applicazione
      aggiuntiva di terze parti.  FreeBSD fornisce due tecnologie complementari
      per installare software di terze parti sul tuo sistema: la FreeBSD Port
      Collection, ed i packages contenenti i binari del software.  Puoi usare
      entrambi questi sistemi per installare l'ultima versione della tua
      applicazione preferita dal CDROM o direttamente dalla rete.</para>

    <para>Dopo aver letto questo capitolo, saprai:</para>

    <itemizedlist>
      <listitem>
        <para>Come installare i package contenenti i binari delle applicazioni
          di terze parti.</para>
      </listitem>

      <listitem>
        <para>Come compilare le applicazioni di terze parti dalla collezione dei
          port.</para>
      </listitem>

      <listitem>
        <para>Come rimuovere i package o i port installati in precedenza.</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 id="ports-overview">
    <title>Uno Sguardo all'Installazione del Software</title>

    <para>Se hai gi&agrave; usato un sistema Unix prima d'ora saprai che la
      procedura tipica per installare software di terze parti &egrave; simile a
      questa:</para>

    <procedure>
      <step>
        <para>Scaricare il software, che potrebbe essere distribuito sotto forma
          di codice sorgente, o come binario.</para>
      </step>

      <step>
        <para>Scompattare il software dal suo formato di distribuzione
          (tipicamente un tarball compresso con &man.compress.1; o con
          &man.gzip.1;).</para>
      </step>

      <step>
        <para>Individuare la documentazione (probabilmente un file
          <filename>INSTALL</filename> o un file <filename>README</filename>,
          o qualche file nella sottodirectory <filename>doc/</filename>) e
          leggere come installare il software.</para>
      </step>

      <step>
        <para>Se il software &egrave; stato distribuito sotto forma di sorgente,
          compilarlo.  Questa fase pu&ograve; coinvolgere la modifica di un
          <filename>Makefile</filename>, oppure l'esecuzione di uno script
          <command>configure</command>, e qualche altro lavoro.</para>
      </step>

      <step>
        <para>Installare e testare il software.</para>
      </step>
    </procedure>

    <para>E questo se tutto va bene.  Se stai installando del software di cui
      non &egrave; stato deliberatamente effettuato il porting in FreeBSD
      potresti perfino dover modificare il codice per farlo funzionare
      correttamente.</para>

    <para>Se vuoi, puoi continuare ad installare il software su FreeBSD nel modo
      <quote>tradizionale</quote>.  Comunque, FreeBSD fornisce due tecnologie
      che possono farti risparmiare molti sforzi: i package e i port.  Nel
      momento in cui scrivo, sono disponibili pi&ugrave; di &os.numports;
      applicazioni di terze parti tramite questi due metodi.</para>

    <para>Per ogni applicazione data, il package di FreeBSD per quella
      applicazione consiste in un singolo file che devi scaricare.  Il package
      contiene una copia pre-compilata di tutti i comandi dell'applicazione,
      cos&igrave; come i file di configurazione e di documentazione.  Una volta
      scaricato il package questo pu&ograve; essere manipolato con i comandi
      di gestione dei package di FreeBSD, come &man.pkg.add.1;,
      &man.pkg.delete.1;, &man.pkg.info.1;, e cos&igrave; via.</para>

    <para>L'installazione di una nuova applicazione pu&ograve; essere fatta
      con un singolo comando.</para>

    <para>In FreeBSD un port di un'applicazione &egrave; un insieme di file
      predisposti per automatizzare il processo di compilazione
      dell'applicazione partendo dal codice sorgente.</para>

    <para>Ricorda che ci sono molte fasi che normalmente devi eseguire se vuoi
      compilare un programma (scaricare, scompattare, correggere, compilare,
      installare).  I file che costituiscono un port contengono tutte
      le informazioni necessarie per permettere al sistema di fare questo lavoro
      al posto tuo.  Tu esegui una manciata di semplici comandi e il codice
      sorgente dell'applicazione viene automaticamente scaricato, estratto,
      corretto, compilato, e installato.</para>

    <para>Di fatto, il sistema dei port pu&ograve; anche essere usato per
      generare package che possono essere successivamente manipolati
      con <command>pkg_add</command> ed altri comandi di gestione dei package
      che saranno presentati tra poco.</para>

    <para>Sia i package che i port comprendono il meccanismo delle
      <emphasis>dipendenze</emphasis>.  Supponiamo che tu voglia installare
      un'applicazione che dipende da un specifica libreria.  Sia l'applicazione
      che la libreria sono disponibili in FreeBSD come port o come package.  Se
      usi il comando <command>pkg_add</command> o il sistema dei port per
      installare l'applicazione, entrambi noteranno che la libreria non &egrave;
      installata, e automaticamente la installeranno per prima.</para>

    <para>Dato che le due tecnologie sono abbastanza simili, probabilmente
      vorrai sapere perch&eacute; FreeBSD le usa entrambe.  I package e i port
      hanno i loro punti forte, e l'utilizzo dell'uno o dell'altro dipende dalle
      proprie preferenze personali.</para>

    <itemizedlist>
      <title>Benefici dei Package</title>

      <listitem>
        <para>Il tarball compresso di un package &egrave; tipicamente pi&ugrave;
          piccolo del tarball compresso contenente il codice sorgente
          della stessa applicazione.</para>
      </listitem>

      <listitem>
        <para>I package non richiedono alcuna compilazione aggiuntiva.  Per
          grandi applicazioni, come <application>Mozilla</application>,
          <application>KDE</application>, oppure
          <application>GNOME</application> questo pu&ograve; essere importante,
          sopra tutto se usi un sistema lento.</para>
      </listitem>

      <listitem>
        <para>I package non richiedono la conoscenza del processo di
          compilazione del software su FreeBSD.</para>
      </listitem>
    </itemizedlist>

    <itemizedlist>
      <title>Benefici dei Port</title>

      <listitem>
        <para>I package sono normalmente compilati con opzioni conservative,
          poich&eacute; devono poter funzionare su un parco macchine il
          pi&ugrave; ampio possibile.  Con l'installazione dai port, puoi
          aggiustare le opzioni di compilazione per produrre (per esempio) del
          codice che sia specifico per un Pentium III o un processore
          Athlon.</para>
      </listitem>

      <listitem>
        <para>Alcune applicazioni hanno delle opzioni attivabili al tempo di
          compilazione che permettono di modificare il comportamento delle
          applicazioni stesse.  Per esempio, <application>Apache</application>
          pu&ograve; essere configurato con un'ampia variet&agrave; di
          differenti opzioni built-in.  Effettuando la compilazione dal port non
          sei costretto ad accettare le opzioni di default, e puoi settarle tu
          stesso.</para>

        <para>In alcuni casi, ci possono essere pi&ugrave; package per la stessa
          applicazione a seconda dei settaggi ivi contenuti.  Per esempio,
          <application>Ghostscript</application> &egrave; disponibile come
          package <filename>ghostscript</filename> e come package
          <filename>ghostscript-nox11</filename>, a seconda che tu abbia o meno
          installato un server X11.  Questa sorta di adattamento &egrave;
          possibile con i package, ma diviene impossibile nel caso in cui
          un'applicazione ha pi&ugrave; di una o due diverse opzioni che si
          possono dare al tempo di compilazione.</para>
      </listitem>

      <listitem>
        <para>Le condizioni di licenza di alcune distribuzioni di software
          proibiscono la distribuzione dei binari.  Tali software devono essere
          distribuiti come codice sorgente.</para>
      </listitem>

      <listitem>
        <para>Alcune persone non si fidano della distribuzione dei binari.
          Con il codice sorgente, puoi (in teoria) controllare il codice e
          cercare i suoi potenziali problemi.</para>
      </listitem>

      <listitem>
        <para>Se hai delle patch, hai bisogno del sorgente per
          applicarle.</para>
      </listitem>

      <listitem>
        <para>Ad alcune persone piace avere il codice sorgente, in modo tale da
          poterlo leggerlo se sono annoiati, hackerarlo, prenderne in prestito
          delle parti (licenza permettendo, naturalmente), e cos&igrave;
          via.</para>
      </listitem>
    </itemizedlist>

    <para>Per tenersi al corrente sugli aggiornamenti dei port, iscriviti alla
      &a.ports; e alla &a.ports-bugs;.</para>

    <para>Il resto del capitolo spiegher&agrave; come usare i package ed i
      port per installare e gestire il software di terze parti su
      FreeBSD.</para>
  </sect1>

  <sect1 id="ports-finding-applications">
    <title>Ricerca della Propria Applicazione</title>

    <para>Prima di poter installare delle applicazioni devi sapere
      quale applicazione ti serve, e come viene chiamata.</para>

    <para>La lista delle applicazioni disponibili su FreeBSD cresce
      continuamente.  Fortunatamente, ci sono diversi sistemi per trovare
      quello che ti serve:</para>

    <itemizedlist>
      <listitem>
        <para>Il sito web di FreeBSD mantiene all'indirizzo <ulink
            url="../../../../ports/index.html">http://www.FreeBSD.org/ports/</ulink>
          una lista aggiornata in cui puoi cercare tutte le applicazioni
          correntemente disponibili.  I port sono divisi in categorie, e puoi
          sia cercare un'applicazione in base al nome (se lo conosci), sia
          visionare tutte le applicazioni disponibili in una data
          categoria.</para>
      </listitem>

      <indexterm><primary>FreshPort</primary></indexterm>

      <listitem>
        <para>Dan Langille mantiene FreshPort, all'indirizzo <ulink
            url="http://www.FreshPorts.org/">http://www.FreshPorts.org/</ulink>.
          FreshPort segue in tempo reale i cambiamenti delle applicazioni
          nell'albero dei port, permettendoti di <quote>controllare</quote>
          uno o pi&ugrave; port, e dandoti la possibilit&agrave; di essere
          avvisato tramite email quando questi vengono aggiornati.</para>
      </listitem>

      <indexterm><primary>FreshMeat</primary></indexterm>

      <listitem>
        <para>Se non conosci il nome dell'applicazione che desideri, prova ad
          usare un sito come FreshMeat (<ulink
            url="http://www.freshmeat.net/">http://www.freshmeat.net/</ulink>)
          per trovare l'applicazione, quindi controlla sul sito di FreeBSD
          per vedere se &egrave; gi&agrave; stato effettuato il porting.</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 id="packages-using">
    <sect1info>
      <authorgroup>
        <author>
          <firstname>Chern</firstname>

          <surname>Lee</surname>

          <contrib>Contributo di</contrib>
        </author>
      </authorgroup>
    </sect1info>

    <title>Utilizzo del Sistema dei Package</title>

    <sect2>
      <title>Installazione di un Package</title>

      <indexterm>
        <primary>package</primary>
        <secondary>installazione</secondary>
      </indexterm>

      <indexterm><primary><command>pkg_add</command></primary></indexterm>

      <para>Puoi usare l'utility &man.pkg.add.1; per installare un package di
        FreeBSD da un file locale o da un server sulla rete.</para>

      <example>
        <title>Scaricare un Package Manualmente e Installarlo da Locale</title>

        <screen>&prompt.root; <userinput>ftp -a <replaceable>ftp2.FreeBSD.org</replaceable></userinput>
Connected to ftp2.FreeBSD.org.
220 ftp2.FreeBSD.org FTP server (Version 6.00LS) ready.
331 Guest login ok, send your email address as password.
230-
230-     This machine is in Vienna, VA, USA, hosted by Verio.
230-         Questions? E-mail freebsd@vienna.verio.net.
230-
230-
230 Guest login ok, access restrictions apply.
Remote system type is UNIX.
Using binary mode to transfer files.
<prompt>ftp></prompt> <userinput>cd /pub/FreeBSD/ports/packages/sysutils/</userinput>
250 CWD command successful.
<prompt>ftp></prompt> <userinput>get lsof-4.56.4.tgz</userinput>
local: lsof-4.56.4.tgz remote: lsof-4.56.4.tgz
200 PORT command successful.
150 Opening BINARY mode data connection for 'lsof-4.56.4.tgz' (92375 bytes).
100% |**************************************************| 92375       00:00 ETA
226 Transfer complete.
92375 bytes received in 5.60 seconds (16.11 KB/s)
<prompt>ftp></prompt> <userinput>exit</userinput>
&prompt.root; <userinput>pkg_add <replaceable>lsof-4.56.4.tgz</replaceable></userinput></screen>
      </example>

      <para>Se non hai una raccolta di package locale (per esempio il
        set dei CDROM di FreeBSD) allora probabilmente ti risulter&agrave;
        pi&ugrave; facile usare &man.pkg.add.1; con l'opzione
        <option>-r</option>.  In questo modo &man.pkg.add.1; determina
        automaticamente la corretta release e il giusto formato dell'oggetto,
        quindi scarica il package da un sito FTP e lo installa.</para>

      <indexterm><primary><command>pkg_add</command></primary></indexterm>

      <screen>&prompt.root; <userinput>pkg_add -r <replaceable>lsof</replaceable></userinput></screen>

      <para>L'esempio qui sopra scarica il giusto package e lo installa senza
        nessun ulteriore intervento.  &man.pkg.add.1; usa &man.fetch.3; per
        scaricare i file, il quale rispetta varie variabili d'ambiente, incluse
        <envar>FTP_PASSIVE_MODE</envar>, <envar>FTP_PROXY</envar>, e
        <envar>FTP_PASSWORD</envar>.  Puoi aver bisogno di settarne qualcuna se
        la tua macchina &egrave; dietro un firewall, o se utilizzi un proxy
        FTP/HTTP.  Leggi &man.fetch.3; per la lista completa.  Nell'esempio
        precedente si pu&ograve; anche notare che viene usato
        <literal>lsof</literal> al posto di <literal>lsof-4.56.4</literal>.
        Quando viene usata la modalit&agrave; di prelevamento da remoto, il
        numero di versione del package non deve essere specificato.
        &man.pkg.add.1; prender&agrave; automaticamente l'ultima versione
        dell'applicazione.</para>

      <para>I file dei package sono distribuiti nel formato
        <filename>.tgz</filename>.  Puoi trovarli in <ulink
          url="ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/packages/">ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/packages/</ulink>,
        oppure sui CDROM della distribuzione di FreeBSD.  Ogni CD contenuto
        nel set dei quattro CD (e nel PowerPak, ecc.) contiene i package nella
        directory <filename>/packages</filename>.  La disposizione dei package
        &egrave; simile a quella dell'albero <filename>/usr/ports</filename>.
        Ogni categoria ha la propria directory, ed ogni package pu&ograve;
        essere trovato dentro la directory <filename>All</filename>.</para>

      <para>La struttura delle directory del sistema dei package eguaglia
        quella dei port; questi due sistemi lavorano l'uno con l'altro per
        formare l'intero sistema dei package/port.</para>
    </sect2>

    <sect2>
      <title>Gestione dei Package</title>

      <indexterm>
        <primary>package</primary>
        <secondary>gestione</secondary>
      </indexterm>

      <para>L'utility &man.pkg.info.1; elenca e descrive i vari package
        installati.</para>

      <indexterm><primary><command>pkg_info</command></primary></indexterm>

      <screen>&prompt.root; <userinput>pkg_info</userinput>
cvsup-16.1          Un comune sistema di distribuzione dei file in rete ottimizato per CVS
docbook-1.2         Meta-port delle varie versioni del DTD DocBook
...</screen>

      <para>L'utility &man.pkg.version.1; riassume le versioni di tutti i
        package installati.  Paragona le versioni dei package con le versioni
        correnti trovate nell'albero dei port.</para>

      <indexterm><primary><command>pkg_version</command></primary></indexterm>

      <screen>&prompt.root; <userinput>pkg_version</userinput>
cvsup                       =
docbook                     =
...</screen>

      <para>I simboli nella seconda colonna indicano il risultato del confronto
        tra la versione installata e quella disponibile in locale nell'albero
        dei port.</para>

      <informaltable frame="none">
        <tgroup cols="2">
          <thead>
            <row>
              <entry>Simbolo</entry>

              <entry>Significato</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry>=</entry>

              <entry>Le versioni del package installato e di quello disponibile
                in locale nell'albero dei port sono uguali.</entry>
            </row>

            <row>
              <entry>&lt;</entry>

              <entry>La versione installata &egrave; precedente a quella
                disponibile nell'albero dei port.</entry>
            </row>

            <row>
              <entry>&gt;</entry>

              <entry>La versione installata &egrave; pi&ugrave; aggiornata di
                quella trovata in locale nell'albero dei port. (L'albero
                dei port locale &egrave; probabilmente da aggiornare)</entry>
            </row>

            <row>
              <entry>?</entry>

              <entry>Il package installato non pu&ograve; essere trovato
                nell'indice dei port.</entry>
            </row>

            <row>
              <entry>*</entry>

              <entry>Ci sono pi&ugrave; versioni del package.</entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </sect2>

    <sect2>
      <title>Cancellazione di un Package</title>

      <indexterm><primary><command>pkg_delete</command></primary></indexterm>
      <indexterm>
        <primary>package</primary>
        <secondary>cancellare</secondary>
      </indexterm>

      <para>Per rimuovere un package installato in precedenza, usa l'utility
        &man.pkg.delete.1;.</para>

      <screen>&prompt.root; <userinput>pkg_delete <replaceable>xchat-1.7.1</replaceable></userinput></screen>
    </sect2>

    <sect2>
      <title>Miscellanea</title>

      <para>Tutte le informazioni sui package sono memorizzate nella
        directory <filename>/var/db/pkg</filename>.  La lista dei file
        installati e le descrizioni di ogni package possono essere trovate
        all'interno dei file di questa directory.</para>
    </sect2>
  </sect1>

  <sect1 id="ports-using">
    <title>Utilizzo della Collezione dei Port</title>

    <para>Le sezioni seguenti forniscono le istruzioni basilari sull'uso della
      collezione dei port per installare e rimuovere programmi dal tuo
      sistema.</para>

    <sect2 id="ports-tree">
      <title>Ottenimento della Collezione dei Port</title>

      <para>Prima che tu possa installare i port, devi procurarti la collezione
        dei port&mdash;che essenzialmente &egrave; un set di
        <filename>Makefiles</filename>, patch, e file di descrizione collocati
        in <filename>/usr/ports</filename>.</para>

      <para>Durante l'installazione del tuo sistema FreeBSD,
        <application>Sysinstall</application> ti ha chiesto se vuoi installare
        la collezione dei port.  Se hai rifiutato, puoi seguire queste
        istruzioni per ottenerla:</para>

      <procedure>
        <title>Il Metodo Sysinstall</title>

        <para>Questo metodo richiede ancora l'uso di
          <application>sysinstall</application> per installare
          manualmente la collezione dei port.</para>

        <step>
          <para>Esegui da <username>root</username>
            <command>/stand/sysinstall</command> come mostrato qui sotto:</para>

          <screen>&prompt.root; /stand/sysinstall</screen>
        </step>

        <step>
          <para>Scorri verso il basso e seleziona
            <guimenuitem>Configure</guimenuitem>, premi
            <keycap>Invio</keycap>.</para>
        </step>

        <step>
          <para>Scorri verso il basso e seleziona
            <guimenuitem>Distributions</guimenuitem>, premi
            <keycap>Invio</keycap>.</para>
        </step>

        <step>
          <para>Scorri verso il basso fino a <guimenuitem>ports</guimenuitem>,
            premi <keycap>Spazio</keycap>.</para>
        </step>

        <step>
          <para>Scorri verso l'alto fino a <guimenuitem>Exit</guimenuitem>,
            premi <keycap>Invio</keycap>.</para>
        </step>

        <step>
          <para>Seleziona il modo di installazione desiderato, come CDROM,
            FTP, e cos&igrave; via.</para>
        </step>

        <step>
         <para>Scorri verso l'alto fino a <guimenuitem>Exit</guimenuitem> e
            premi <keycap>Invio</keycap>.</para>
       </step>

        <step>
         <para>Premi <keycap>X</keycap> per uscire da
            <application>sysinstall</application>.</para>
        </step>
      </procedure>

      <para>Un'altro metodo per ottenere la tua collezione dei port e per
        mantenerla aggiornata consiste nell'utilizzo di
        <application>CVSup</application>.  Dai un'occhiata al file di
        <application>CVSup</application> riguardante i port,
        <filename>/usr/share/examples/cvsup/ports-supfile</filename>.
        Guarda <link linkend="cvsup">Usare CVSup</link> (<xref
          linkend="cvsup">) per maggiori informazioni sull'uso di
        <application>CVSup</application> e del file menzionato.</para>

      <procedure>
        <title>Il Metodo CVSup</title>

        <para>Questo &egrave; un rapido metodo che utilizza
          <application>CVSup</application> per ottenere la collezione dei
          port.  Se vuoi mantenere il tuo albero dei port aggiornato, o imparare
          di pi&ugrave; su <application>CVSup</application>, leggi la sezione
          menzionata in precedenza.</para>

        <step>
          <para>Installa il port <filename role="package">net/cvsup</filename>.
            Guarda <link linkend="cvsup-install">Installazione di CVSup</link>
            (<xref linkend="cvsup-install">) per maggiori dettagli.</para>
        </step>

        <step>
          <para>Da <username>root</username>, copia il file
            <filename>/usr/share/examples/cvsup/ports-supfile</filename>
            in un nuovo posto, come in <filename>/root</filename> o nella tua
            directory home.</para>
        </step>

        <step>
          <para>Edita <filename>ports-supfile</filename>.</para>
        </step>

        <step>
          <para>Cambia <replaceable>CHANGE_THIS.FreeBSD.org</replaceable> in un
            server <application>CVSup</application> vicino a te.  Guarda <link
              linkend="cvsup-mirrors">Mirror CVSup</link> (<xref
              linkend="cvsup-mirrors">) per una lista completa dei siti
            mirror.</para>
        </step>

        <step>
          <para>Esegui <command>cvsup</command>:</para>

          <screen>&prompt.root; cvsup -g -L 2 <replaceable>/root/ports-supfile</replaceable></screen>
        </step>

        <step>
          <para>Poco dopo aver eseguito questo comando verranno scaricate
            e applicate alla tua collezione dei port tutte le modifiche
            recenti, anche se di fatto i port gi&agrave; compilati sul tuo
            sistema non verranno aggiornati.</para>
        </step>
      </procedure>
    </sect2>

    <sect2 id="ports-skeleton">
      <title>Installazione dei Port</title>

      <indexterm>
        <primary>port</primary>
        <secondary>installazione</secondary>
      </indexterm>

      <para>La prima cosa che dovrebbe essere chiara quando si ha a che fare con
        la collezione dei port &egrave; l'effettivo significato di
        <quote>scheletro</quote> di un port.  Brevemente, lo scheletro di un
        port &egrave; un insieme minimo di file che dice al tuo sistema FreeBSD
        come compilare ed installare un programma in modo pulito.  Ogni
        scheletro di un port include:</para>

      <itemizedlist>
        <listitem>
          <para>Un <filename>Makefile</filename>.  Il
            <filename>Makefile</filename> contiene varie espressioni che
            specificano come l'applicazione deve essere compilata e dove
            deve essere installata sul tuo sistema.</para>
        </listitem>

        <listitem>
          <para>Un file <filename>distinfo</filename>.  Questo file contiene
            informazioni sui file che devono essere scaricati per la
            compilazione del port e sui loro checksum (somme di controllo),
            utilizzati per verificare che quei file non siano stati corrotti
            durante il download.</para>
        </listitem>

        <listitem>
          <para>Una directory <filename>files</filename>.  Questa directory
            contiene le patch utilizzate per la compilazione e per
            l'installazione del programma sul tuo sistema FreeBSD.  Le patch
            sono sostanzialmente piccoli file che specificano come modificare
            alcuni file.  Sono in puro formato di testo, e in modo grossolano
            dicono <quote>Rimuovi la riga 10</quote> o
            <quote>Cambia la riga 26 in ...</quote>.  Le patch sono anche
            conosciute con il termine <quote>diff</quote> poich&egrave; sono
            generate dal programma &man.diff.1;.</para>

          <para>Questa directory pu&ograve; anche contenere altri file
            utilizzati per la compilazione del port.</para>
        </listitem>

        <listitem>
          <para>Un file <filename>pkg-comment</filename>.  Questo file contiene
            una descrizione del programma su una singola riga.</para>
        </listitem>

        <listitem>
          <para>Un file <filename>pkg-descr</filename>.  Questo file contiene
            una descrizione del programma pi&ugrave; dettagliata, spesso su
            pi&ugrave; righe di testo.</para>
        </listitem>

        <listitem>
          <para>Un file <filename>pkg-plist</filename>.  Questo file contiene
            l'elenco di tutti i file che saranno installati dal port.
            Dice anche al sistema dei port quale file rimuovere durante la
            disinstallazione.</para>
        </listitem>
      </itemizedlist>

      <para>Alcuni port hanno altri file, come
        <filename>pkg-message</filename>.  Il sistema dei port li usa
        per affrontare speciali situazioni.  Se vuoi maggiori dettagli
        su questi file, e sui port in generale, leggi attentamente il
        <ulink url="../porters-handbook/index.html">Manuale del Porter di
          FreeBSD</ulink>.</para>

      <para>Ora che hai acquisito abbastanza informazioni sull'utilizzo
        della collezione dei port, sei pronto per installare il tuo primo
        port.  Ci sono due modi per installare un port, entrambi spiegati qui
        sotto.</para>

      <para>Comunque, prima di addentrarci in questi due metodi, devi decidere
        quale port installare.  Ci sono vari modi per farlo, e quello pi&ugrave;
        semplice &egrave; consultare <ulink
          url="../../../../ports/index.html">la lista dei port sul sito web di
          FreeBSD</ulink>.  Puoi sia navigare tra i port ivi elencati sia usare
        la funzione di ricerca del sito.
        Ogni port include anche una breve descrizione che puoi leggere prima
        di decidere se installarlo o meno.</para>

      <para>Un'altro metodo &egrave; quello di usare il comando &man.whereis.1;.
        Semplicemente digita <command>whereis
          <replaceable>file</replaceable></command>, dove
        <replaceable>file</replaceable> &egrave; il programma che vuoi
        installare.  Se viene trovato sul tuo sistema, ti verr&agrave; indicato
        dove si trova, in modo simile a quanto segue:</para>

      <screen>&prompt.root; <userinput>whereis lsof</userinput>
lsof: /usr/ports/sysutils/lsof</screen>

      <para>Questo ci dice che <command>lsof</command> (un'utility di sistema)
        si trova nella directory
        <filename>/usr/ports/sysutils/lsof</filename>.</para>

      <para>Un'altro modo per trovare un determinato port &egrave; quello
        di usare il meccanismo di ricerca contenuto nella collezione dei port.
        Per usare questo servizio di ricerca, devi posizionarti nella directory
        <filename>/usr/ports</filename>.  Una volta in quella directory, lancia
        <command>make search
          name=<replaceable>nome-programma</replaceable></command> dove
        <replaceable>nome-programma</replaceable> &egrave; il nome del programma
        che vuoi cercare.  Per esempio, se vuoi cercare
        <command>lsof</command>:</para>

      <screen>&prompt.root; <userinput>cd /usr/ports</userinput>
&prompt.root; <userinput>make search name=lsof</userinput>
Port:   lsof-4.56.4
Path:   /usr/ports/sysutils/lsof
Info:   Elenca informazioni sui file aperti (simile a fstat(1))
Maint:  obrien@FreeBSD.org
Index:  sysutils
B-deps:
R-deps:</screen>

      <para>La parte di output sulla quale devi porre particolare attenzione
        &egrave; la riga <quote>Path:</quote>, che ti dice dove puoi trovare
        il port.  Le altre informazioni riportate non sono necessarie per
        installare il port, e quindi non saranno trattate in questa sede.</para>

      <para>Inoltre per una ricerca pi&ugrave; complessa puoi usare
        <command>make search key=<replaceable>stringa</replaceable></command>
        dove <replaceable>stringa</replaceable> fa parte del testo da cercare.
        Questo ricerca nei nomi dei port, nei commenti, nelle descrizioni e
        nelle dipendenze e pu&ograve; essere usato per cercare port che si
        riferiscono ad un argomento particolare anche se non conosci il nome del
        programma che stai cercando.</para>

      <para>In entrambi i casi, la stringa di ricerca &egrave; case-insensitive.
        La ricerca per <quote>LSOF</quote> produrr&agrave; gli stessi risultati
        della ricerca per <quote>lsof</quote>.</para>

      <note>
        <para>Devi essere <username>root</username> per installare i
          port.</para>
      </note>

      <para>Ora che hai trovato un port da installare, sei pronto per
        l'installazione vera e propria.  Il port include istruzioni su come
        compilare il codice sorgente, ma non include il codice sorgente stesso.
        Devi prendere il codice sorgente da un CDROM o da Internet.  L'autore
        del codice sorgente pu&ograve; distribuirlo come desidera.  Quasi sempre
        &egrave; un file di archivio tar compresso con gzip, ma potrebbe essere
        stato compresso con un'altro tool o perfino potrebbe essere non
        compresso.  Il codice sorgente del programma, in qualsiasi forma sia,
        &egrave; chiamato con il termine <quote>distfile</quote>.  Puoi ottenere
        questo distfile da un CDROM o da Internet.</para>

      <sect3 id="ports-cd">
        <title>Installazione dei Port dal CDROM</title>

        <indexterm>
          <primary>port</primary>
          <secondary>installazione da CDROM</secondary>
        </indexterm>

        <para>Le immagini ufficiali su CDROM del progetto FreeBSD non
          includono pi&ugrave; i distfile.  Occupano molto spazio che &egrave;
          meglio utilizzato per i package precompilati.  I prodotti su CDROM
          come il FreeBSD PowerPak includono i distfile, e puoi ordinare questi
          set da un venditore come <ulink
            url="http://www.freebsdmall.com/">FreeBSD Mall</ulink>.
          Questa sezione presuppone che tu abbia un simile set di CDROM di
          FreeBSD.</para>

        <para>Metti il tuo CDROM di FreeBSD nell'apposito lettore.  Montalo
          su <filename>/cdrom</filename>.  (Se usi un punto di mount differente,
          l'installazione non funzioner&agrave;.)  Per prima cosa, vai nella
          directory del port che vuoi installare:</para>

        <screen>&prompt.root; <userinput>cd /usr/ports/sysutils/lsof</userinput></screen>

        <para>Una volta dentro la directory <filename>lsof</filename>,
          vedrai lo scheletro del port.  Il prossimo passo riguarda la
          compilazione, o <quote>costruzione</quote>, del port.  Questo viene
          fatto semplicemente digitando <command>make</command> al prompt.  Una
          volta che hai fatto questo, dovresti vedere qualcosa simile a quanto
          segue:</para>

        <screen>&prompt.root; <userinput>make</userinput>
&gt;&gt; lsof_4.57D.freebsd.tar.gz doesn't seem to exist in /usr/ports/distfiles/.
&gt;&gt; Attempting to fetch from file:/cdrom/ports/distfiles/.
===&gt;  Extracting for lsof-4.57
...
[l'output dell'estrazione &egrave; stato tagliato]
...
&gt;&gt; Checksum OK for lsof_4.57D.freebsd.tar.gz.
===&gt;  Patching for lsof-4.57
===&gt;  Applying FreeBSD patches for lsof-4.57
===&gt;  Configuring for lsof-4.57
...
[l'output della configurazione &egrave; stato tagliato]
...
===&gt;  Building for lsof-4.57
...
[l'output della compilazione &egrave; stato tagliato]
...
&prompt.root;</screen>

        <para>Nota che una volta terminata la compilazione ritornerai al tuo
          prompt.  Il prossimo passo riguarda l'installazione del
          port.  Per installarlo, devi semplicemente affiancare una parola al
          comando <command>make</command>, e questa parola &egrave;
          <command>install</command>:</para>

        <screen>&prompt.root; <userinput>make install</userinput>
===&gt;  Installing for lsof-4.57
...
[l'output dell'installazione &egrave; stato tagliato]
...
===&gt;   Generating temporary packing list
===&gt;   Compressing manual pages for lsof-4.57
===&gt;   Registering installation for lsof-4.57
===&gt;  SECURITY NOTE:
      I binari di questo port richiedono l'esecuzione con alti privilegi.
&prompt.root;</screen>

        <para>Quando ritornerai al tuo prompt, dovresti essere in grado di
          eseguire l'applicazione che hai appena installato.  Siccome
          <command>lsof</command> &egrave; un programma che lavora con alti
          privilegi, viene mostrato un avvertimento di sicurezza.  Durante la
          compilazione e l'installazione dei port, dovresti fare attenzione ad
          ogni avvertimento che appare.</para>

        <note>
          <para>Potresti anche evitare un passaggio lanciando solamente
            <command>make install</command> invece dei due passi separati
            <command>make</command> e <command>make install</command>.</para>
        </note>

        <note>
          <para>Alcune shell mantengono una cache dei comandi che sono
            disponibili nelle directory elencate nella variabile d'ambiente
            <envar>PATH</envar>, per velocizzare le operazioni di ricerca dei
            file eseguibili di questi comandi.  Se stai usando una di queste
            shell, potresti dover usare il comando <command>rehash</command>
            dopo l'installazione di un port, prima di poter usare il nuovo
            comando.  Questo succede sia per le shell che fanno parte del
            sistema base (come <command>tcsh</command>) sia per le shell
            che sono disponibili dai port (per esempio,
            <filename role="package">shells/zsh</filename>).</para>
        </note>

        <note>
          <para>Per cortesia sii consapevole che le licenze di alcuni port non
            permettono l'inclusione degli stessi sul CDROM.  Questa limitazione
            potrebbe essere dovuta dalla necessit&agrave; di compilare un form
            di registrazione prima di scaricare il software, o perch&eacute; la
            ridistribuzione non &egrave; permessa, o per altre ragioni.  Se
            desideri installare un port non incluso nel CDROM, dovrai essere
            collegato ad Internet per farlo (vedi la <link
              linkend="ports-inet">prossima sezione</link>).</para>
        </note>
      </sect3>

      <sect3 id="ports-inet">
        <title>Installazione dei Port da Internet</title>

        <para>Questa sezione presuppone che tu abbia una connessione ad Internet
          funzionante.  Se non ce l'hai, dovrai utilizzare <link
            linkend="ports-cd">l'installazione da CDROM</link>, oppure dovrai
          copiare manualmente il distfile in
          <filename>/usr/ports/distfiles</filename>.</para>

        <para>L'installazione di un port da Internet viene fatta nello stesso
          modo con cui viene fatta l'installazione da CDROM.  L'unica differenza
          tra i due modi &egrave; che il distfile del port viene preso da
          Internet invece che dal CDROM.</para>

        <para>I passi richiesti sono gli stessi:</para>

        <screen>&prompt.root; <userinput>make install</userinput>
&gt;&gt; lsof_4.57D.freebsd.tar.gz doesn't seem to exist in /usr/ports/distfiles/.
&gt;&gt; Attempting to fetch from ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles/.
Receiving lsof_4.57D.freebsd.tar.gz (439860 bytes): 100%
439860 bytes transferred in 18.0 seconds (23.90 kBps)
===&gt;  Extracting for lsof-4.57
...
[l'output dell'estrazione &egrave; stato tagliato]
...
&gt;&gt; Checksum OK for lsof_4.57D.freebsd.tar.gz.
===&gt;  Patching for lsof-4.57
===&gt;  Applying FreeBSD patches for lsof-4.57
===&gt;  Configuring for lsof-4.57
...
[l'output della configurazione &egrave; stato tagliato]
...
===&gt;  Building for lsof-4.57
...
[l'output della compilazione &egrave; stato tagliato]
...
===&gt;  Installing for lsof-4.57
...
[l'output dell'installazione &egrave; stato tagliato]
...
===&gt;   Generating temporary packing list
===&gt;   Compressing manual pages for lsof-4.57
===&gt;   Registering installation for lsof-4.57
===&gt;  SECURITY NOTE:
      I binari di questo port richiedono l'esecuzione con alti privilegi.
&prompt.root;</screen>

        <para>Come puoi vedere, la sola differenza sta nella riga che dice
          da dove il sistema sta ottenendo il distfile del port.</para>

        <para>Il sistema dei port usa &man.fetch.1; per scaricare i file,
          il quale rispetta varie variabili d'ambiente, incluse
          <envar>FTP_PASSIVE_MODE</envar>, <envar>FTP_PROXY</envar>,
          e <envar>FTP_PASSWORD</envar>.  Puoi aver bisogno di settarne
          qualcuna se sei dietro a un firewall, o se usi un proxy FTP/HTTP.
          Guarda &man.fetch.3; per la lista completa.</para>
      </sect3>
    </sect2>

    <sect2 id="ports-removing">
      <title>Rimozione dei Port Installati</title>

      <indexterm>
        <primary>port</primary>
        <secondary>rimozione</secondary>
      </indexterm>

      <para>Ora che sai come installare i port, probabilmente ti chiederai come
        rimuoverli, caso mai ne installassi uno e successivamente ti accorgessi
        che hai installato il port sbagliato.  Rimuoveremo il port utilizzato
        nel nostro esempio precedente (che era <command>lsof</command> se non
        sei stato attento).  Come con l'installazione dei port, la prima cosa
        che devi fare &egrave; andare nella directory del port,
        <filename>/usr/ports/sysutils/lsof</filename>.  Dopo aver cambiato
        directory, sei pronto per disinstallare <command>lsof</command>.
        Questo viene fatto con il comando
        <command>make deinstall</command>:</para>

      <screen>&prompt.root; <userinput>cd /usr/ports/sysutils/lsof</userinput>
&prompt.root; <userinput>make deinstall</userinput>
===&gt;  Deinstalling for lsof-4.57</screen>

      <para>&Egrave; stato abbastanza facile.  In questo modo hai rimosso
        <command>lsof</command> dal tuo sistema.  Se volessi reinstallarlo, puoi
        farlo lanciando <command>make reinstall</command> dalla directory
        <filename>/usr/ports/sysutils/lsof</filename>.</para>

      <para>Le sequenze <command>make deinstall</command> e <command>make
          reinstall</command> non funzionano pi&ugrave; una volta che hai dato
        un <command>make clean</command>.  Se vuoi disinstallare un port dopo un
        <command>make clean</command>, usa &man.pkg.delete.1; come
        discusso nella <link linkend="packages-using">sezione del Manuale
        riguardante i Package</link>.</para>
    </sect2>
  </sect1>

  <sect1 id="ports-nextsteps">
    <title>Attivit&agrave; del dopo installazione</title>

    <para>Di solito dopo aver installato una nuova applicazione dovresti
      leggere la documentazione che potrebbe essere stata inclusa, modificare
      qualche file di configurazione, assicurarti che l'applicazione parta nella
      fase di avvio (se &egrave; un demone), e cos&igrave via;.</para>

    <para>I passi precisi che devi seguire per configurare un'applicazione
      sono ovviamente diversi da applicazione a applicazione.  Comunque, se hai
      appena installato una nuova applicazione e ti stai chiedendo
      <quote>Cosa faccio ora?</quote> questi consigli potrebbero
      aiutarti:</para>

    <itemizedlist>
      <listitem>
        <para>Usa &man.pkg.info.1; per scoprire quali file sono stati
          installati, e dove sono stati installati.  Per esempio, se hai appena
          installato la versione 1.0.0 di FooPackage, allora questo
          comando</para>

        <screen>&prompt.root; <userinput>pkg_info -L foopackage-1.0.0 | less</userinput></screen>

        <para>mostrer&agrave; tutti i file installati dal package.  Fai molta
          attenzione ai file nelle directory <filename>man/</filename>, che
          sono le pagine man, a quelli nella directory
          <filename>etc/</filename>, che sono i file di configurazione, e a
          quelli in <filename>doc/</filename>, che forniscono una documentazione
          pi&ugrave; esauriente.</para>

        <para>Se non sei sicuro della versione dell'applicazione che hai appena
          installato, questo comando</para>

        <screen>&prompt.root; <userinput>pkg_info | grep <replaceable>foopackage</replaceable></userinput></screen>

        <para>trover&agrave; tutti i package installati che contengono nel nome
          <replaceable>foopackage</replaceable>.  Rimpiazza
          <replaceable>foopackage</replaceable> nella tua linea di comando a
          seconda delle tue necessit&agrave;.</para>
      </listitem>

      <listitem>
        <para>Una volta che hai scoperto dove sono state posizionate le pagine
          man dell'applicazione, esaminale usando &man.man.1;.  Analogamente,
          esamina i file di configurazione d'esempio, ed ogni ulteriore
          documentazione che pu&ograve; essere stata fornita.</para>
      </listitem>

      <listitem>
        <para>Se l'applicazione ha un sito web, cerca della documentazione
          aggiuntiva, le domande pi&ugrave; frequenti (FAQ), ed altro ancora.
          Se non sei sicuro dell'indirizzo del sito web questo potrebbe essere
          presente nell'output di</para>

        <screen>&prompt.root; <userinput>pkg_info <replaceable>foopackage-1.0.0</replaceable></userinput></screen>

        <para>Una riga contenete <literal>WWW:</literal>, se presente, dovrebbe
          fornire l'URL del sito dell'applicazione.</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 id="ports-trouble">
    <title>Risoluzione dei Problemi</title>

    <para>La sezione seguente copre alcune delle domande pi&ugrave; frequenti
      sulla collezione dei port e sulle tecniche di base per la risoluzione
      dei problemi, e spiega cosa fare se un <link
        linkend="ports-broken">port &egrave; guasto</link>.</para>

    <sect2 id="ports-questions">
      <title>Alcune Domande e Risposte</title>

      <qandaset>
        <qandaentry>
          <question>
            <para>Pensavo che questa fosse una discussione sui modem!!?</para>
          </question>

          <answer>
            <para>Ah, sicuramente stavi pensando alle porte seriali sul retro
              del tuo computer.  Qui usiamo il termine <quote>port</quote> per
              indicare il <quote>porting</quote> di un programma da un sistema
              operativo ad un'altro.</para>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para id="ports-patch">Cos'&egrave; una patch?</para>
          </question>

          <answer>
            <para>Una patch &egrave; un piccolo file che specifica come passare
              da una versione di un file ad un'altra.  Contiene del puro testo,
              e sostanzialmente dice cose come <quote>cancella la riga
                23</quote>, <quote>aggiungi queste due righe dopo la riga
                468</quote>, o <quote>cambia la riga 197 con
                quest'altra</quote>.  Le patch sono anche conosciute con il
              termine diff poich&egrave; sono generate dal programma
              &man.diff.1;.</para>
          </answer>
        </qandaentry>

        <indexterm><primary>tarball</primary></indexterm>

        <qandaentry>
          <question>
            <para id="ports-tarball">Cosa sono le tarball?</para>
          </question>

          <answer>
            <para>Una tarball &egrave; un file che termina in
              <filename>.tar</filename>, o con delle varianti come
              <filename>.tar.gz</filename>, <filename>.tar.Z</filename>,
              <filename>.tar.bz2</filename>, e perfino
              <filename>.tgz</filename>.</para>

            <para>In sostanza, &egrave; un albero di directory che &egrave;
              stato archiviato in un unico file (<filename>.tar</filename>) e
              opzionalmente compresso (<filename>.gz</filename>).  Questa
              tecnica era originariamente usata per gli archivi a nastro
              (<emphasis>T</emphasis>ape <emphasis>AR</emphasis>chive da cui il
              nome <command>tar</command>), ma ora &egrave; un sistema
              largamente usato per distribuire il codice sorgente attraverso
              Internet.</para>

            <para>Il comando standard di Unix &man.tar.1;, che &egrave; incluso
              nel sistema base di FreeBSD, ti permette di vedere quali file si
              trovano in una tarball ed eventualmente ti permette di estrarli,
              in questo modo:</para>

            <screen>&prompt.user; <userinput>tar tvzf foobar.tar.gz</userinput>
&prompt.user; <userinput>tar xzvf foobar.tar.gz</userinput>
&prompt.user; <userinput>tar tvf foobar.tar</userinput>
&prompt.user; <userinput>tar xvf foobar.tar</userinput></screen>
          </answer>
        </qandaentry>

        <indexterm><primary>checksum</primary></indexterm>

        <qandaentry>
          <question>
            <para id="ports-checksum">Ed i checksum?</para>
          </question>

          <answer>
            <para>&Egrave; un numero generato dall'addizione di tutti i dati
              di un file che vuoi verificare.  Se anche un solo carattere
              cambia, il checksum non sar&agrave; pi&ugrave; uguale al totale,
              cos&igrave; un semplice confronto ti permetter&agrave; di
              individuarne la diversit&agrave;.</para>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>Ho fatto ci&ograve; che hai detto per compilare i port dal
              CDROM e ha funzionato bene fino a quando ho provato ad installare
              il port di <application>Kermit</application>.</para>

            <screen>&prompt.root; <userinput>make install</userinput>
&gt;&gt; cku190.tar.gz doesn't seem to exist on this system.
&gt;&gt; Attempting to fetch from ftp://kermit.columbia.edu/kermit/archives/.</screen>

            <para>Perch&eacute; non pu&ograve; essere trovato?  Ho un CDROM
              falso?</para>
          </question>

          <answer>
            <para>Come spiegato nella sezione <link
                linkend="ports-cd">installare i port dal CDROM</link>, alcuni
              port non possono essere inseriti nel set dei CDROM per via di
              alcune restrizioni contenute nelle licenze.
              <application>Kermit</application> ne &egrave; un esempio.
              I termini di licenza per <application>Kermit</application> non ci
              permettono di mettere il suo tarball nel CDROM, cos&igrave;
              dovrai procurartelo a mano&mdash;scusaci!</para>

            <para>La ragione per cui ottenevi tutti quei messaggi di errore era
              dovuta al fatto che non eri connesso ad Internet in quel momento.
              Una volta che l'hai scaricato da uno dei
              <makevar>MASTER_SITES</makevar> (elencati nel
              <filename>Makefile</filename>), puoi riprendere il processo
              di installazione.</para>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>L'ho fatto, ma quando provo a metterlo dentro
              <filename>/usr/ports/distfiles</filename> ottengo degli errori
              che dicono che non ho il permesso di farlo.</para>
          </question>

          <answer>
            <para>Il meccanismo dei port scarica i tarball delle
              distribuzioni dentro <filename>/usr/ports/distfiles</filename>,
              ma molti amministratori di sistema associano a questa directory un
              link simbolico verso un file server remoto o verso un CDROM
              locale.  In questo caso, devi specificare una diversa directory
              nella quale memorizzare i distfile con il seguente comando:</para>

            <screen>&prompt.root; <userinput>make DISTDIR=<replaceable>/directory/locale/con/permesso/di/scrittura</replaceable> install</userinput></screen>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>Lo schema dei port funziona solamente se si ha tutto
              in <filename>/usr/ports</filename>?  Il mio amministratore di
              sistema dice che devo mettere ogni cosa sotto
              <filename>/u/people/guests/wurzburger</filename>, ma
              non sembra funzionare.</para>
          </question>

          <answer>
            <para>Puoi usare le variabili <makevar>PORTSDIR</makevar> e
              <makevar>PREFIX</makevar> per dire al meccanismo dei port
              di usare delle directory diverse.  In questo caso,</para>

            <screen>&prompt.root; <userinput>make PORTSDIR=/u/people/guests/wurzburger/ports install</userinput></screen>

            <para>compiler&agrave; il port in
              <filename>/u/people/guests/wurzburger/ports</filename> ed
              installer&agrave; ogni cosa sotto
              <filename>/usr/local</filename>.</para>

            <screen>&prompt.root; <userinput>make PREFIX=/u/people/guests/wurzburger/local install</userinput></screen>

            <para>lo compiler&agrave; in <filename>/usr/ports</filename> e
              lo installer&agrave; in
              <filename>/u/people/guests/wurzburger/local</filename>.</para>

            <para>E naturalmente,</para>

            <screen>&prompt.root; <userinput>make PORTSDIR=../ports PREFIX=../local install</userinput></screen>

            <para>combiner&agrave; entrambi (&egrave; troppo lungo per scriverlo
              nella pagina, ma dovrebbe essere chiaro).</para>

            <indexterm><primary>imake</primary></indexterm>

            <para>Alcuni port che usano &man.imake.1; (una parte dell'X Windows
              System) non funzionano bene con <makevar>PREFIX</makevar>, e
              insistono ad installarsi sotto <filename>/usr/X11R6</filename>.
              In modo simile, alcuni port relativi al Perl ignorano
              <makevar>PREFIX</makevar> e si installano nell'albero del Perl.
              Far rispettare <makevar>PREFIX</makevar> a questi port risulta un
              lavoro difficile e alcune volte impossibile.</para>

            <para>Se non vuoi digitare tutto quel comando ogni volta che
              installi un port, puoi inserire queste variabili nel tuo ambiente.
              Troverai istruzioni su come farlo nella pagina man della tua
              shell.</para>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>Non ho un CDROM di FreeBSD, ma mi piacerebbe avere
              tutti i tarball sottomano sul mio sistema cos&igrave; da non
              dover aspettare per il download ogni volta che installo un port.
              Esiste un modo per ottenerli tutti in una volta?</para>
          </question>

          <answer>
            <para>Per ottenere ogni singolo tarball della collezione dei port,
              digita:</para>

            <screen>&prompt.root; <userinput>cd /usr/ports</userinput>
&prompt.root; <userinput>make fetch</userinput></screen>

            <para>Per tutti i tarball relativi a una singola directory dei
              port, digita:</para>

            <screen>&prompt.root; <userinput>cd /usr/ports/<replaceable>directory</replaceable></userinput>
&prompt.root; <userinput>make fetch</userinput></screen>

            <para>e per solo un port&mdash;bene, probabilmente avrai gi&agrave;
              indovinato.</para>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>Immagino che scaricare i tarball da uno dei mirror di
              FreeBSD vicino a me sia probabilmente il metodo pi&ugrave; veloce.
              Esiste un modo per dire al meccanismo dei port di prelevare i
              tarball da server non elencati in
              <makevar>MASTER_SITES</makevar>?</para>
          </question>

          <answer>
            <para>Si.  Se tu sai, per esempio, che <hostid
                role="fqdn">ftp.FreeBSD.org</hostid> &egrave; il server a te
              pi&ugrave; vicino rispetto ai siti elencati in
              <makevar>MASTER_SITES</makevar>, fai come segue:</para>

            <screen>&prompt.root; <userinput>cd /usr/ports/<replaceable>directory</replaceable></userinput>
&prompt.root; <userinput>make MASTER_SITE_OVERRIDE= \
ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles/ fetch</userinput></screen>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>Voglio sapere di quali file <command>make</command> ha
              bisogno prima che esso provi a scaricarli.</para>
          </question>

          <answer>
            <para><command>make fetch-list</command> mostrer&agrave; una lista
              dei file necessari per il port.</para>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>C'&egrave; un modo per impedire la compilazione di un port?
              Voglio hackerare il sorgente prima di installarlo, ma &egrave; un
              poco noioso guardarlo e premere ogni volta
              <keycombo action="simul">
                <keycap>Ctrl</keycap>
                <keycap>C</keycap>
              </keycombo>.</para>
          </question>

          <answer>
            <para>Dando <command>make extract</command> il processo si
              fermer&agrave; dopo aver scaricato ed estratto il codice
              sorgente.</para>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>Sto provando a fare il mio port personale e vorrei essere
              in grado di impedire la sua compilazione fino a quando sar&ograve;
              certo che le mie patch funzionano bene.  Esiste qualcosa come
              <command>make extract</command>, ma per le patch?</para>
          </question>

          <answer>
            <para>Si, <command>make patch</command> &egrave; quello che cerchi.
              Probabilmente troverai utile l'opzione
              <makevar>PATCH_DEBUG</makevar>.  E comunque, grazie per i tuoi
              sforzi!</para>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>Ho sentito che alcune opzioni del compilatore possono causare
              bug.  &Egrave; vero?  Come posso essere sicuro di compilare i port
              con i giusti settaggi?</para>
          </question>

          <answer>
            <para>Si, con la versione 2.6.3 di <command>gcc</command> (la
              versione che si trova su FreeBSD&nbsp;2.1.0 e 2.1.5), l'opzione
              <option>-O2</option> pu&ograve; restituire del codice buggato
              a meno che non usi anche l'opzione
              <option>-fno-strength-reduce</option>.  (La maggior parte dei port
              non usa <option>-O2</option>).  <emphasis>Puoi</emphasis>
              specificare le opzioni in fase di compilazione usando qualcosa del
              genere:</para>

            <screen>&prompt.root; <userinput>make CFLAGS='-O2 -fno-strength-reduce' install</userinput></screen>

            <para>o editando <filename>/etc/make.conf</filename>, ma
              sfortunatamente non tutti i port lo rispettano.  Il modo
              pi&ugrave; sicuro &egrave; dare un <command>make
                configure</command>, quindi andare nella directory del sorgente
              ed ispezionare il <filename>Makefile</filename> a mano, ma
              pu&ograve; risultare noioso nel caso in cui il sorgente avesse
              molte sotto directory, ognuna con il suo
              <filename>Makefile</filename>.</para>

            <para>Le opzioni di default del compilatore su FreeBSD sono
              abbastanza conservative, pertanto anche se non le cambi non
              dovresti avere problemi.</para>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>Ci sono cos&igrave; tanti port che &egrave; difficile trovare
              quello che voglio. Esiste una lista in qualche posto dei port
              che sono disponibili?</para>
          </question>

          <answer>
            <para>Dai un'occhiata al file <filename>INDEX</filename> in
              <filename>/usr/ports</filename>.  Puoi anche cercare nella
              collezione dei port tramite una parola chiave.  Per esempio, puoi
              cercare port attinenti al linguaggio di programmazione LISP
              usando:</para>

            <screen>&prompt.user; <userinput>cd /usr/ports</userinput>
&prompt.user; <userinput>make search key=lisp</userinput></screen>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>Ho tentato di installare il port <literal>foo</literal> ma
              improvvisamente il sistema ne ha interrotto la compilazione e ha
              iniziato a compilare il port <literal>bar</literal>.  Cosa sta
              succedendo?</para>
          </question>

          <answer>
            <para>Il port <literal>foo</literal> necessita di qualcosa che
              viene fornito con <literal>bar</literal> &mdash; per esempio,
              se <literal>foo</literal> usa la grafica, <literal>bar</literal>
              potrebbe avere una libreria di procedure utili per l'elaborazione
              grafica.  Oppure <literal>bar</literal> potrebbe essere un
              elemento necessario per compilare il port <literal>foo</literal>.
              Una volta compilato <literal>bar</literal>, il sistema riprende
              in modo automatico la compilazione di
              <literal>foo</literal>.</para>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para id="ports-remove">Ho installato il programma
              <literal>grizzle</literal> dai port e francamente ritengo che sia
              un totale spreco di spazio su disco.  Voglio cancellarlo ma non
              conosco dove mette tutti i suoi file. Qualche indizio?</para>
          </question>

          <answer>
            <para>Nessun problema, digita solamente:</para>

            <screen>&prompt.root; <userinput>pkg_delete grizzle-6.5</userinput></screen>

            <para>In alternativa, puoi digitare:</para>

            <screen>&prompt.root; <userinput>cd <replaceable>/usr/ports/somewhere/grizzle</replaceable></userinput>
&prompt.root; <userinput>make deinstall</userinput></screen>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>Aspetta un attimo, devi conoscere il numero della versione
              per usare quel comando.  Non ti aspetterai seriamente che io
              me la ricordi, vero?</para>
          </question>

          <answer>
            <para>Niente affatto, la puoi scoprire digitando:</para>

            <screen>&prompt.root; <userinput>pkg_info -I 'grizzle*'</userinput>
Information for grizzle-6.5:
grizzle-6.5 - un tutorial di piano forte, un'interprete di LOGO e un gioco
di azione arcade.</screen>

            <para>Il numero della versione pu&ograve; essere trovato o usando
              <command>pkg_info</command> o digitando:
              <command>ls /var/db/pkg</command></para>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>Parlando di spazio su disco, la directory dei port sembra
             occuparne molto.  &Egrave; prudente andarci dentro e cancellare
             qualche cosa?</para>
          </question>

          <answer>
            <para>Si, se hai installato un programma e sei del tutto
              certo che non avrai pi&ugrave; bisogno del sorgente, non
              ha pi&ugrave; senso tenerlo.  Il modo pi&ugrave; sicuro per
              cancellarlo &egrave;:</para>

            <screen>&prompt.root; <userinput>cd /usr/ports</userinput>
&prompt.root; <userinput>make clean</userinput></screen>

            <para>il quale attraverser&agrave; tutte le sotto directory dei port
              cancellando ogni cosa eccetto lo scheletro di ogni port.</para>

            <tip>
              <para>&Egrave; possibile ottenere lo stesso effetto senza
                chiamare ricorsivamente ogni <filename>Makefile</filename>.
                Per esempio, puoi cancellare direttamente tutte le
                sotto directory <filename>work/</filename> con il seguente
                comando:</para>
              <screen>&prompt.root; <userinput>find /usr/ports -depth -name work -exec rm -rf {} \;</userinput></screen>
            </tip>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>Ho provato ma ho notato che ha lasciato tutti i tarball o
              come li vuoi chiamare nella directory
              <filename>distfiles</filename>.  Posso cancellare anche
              loro?</para>
          </question>

          <answer>
            <para>Si, se sei sicuro che non ti serviranno pi&ugrave, puoi
              eliminare anche loro.  Possono essere rimossi a mano,
               oppure usando <command>make distclean</command>.</para>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>Mi piace avere tantissimi programmi con cui giocare.
              C'&egrave un modo di installare tutti i port in una sola
              volta?</para>
          </question>

          <answer>
            <para>Digita:</para>

            <screen>&prompt.root; <userinput>cd /usr/ports</userinput>
&prompt.root; <userinput>make install</userinput></screen>

            <para>Fai molta attenzione, alcuni port potrebbero installare file
              con lo stesso nome.  Se installi due port di grafica ed entrambi
              installano <filename>/usr/local/bin/plot</filename> avrai
              di certo dei problemi.</para>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>OK, ho provato a farlo, ma pensavo che avrebbe richiesto molto
              tempo cos&igrave; sono andato a letto e l'ho lasciato lavorare da
              solo.  Quando al mattino ho guardato il computer, aveva installato
              solamente tre port e mezzo.  Qualcosa non &egrave; andato per il
              verso giusto?</para>
          </question>

          <answer>
            <para>No, il problema &egrave; che alcuni port hanno bisogno di
              farti della domande alle quali noi non possiamo rispondere per te
              (ad esempio, <quote>Vuoi stampare in A4 o nel formato della carta
              da lettere degli US?</quote>) e hanno bisogno che qualcuno
              risponda loro.</para>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>Non voglio certamente stare tutto il giorno a fissare il
              monitor.  Un'idea migliore?</para>
          </question>

          <answer>
            <para>OK, digita questo prima di andare a letto/a lavoro/al
              parco:</para>

            <screen>&prompt.root; <userinput>cd /usr/ports</userinput>
&prompt.root; <userinput>make -DBATCH install</userinput></screen>

            <para>Questo installer&agrave; ogni port che
              <emphasis>non</emphasis> richiede input da parte dell'utente.
              Dopo, quando sarai tornato, digita:</para>

            <screen>&prompt.root; <userinput>cd /usr/ports</userinput>
&prompt.root; <userinput>make -DINTERACTIVE install</userinput></screen>

            <para>per finire il lavoro.</para>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>A lavoro, stiamo usando <literal>frobble</literal>, che si
              trova nella vostra collezione dei port, ma lo abbiamo modificato
              un p&ograve; per fargli fare quello di cui avevamo bisogno.
              C'&egrave; un modo per fare un nostro package, cos&igrave; da
              distribuirlo pi&ugrave; facilmente sui nostri siti?</para>
          </question>

          <answer>
            <para>Nessun problema, supponendo che tu sappia fare le patch per
              le tue modifiche:</para>

            <screen>&prompt.root; <userinput>cd <replaceable>/usr/ports/somewhere/frobble</replaceable></userinput>
&prompt.root; <userinput>make extract</userinput>
&prompt.root; <userinput>cd work/frobble-2.8</userinput>
[Applica le tue patch]
&prompt.root; <userinput>cd ../..</userinput>
&prompt.root; <userinput>make package</userinput></screen>
          </answer>
        </qandaentry>

        <qandaentry>
          <question>
            <para>Il sistema dei port &egrave; veramente intelligente.  Mi
              st&ograve; disperando per scoprire come avete fatto.
              Qual'&egrave; il segreto?</para>
          </question>

          <answer>
            <para>Non c'&egrave; nessun segreto, basta guardare i file
              <filename>bsd.port.mk</filename> e
              <filename>bsd.port.subdir.mk</filename> in
              <filename>/usr/ports/Mk/</filename>.</para>

            <para>(Consigliamo ai lettori con un'antipatia per gli script di
              shell intricati di non guardare i file in questa
              directory.)</para>
          </answer>
        </qandaentry>
      </qandaset>
    </sect2>

    <sect2 id="ports-broken">
      <title>Aiuto!  Questo Port non Funziona!</title>

      <para>Se ti dovessi imbattere in un port che per te non funziona, ci
        sono alcune cose che puoi fare, tra le quali:</para>

      <orderedlist>
        <listitem>
          <para>Aggiustarlo!  Il <ulink
            url="../porters-handbook/index.html">Manuale del Porter</ulink>
          contiene informazioni dettagliate sull'infrastruttura dei "Port"
          affinch&egrave; tu possa aggiustare quel port che occasionalmente
          non funziona o perfino proporne uno tutto tuo!</para>
        </listitem>

        <listitem>
          <para>Brontolare&mdash;<emphasis>solo attraverso email</emphasis>!
            Prima manda una email a colui che mantiene il port.
            Digita <command>make maintainer</command> o leggi il
            <filename>Makefile</filename> per trovare il suo indirizzo email.
            Ricorda di includere nel messaggio il nome e la versione del port
            (manda la riga <literal>&dollar;FreeBSD:</literal> del
            <filename>Makefile</filename>) e l'output che descrive
            l'errore.  Se non ottieni risposta dal maintainer, puoi usare
            &man.send-pr.1; per inoltrare il report del bug.</para>
        </listitem>

        <listitem>
          <para>Prendi il package da un sito FTP vicino a te.  La
            <quote>principale</quote> collezione dei package &egrave; su <hostid
              role="fqdn">ftp.FreeBSD.org</hostid> nella <ulink
              url="ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/packages/">directory
              dei package</ulink>, ma <emphasis>prima</emphasis> assicurati di
            controllare il tuo mirror locale!  &Egrave; pi&ugrave; probabile
            che funzionino i package rispetto alla compilazione dal sorgente e
            sono anche molto pi&ugrave; sbrigativi.  Usa il programma
            &man.pkg.add.1; per installare i package sul tuo sistema.</para>
        </listitem>
      </orderedlist>
    </sect2>
  </sect1>
</chapter>

<!--
     Local Variables:
     mode: sgml
     sgml-declaration: "../chapter.decl"
     sgml-indent-data: t
     sgml-omittag: nil
     sgml-always-quote-attributes: t
     sgml-parent-document: ("../book.sgml" "part" "chapter")
     End:
-->
