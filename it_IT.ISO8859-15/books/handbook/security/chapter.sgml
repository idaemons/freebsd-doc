<!--
     The FreeBSD Italian Documentation Project

     $FreeBSD$
     Original revision: 1.281
-->

<chapter id="security">
  <chapterinfo>
    <authorgroup>
      <author>
        <firstname>Matthew</firstname>

        <surname>Dillon</surname>

        <contrib>La maggior parte di questo capitolo &egrave; stata presa
          dalla manual page security(7) di </contrib>
      </author>
    </authorgroup>
  </chapterinfo>

  <title>Sicurezza</title>
  <indexterm><primary>security</primary></indexterm>

  <sect1 id="security-synopsis">
    <title>Sinossi</title>

    <para>Questo capitolo d&agrave; un'introduzione di base sui concetti dei
      sistemi di sicurezza, alcune buone regole di comportamento e alcuni
      argomenti avanzati per &os;.  Molti degli argomenti qua trattati possono
      essere applicati anche ai sistemi e alla sicurezza su Internet in
      generale.  Internet non &egrave; pi&ugrave; il luogo
      <quote>amichevole</quote> dove ognuno vuole essere il tuo gentile vicino.
      Mettere in sicurezza il tuo sistema &egrave; un imperativo per la
      protezione dei tuoi dati, della tua propriet&agrave; intelletuale, del tuo
      tempo e molto altro dalla mano di hacker e simili.</para>

    <para>&os; d&agrave; un insieme di utility e di meccanismi per assicurare
      l'integrit&agrave; e la sicurezza del tuo sistema e della tua rete.</para>

    <para>Dopo la lettura di questo capitolo, conoscerai:</para>

    <itemizedlist>
      <listitem>
	<para>Concetti di base dei sistemi di sicurezza, rispetto a &os;.</para>
      </listitem>

      <listitem>
	<para>Vari meccanismi di crittografia disponibili in &os;,
	  come <acronym>DES</acronym> e <acronym>MD5</acronym>.</para>
      </listitem>

      <listitem>
	<para>Come configurare l'autenticazione OTP (password a singolo
          uso).</para>
      </listitem>

      <listitem>
	<para>Come configurare i <acronym>TCP</acronym> Wrapper per l'uso con
          <command>inetd</command>.</para>
      </listitem>

      <listitem>
	<para>Come configurare <application>KerberosIV</application> su release
          &os; precedenti alla 5.0.</para>
      </listitem>

      <listitem>
	<para>Come configurare <application>Kerberos5</application> su &os; 5.0
          o successivi.</para>
      </listitem>

      <listitem>
	<para>Come configurare IPsec e creare una <acronym>VPN</acronym> tra
          macchine &os;/&windows;.</para>
      </listitem>
     
      <listitem>
	<para>Come configurare e usare <application>OpenSSH</application>,
          l'implementaizone <acronym>SSH</acronym> usata da &os;.</para>
      </listitem>

      <listitem>
	<para>Cosa sono le <acronym>ACL</acronym> del file system e come
	  usarle.</para>
      </listitem>

      <listitem>
        <para>Come usare l'utility <application>Portaudit</application> per
          monitorare i pacchetti software di terze parti installati dalla
          Ports Collection.</para>
      </listitem>

      <listitem>
        <para>Come utilizzare le pubblicazioni sugli avvisi di sicurezza di
          &os;.</para>
      </listitem>

      <listitem>
        <para>Avere un'idea di cosa sia il Process Accounting e come abilitarlo
          su &os;.</para>
      </listitem>
    </itemizedlist>

    <para>Prima di leggere questo capitolo dovresti:</para>

    <itemizedlist>
      <listitem>
	<para>Capire concetti base di &os; e Internet.</para>
      </listitem>
    </itemizedlist>

    <para>Altri argomenti inerenti la sicurezza sono trattati in altre parti di
      questo libro.  Ad esempio i meccanismy di MAC sono discussi in <xref
      linkend="mac"> e la gestione dei firewall in <xref
      linkend="firewalls">.</para>
  </sect1>


  <sect1 id="security-intro">
    <title>Introduzione</title>

    <para>La sicurezza &egrave; una funzione che inizia e finisce con
      l'amministratore di sistema.  Nonostante ogni sistema multi-utente &unix;
      BSD abbia della sicurezza insita, il lavoro di costruire e mantenere
      meccanismi di sicurezza aggiuntivi in modo da mantenere
      <quote>onesti</quote> gli utenti &egrave; probabilmente uno dei maggiori
      lavori di un amministratore di sistema.  La macchine sono sicure solo
      quanto le si rende e le richieste di sicurezza si scontrano sempre con
      l'umana necessit&agrave; per la comodit&agrave;.  I sistemi &unix;, in
      generale, sono capaci di eseguire un gran numero di processi contemporanei
      e ognuno di questi processi opera come server &mdash; nel senso che
      entit&agrave; esterne possono connettersi e parlarci.  Mentre i mini e i
      mainframe di ieri diventano i desktop di oggi, mentre i computer diventano
      interconnessi e internet-connessi, la sicurezza diventa un problema
      sempre maggiore.</para>

    <para>Il modo migliore per implementare la sicurezza &egrave; con un
      approccio <quote>a cipolla</quote>.  In pratica, quello che vuoi fare
      &egrave; creare tanti livelli di sicurezza quanto &egrave; conveniente e
      poi tenere sotto controllo il sistema per vedere eventuali intrusioni.
      Non vuoi esagerare nella sicurezza o interferirai con l'individuazione e
      quest'ultima &egrave; una delle parti pi&ugrave; importanti di ogni
      meccanismo di sicurezza.  Per esempio, ha poco senso imopstare il flag 
      <literal>schg</literal> (vedi &man.chflags.1;) su ogni binario di sistema
      dato che questo potr&agrave; s&igrave; proteggere temporaneamente i
      binari, ma evita che l'attaccante faccia una modifica facilmente
      individuabile e potrebbe far in modo che il tuo meccanismo di sicurezza
      non individui l'attaccante del tutto.</para>

    <para>La sicurezza di un sistema riguarda anche il gestire varie forme di
      attacco, compresi attacchi che tentano di bloccare, o comunque rendere
      inusabile, il sistema, anche se non necessariamente cercano di
      compromettere l'account di root <username>root</username> (<quote>rompere
      root</quote>).  I problemi di sicurezza possono essere suddivisi in
      svariate categorie:</para>

    <orderedlist>
      <listitem>
	<para>Attacchi che limitano la disponibilit&agrave; dei servizi
	  (<quote>Denial of service</quote> o, in breve, DoS).</para>
      </listitem>

      <listitem>
	<para>Compromissione degli account utente.</para>
      </listitem>

      <listitem>
	<para>Compromissione di root tramite server accessibili.</para>
      </listitem>

      <listitem>
	<para>Compromissione di root tramite gli account utente.</para>
      </listitem>

      <listitem>
	<para>Crazione di backdoor (letteralmente <quote>porte sul
	    retro</quote>, ovvero accessi secondari personalizzati).</para>
      </listitem>
    </orderedlist>

    <indexterm>
      <primary>attacchi DoS</primary>
      <see>Denial of Service (DoS)</see>
    </indexterm>
    <indexterm>
      <primary>sicurezza</primary>
      <secondary>attacchi DoS</secondary>
      <see>Denial of Service (DoS)</see>
    </indexterm>
    <indexterm><primary>Denial of Service (DoS)</primary></indexterm>

    <para>Un attacco DoS &egrave; un'azione che priva la macchina di risorse.
      Tipicamente un attacco DoS &egrave; un meccanismo a forza-bruta che tenta
      di bloccare e comunque rendere inusabile una macchina travolgendo di
      richieste i server che rende disponibili o direttamente lo stack di rete.
      Alcuni attacchi DoS tentano di trarre vantaggio da bug nello stack di rete
      per bloccare la macchina con un singolo pacchetto.  Questo genere di
      attacchi pu&ograve; evitato solo mettendo a posto il bug direttamente nel
      kernel.  Gli attacchi sui server possono spesso essere evitati
      specificando con attenzione dei limiti sul carico che i server stessi
      devono accettare in caso che il sistema lavori in condizioni avverse.
      Gli attacchi a forza-bruta generati da un'intera rete di attaccanti sono
      pi&ugrave; difficili da gestire.  Ad esempio un attacco con pacchetti 
      in spoof (ovvero con il campo mittente falsato) &egrave; praticamente
      impossibile da fermare, a meno di staccare del tutto il sistema da
      Internet.  Potr&agrave; anche non fermare la tua macchina, ma sicuramente
      pu&ograve; saturare la tua connessione Internet.</para>

    <indexterm>
      <primary>sicurezza</primary>
      <secondary>compromissione degli account</secondary>
    </indexterm>

    <para>La compromissione di un account utente &egrave; ancora pi&ugrave;
      comune di un attacco DoS.  Molti sysadmin usano ancora i server standard
      <application>telnetd</application>, <application>rlogind</application>,
      <application>rshd</application> e <application>ftpd</application> sulle
      loro macchine.  Questi programmi, normalmente, non usano connessioni
      crittate.  Il risultato &egrave; che quando hai una base utenti di medie
      dimensioni, uno o pi&ugrave; degli utenti connessi al tuo sistema da
      remoto (il modo pi&ugrave; comune e conveniente per collegarsi a un
      sisetma) avr&agrave; una password compromessa da un'operaizone di
      sniffing.  Gli amministratori di sistema attenti controllano i registri
      degli accessi remoto cercando indirizzi sospetti anche tra gli accessi
      permessi.</para>

    <para>Bisogna sempre dare per scontato che una volta che un attaccante ha
      accesso ad un account utente, pu&ograve; rompere anche
      <username>root</username>.
      In realt&agrave;, comunque, in un sistema ben configurato e mantenuto,
      questo non &egrave; necessariamente vero.  La distinzione &egrave;
      importante perch&eacute; senza accesso a <username>root</username>
      l'attaccante in genere non pu&ograve; nascondere le proprie tracce e
      pu&ograve;, alla peggio, rovinare i file dell'utente o mandare la
      macchina in crash.  La compromissione degli account utente &egrave; molto
      comune dato che gli utenti tendono a non prendere precauzioni tanto
      quanto gli amministratori di sistema.</para>

    <indexterm>
      <primary>sicurezza</primary>
      <secondary>backdoor</secondary>
    </indexterm>

    <para>Gli amministratori di sistema devono ricordare che su una macchina ci
      sono potenzialmente molti modi per rompere <username>root</username>.
      L'attaccante potrebbe conoscere la password di <username>root</username>,
      potrebbe trovare un bug in un programma server in esecuzione con diritti
      di <username>root</username> e sfruttarlo per entrare da remoto, oppure
      una volta ottenuto un account utente potrebbe fare lo stesso con un bug in
      un programma con suid <username>root</username>.  Se un attaccante rompe
      <username>root</username> su una macchina, potrebbe non aver bisogno di
      installare una backdoor.  Molti dei buchi per l'accesso come
      <username>root</username> trovati (e chiusi) fino ad oggi richiedono un
      considerevole lavoro da parte dell'attaccante per pulire le tracce
      lasciate, quindi molti attaccanti installano delle backdoor.  Una backdoor
      d&agrave; all'attaccante un modo semplice per riottenere accesso
      <username>root</username> al sistema, ma danno anche un modo semplice per
      individuare l'intrusione, all'amministratore di sistema furbo.  Rendere
      impossibile installare backdoor all'attaccante potrebbe in realt&agrave;
      diminuire la sicurezza del sistema, dato che comunque non chiuder&agrave;
      il buco che l'attaccante ha trovato la prima volta.</para>

    <para>Le soluzioni di sicurezza devono sempre essere implementate con un
      approccio multi-strato a <quote>cipolla</quote> e possono essere
      categorizzate come segue:</para>

    <orderedlist>
      <listitem>
	<para>Rendere sicuro <username>root</username> e gli account dello
          staff.</para>
      </listitem>

      <listitem>
	<para>Rendere sicuri i server e i binari suid/sgid in esecuzione come
          <username>root</username>.</para>
      </listitem>

      <listitem>
	<para>Rendere sicuri gli account utente.</para>
      </listitem>

      <listitem>
	<para>Rendere sicuro il file delle password.</para>
      </listitem>

      <listitem>
	<para>Rendere sicuro il nucleo del kernel, i device raw e il file
          system.</para>
      </listitem>

      <listitem>
	<para>Individuazione rapida delle modifiche non appropriate fatte al
          sistema.</para>
      </listitem>

      <listitem>
	<para>Paranoia.</para>
      </listitem>
    </orderedlist>

    <para>La prossima sezione di questo capitolo coprir&agrave; questi punti in
      maggior dettaglio.</para>
  </sect1>


  <sect1 id="securing-freebsd">
    <title>Rendere sicuro &os;</title>
    <indexterm>
      <primary>sicurezza</primary>
      <secondary>rendere sicuro &os;</secondary>
    </indexterm>

    <para>Traduzione in corso</para>

<!--

    <note>
      <title>Comandi o Protocolli</title>
      <para>In questo documento useremo testo
        <application>grassetto</application> per riferirci ad applicazioni e
        testo <command>monospaced</command>.  I protocolli useranno
        un font normale.  Questa distinzione tipografica &egrave; utile per casi
        come ssh, che &egrave; un protocollo oltre che un comando.</para>
    </note>

    <para>Le sezioni seguenti descrivono i metodi per rendere sicuro il vostro
      sistema &os; che sono stati menzionati nella <link
      linkend="security-intro">sezione precedente</link> di questo
      capitolo.</para>

    <sect2 id="securing-root-and-staff">
      <title>Rendere sicuro <username>root</username> e gli account dello
          staff.</title>
      <indexterm>
        <primary><command>su</command></primary>
      </indexterm>

      <para>Innanzitutto, non preoccuparti di rendere sicuri gli account di
        staff se non hai reso sicuro l'account <username>root</username>. La
        maggior parte hanno una password assegnata per l'account
        <username>root</username>. La prima cosa che devi dare per assunta
        &egrave; che la password viene <emphasis>sempre</emphasis> compromessa.
        Questo non significa che devi togliere la password; la password &egrave;
        quasi sempre necessaria per l'accesso dalla console della macchina.
        Quello che questo significa &egrave; che non dovresti render possibile
        l'uso di questa password tranne che da console o eventualmente anche dal
        comando &man.su.1;. Per esempio, assicurati che le tue pty siano
        specificate come <literal>insecure</literal> nel file
        <filename>/etc/ttys</filename> in modo che accessi diretti
        <username>root</username> tramite <command>telnet</command> o
        <command>rlogin</command> non siano permessi. Se usi altri servizi di
        login come ad esempio <application>sshd</application>, fai in modo che
        accessi diretti come <username>root</username> siano vietati anche per
        loro. Puoi farlo modificando il file
        <filename>/etc/ssh/sshd_config</filename> e assicurandoti che
        <literal>PermitRootLogin</literal> sia impostato a
        <literal>NO</literal>. Tieni conto di tutti i modi di accesso &mdash;
        servizi come ad esempio FTP vengono spesso trascurati. Login
        <username>root</username> diretti dovrebbero essere permessi solo
        tramite la console di sistema.</para>

      <indexterm>
        <primary><groupname>wheel</groupname></primary>
      </indexterm>

      <para>Ovviamente, come sysadmin (amministratore di sistema) hai bisogno
        di accesso a <username>root</username>, quindi apriremo alcuni
        passaggi; ci assicureremo per&ograve; che questi
        passaggi richiedano ulteriori verifiche di password
        per funzionare.  Un modo per accedere a <username>root</username>
        &egrave; aggiungere gli appropriati account di staff al gruppo
        <groupname>wheel</groupname> (in <filename>/etc/group</filename>).
        I membri del gruppo <groupname>wheel</groupname> possono accedere a
        <username>root</username> tramite <command>su</command>.
    </sect2>

-->
  </sect1>


  <sect1 id="crypt">
    <title>DES, MD5, and Crypt</title>

    <para>Traduzione in corso</para>
  </sect1>

  <sect1 id="one-time-passwords">
    <title>One-time Passwords</title>

    <para>Traduzione in corso</para>
  </sect1>

  <sect1 id="tcpwrappers">
    <title>TCP Wrappers</title>

    <para>Traduzione in corso</para>
  </sect1>

  <sect1 id="kerberosIV">
    <title><application>KerberosIV</application></title>

    <para>Traduzione in corso</para>
  </sect1>

  <sect1 id="kerberos5">
    <title><application>Kerberos5</application></title>

    <para>Traduzione in corso</para>
  </sect1>

  <sect1 id="openssl">
    <title>OpenSSL</title>

    <para>Traduzione in corso</para>
  </sect1>

  <sect1 id="ipsec">
    <title>IPsec</title>

    <para>Traduzione in corso</para>
  </sect1>

  <sect1 id="openssh">
    <title>OpenSSH</title>

    <sect2 id="security-ssh-tunneling">
      <title>SSH Tunneling</title>

      <para>Traduzione in corso</para>
    </sect2>
  </sect1>

  <sect1 id="fs-acl">
    <title>File System Access Control Lists</title>

    <para>Traduzione in corso</para>
  </sect1>

  <sect1 id="security-portaudit">
    <title>Monitoring Third Party Security Issues</title>

    <para>Traduzione in corso</para>
  </sect1>

  <sect1 id="security-advisories">
    <title>&os; Security Advisories</title>

    <para>Traduzione in corso</para>
  </sect1>

  <sect1 id="security-accounting">
    <title>Process Accounting</title>

    <para>Traduzione in corso</para>
  </sect1>
</chapter>

<!--
     Local Variables:
     mode: sgml
     sgml-declaration: "../chapter.decl"
     sgml-indent-data: t
     sgml-omittag: nil
     sgml-always-quote-attributes: t
     sgml-parent-document: ("../book.sgml" "part" "chapter")
     End:
-->
