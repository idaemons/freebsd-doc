<!--
     The FreeBSD Italian Documentation Project

     $FreeBSD$
     Original revision: 1.87
-->

<chapter id="l10n">
  <chapterinfo>
    <authorgroup>
      <author>
        <firstname>Andrey A.</firstname>

        <surname>Chernov</surname>

        <contrib>Contributo di </contrib>
      </author>
    </authorgroup>

    <authorgroup>
      <author>
        <firstname>Michael C.</firstname>

        <surname>Wu</surname>

        <contrib>Revisione di </contrib>
      </author>
    </authorgroup>
  </chapterinfo>

  <title>Localizzazione - Uso e Impostazione dell'I18N/L10N</title>

  <sect1 id="l10n-synopsys">
    <title>Sinossi</title>

    <para>FreeBSD &egrave; un progetto di larga diffusione con utenti
      e collaboratori in ogni parte del mondo.
      Questo capitolo affronta quegli aspetti tipici di FreeBSD, relativi
      all'internazionalizzazione e localizzazione del sistema, che
      permettono agli utenti non di lingua inglese di operare in
      maniera pi&ugrave; vicina alle proprie convenzioni nazionali.
      Ci sono molti aspetti da considerare dell'internazionalizzazione
      sia a livello utente che di sistema; perci&ograve;, ove necessario,
      si rinvier&agrave; il lettore a fonti di informazione pi&ugrave;
      specifiche.</para>

    <para>Dopo aver letto questo capitolo si sapr&agrave;:</para>

    <itemizedlist>
      <listitem>
        <para>come i vari idiomi e localizzazioni sono codificati
          nei moderni sistemi operativi.</para>
      </listitem>

      <listitem>
        <para>come impostare la localizzazione per la propria shell
          di login.</para>
      </listitem>

      <listitem>
        <para>come configurare la propria console per una lingua
            che non sia l'inglese.</para>
      </listitem>

      <listitem>
        <para>come usare concretamente X Windows con differenti
          lingue.</para>
      </listitem>

      <listitem>
        <para>dove reperire ulteriori informazioni su come scrivere
          applicazioni internazionalizzate.</para>
      </listitem>
    </itemizedlist>

    <para>Prima di leggere questo capitolo, si dovrebbe:</para>
    <itemizedlist>
      <listitem>
        <para>sapere come installare applicazioni
          supplementari di terzi (<xref linkend="ports">).</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 id="l10n-basics">
    <title>Principi fondamentali</title>

    <sect2>
      <title>Cosa significano le sigle I18N/L10N?</title>

      <indexterm><primary>internazionalizzazione</primary></indexterm>
      <indexterm><primary>localizzazione</primary></indexterm>

      <para>Gli sviluppatori hanno abbreviato la parola
        <quote>internationalization</quote> in I18N, sostituendo
        le lettere della parola, comprese tra la prima e l'ultima,
        con il loro numero.
        Lo stesso &egrave; stato fatto per l'acronimo L10N, che deriva
        appunto da <quote>localization</quote>.
        Combinati assieme, i metodi, i protocolli e le applicazioni
        che rispettano gli standard I18N/L10N consentono agli utenti
        di utilizzare una qualsiasi lingua di propria scelta.</para>

      <para>Le applicazioni internazionalizzate vengono realizzate
        mediante appositi kit per l'I18N, disponibili tramite
        specifiche librerie.
        Questo permette agli sviluppatori di scrivere in un normale
        file di testo i menu e i messaggi da visualizzare nel programma
        e di tradurlo poi nelle varie lingue.
        Si raccomandano vivamente i programmatori di seguire questa
        pratica.</para>
    </sect2>

    <sect2>
      <title>Perch&eacute; usare l'I18N/L10N?</title>

      <para>Le tecniche di I18N/L10N vengono utilizzate ogniqualvolta
        si desidera visualizzare, immettere o processare dati in
        lingue diverse da quella inglese.</para>
    </sect2>

    <sect2>
      <title>Quali lingue sono disponibili in un ambiente
      internazionalizzato?</title>

      <para>L'I18N e la L10N non sono caratteristiche specifiche di
        FreeBSD.
        Al momento, &egrave; possibile scegliere fra la maggior parte
        delle lingue pi&ugrave; diffuse nel mondo, tra le quali:
        cinese, tedesco, giapponese, francese, russo e altre ancora.</para>
    </sect2>
  </sect1>

  <sect1 id="using-localization">
    <title>Come utilizzare la nazionalizzazione</title>

    <para>Vista la sua importanza, l'I18N non &egrave; specifica
      del sistema FreeBSD soltanto ed &egrave; una convenzione.
      Siete invitati ad aiutare il progetto FreeBSD ad adottare
      tale convenzione.</para>

    <indexterm><primary>locale</primary></indexterm>

    <para>Le impostazioni per la nazionalizzazione o localizzazione
      sono basate su tre termini principali: Codice Lingua, Codice
      Nazione e Codifica.
      I nomi che contraddistinguono una localizzazione vengono formati
      utilizzando questi termini nel modo seguente:</para>

    <programlisting><replaceable>CodiceLingua</replaceable>_<replaceable>CodiceNazione</replaceable>.<replaceable>Codifica</replaceable></programlisting>

    <sect2>
      <title>I codici per la lingua e la nazione</title>

      <indexterm><primary>codici lingua</primary></indexterm>
      <indexterm><primary>codici nazione</primary></indexterm>

      <para>Al fine di configurare un sistema FreeBSD per una
        specifica lingua (o qualsiasi altro sistema UNIX che
        gestisca l'I18N), l'utente deve innanzitutto conoscere
        i codici della nazione e della lingua desiderati
        (i codici delle nazioni segnalano alle applicazioni
        quali convenzioni adottare all'interno di un dato idioma).
        Inoltre, i browser, i server web e quelli SMTP e POP
        possono operare in base ad essi.
        I seguenti sono esempi di codici lingua/nazione:</para>

      <informaltable frame="none">
        <tgroup cols="2">
          <thead>
            <row>
              <entry>Lingua/Codice Nazione</entry>

              <entry>Descrizione</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry>en_US</entry>

              <entry>inglese - Stati Uniti</entry>
            </row>

            <row>
              <entry>ru_RU</entry>

              <entry>russo - Russia</entry>
            </row>

            <row>
              <entry>zh_TW</entry>

              <entry>cinese tradizionale - Taiwan</entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </sect2>

    <sect2>
      <title>Codifiche</title>

      <indexterm><primary>codifiche</primary></indexterm>
      <indexterm><primary>ASCII</primary></indexterm>

      <para>Alcune lingue utilizzano codifiche non-ASCII, cio&egrave;
        caratteri a 8 bit, estesi o multibyte, cfr. &man.multibyte.3;
        per maggiori dettagli.
        Le applicazioni pi&ugrave; vecchie, non riconoscendoli, li
        interpretano come caratteri di controllo.
        Quelle pi&ugrave; recenti invece riconoscono di solito i
        caratteri a 8 bit.
        Dipendendo tutto dall'implementazione, potrebbe essere
        necessario che gli utenti ricompilino un'applicazione,
        perch&eacute; gestisca i caratteri estesi o multibyte,
        o che la riconfigurino in modo corretto.
        Per essere in grado di immettere e di elaborare caratteri
        estesi o multibyte, la
        <ulink url="../../../../ports/index.html">FreeBSD Ports
        Collection</ulink> fornisce vari programmi in differenti
        versioni, una per ogni lingua.  Si faccia riferimento alla
        relativa documentazione I18N del Port del programma.</para>

      <para>Precisamente, l'utente deve consultare la documentazione
        propria dell'applicazione per conoscere il modo di configurarla
        correttamente o di passare i valori adatti al programma di
        configurazione, al Makefile o al compilatore.</para>

      <para>Alcune cose da tenere bene a mente e controllare sono:</para>

      <itemizedlist>
        <listitem>
          <para>Gli insiemi di caratteri, rappresentabili con il tipo
            char del linguaggio C, specifici della lingua (cfr.
            &man.multibyte.3;), cio&egrave;, ISO8859-1, KOI8-R,
            CP437.</para>
        </listitem>

        <listitem>
          <para>Codifiche estese o multibyte, cio&egrave; EUC, Big5.</para>
        </listitem>
      </itemizedlist>

      <para>Si pu&ograve; consultare l'elenco corrente degli insiemi di
        caratteri nello <ulink
          url="ftp://ftp.isi.edu/in-notes/iana/assignments/character-sets">IANA Registry</ulink>.</para>

      <note>
        <para>Con le versioni 4.5 o successive di FreeBSD si utilizzino
          le codifiche per la localizzazione compatibili con X11.</para>
      </note>
    </sect2>

    <sect2>
      <title>Applicazioni internazionalizzate</title>

      <para>Nel sistema dei Port e dei pacchetti precompilati di
        FreeBSD, le applicazioni I18N sono facilmente riconoscibili,
        perch&eacute; il loro nome include la sigla <literal>I18N</literal>.
        Tuttavia, non sempre esse potrebbero supportare la lingua
        desiderata.</para>
    </sect2>

    <sect2 id="setting-locale">
      <title>Impostazione della nazionalit&agrave;
        (<emphasis>locale</emphasis>)</title>

      <para>Teoricamente, l'unica operazione da fare dovrebbe essere
        quella di esportare il nome della propria localizzazione nella
        variabile <envar>LANG</envar>; cosa che viene normalmente
        fatta in <filename>~/.login_conf</filename>  oppure nel file
        di configurazione della shell di login dell'utente
        (<filename>~/.profile</filename>,
        <filename>~/.bashrc</filename>,
        <filename>~/.cshrc</filename>).
        Non c'&egrave; alcun bisogno invece di impostare direttamente
        le altre variabili facenti parti il <quote>locale</quote>,
        come <envar>LC_CTYPE</envar>, <envar>LC_CTIME</envar>.
        Si faccia riferimento a questo proposito alla documentazione
        di FreeBSD specifica per la data lingua.</para>

      <para>Si dovrebbero impostare esattamente i seguenti due valori
        nei propri file di configurazione:</para>

      <itemizedlist>
        <indexterm><primary>POSIX</primary></indexterm>
  
        <listitem>
          <para><envar>LANG</envar> per le funzioni appartenenti alla
            famiglia POSIX di &man.setlocale.3;</para>
        </listitem>

        <indexterm><primary>MIME</primary></indexterm>

        <listitem>
          <para><envar>MM_CHARSET</envar> per l'insieme dei caratteri
            che dovranno usare le applicazioni che supportano lo standard
            MIME</para>
        </listitem>
      </itemizedlist>

      <para>Ci&ograve; va fatto per la configurazione della shell
        dell'utente, di un'applicazione specifica e per quella di X11.</para>

      <sect3>
        <title>Metodi di localizzazione</title>

        <indexterm><primary>locale</primary></indexterm>
        <indexterm><primary>classe di login</primary></indexterm>

        <para>Ci sono due metodi per l'impostazione della nazionalit&agrave;
          entrambi descritti qui di seguito.
          Il primo (raccomandato) &egrave; quello di impostare le
          variabili d'ambiente in una
          <link linkend="login-class">classe di login</link>, mentre
          il secondo &egrave; quello di aggiungere i valori delle
          variabili d'ambiente al <link linkend="startup-file">file
          d'avvio</link> della shell.</para>

        <sect4 id="login-class">
          <title>Metodo con le classi di login</title>

          <para>Questo metodo fa s&igrave; che le variabili d'ambiente,
            necessarie per il nome del locale e per gli insiemi dei
            caratteri MIME, vengano inizializzate una volta sola per
            ogni possibile shell di sistema, invece di aggiungere gli
            assegnamenti adatti ad una specifica shell nel rispettivo
            file d'avvio.
            Mentre il <link linkend="usr-setup">setup a livello utente</link>
            pu&ograve; essere chiaramente fatto dall'utente stesso, il
            <link linkend="adm-setup">setup a livello amministratore</link>
            richiede i privilegi del superuser.</para>

          <sect5 id="usr-setup">
            <title>Setup a livello utente</title>

            <para>Ecco un breve esempio di un file
              <filename>.login_conf</filename> nella directory home di
              un utente che ha entrambe le variabili impostate alla
              codifica Latin-1:</para>

            <programlisting>me:\
        :charset=ISO-8859-1:\
        :lang=de_DE.ISO8859-1:</programlisting>

            <indexterm>
              <primary>cinese tradizionale / codifica BIG-5</primary>
            </indexterm>

            <para>Ecco invece un esempio di un file
              <filename>.login_conf</filename> che imposta le variabili
              per il cinese tradizionale con codifica BIG-5.
              Si noti l'uso di un maggior numero di variabili, in questo
              caso necessarie, perch&eacute; alcuni programmi non rispettano
              come dovrebbero le variabili di localizzazione per il
              cinese, giapponese e il coreano.</para>

            <programlisting>#Users who do not wish to use monetary units or time formats
#of Taiwan can manually change each variable
me:\
        lang=zh_TW.Big5:\
        lc_all=zh_TW.Big:\
        lc_collate=zh_TW.Big5:\
        lc_ctype=zh_TW.Big5:\
        lc_messages=zh_TW.Big5:\
        lc_monetary=zh_TW.Big5:\
        lc_numeric=zh_TW.Big5:\
        lc_time=zh_TW.Big5:\
        charset=big5:\
        xmodifiers="@im=xcin": #Setting the XIM Input Server</programlisting>

            <para>Si veda il paragrafo <link linkend="adm-setup">Setup
              a livello amministratore</link> e &man.login.conf.5; per
              maggiori dettagli.</para>
          </sect5>

          <sect5 id="adm-setup">
            <title>Setup a livello amministratore</title>

            <para>Si controlli che il file
              <filename>/etc/login.conf</filename> selezioni la lingua
              corretta per la classe dell'utente.
              Ci si assicuri che queste impostazioni appaiano in
              <filename>/etc/login.conf</filename>:</para>

            <programlisting><replaceable>nome_lingua</replaceable>:<replaceable>classe_account</replaceable>:\
        :charset=<replaceable>MIME_charset</replaceable>:\
        :lang=<replaceable>nome_locale</replaceable>:\
        :tc=default:</programlisting>

            <para>Perci&ograve; ritornando all'esempio di prima, che
              utilizzava Latin-1, esso dovrebbe contenere la seguente
              riga:</para>

            <programlisting>tedesco:Account utenti tedeschi:\
              :charset=ISO-8859-1:\
              :lang=de_DE.ISO8859-1:\
              :tc=default:</programlisting>

            <bridgehead renderas="sect4">Modifica delle classi di login con &man.vipw.8;</bridgehead>

            <indexterm><primary><command>vipw</command></primary></indexterm>

            <para>Si utilizzi <command>vipw</command> per aggiungere
              nuovi utenti e si inserisca una voce simile alla
              seguente:</para>

            <programlisting>utente:password:1111:11:<replaceable>lingua</replaceable>:0:0:Nome Utente:/home/user:/bin/sh</programlisting>

            <bridgehead renderas=sect4>Modifica delle classi di login con &man.adduser.8;</bridgehead>

            <indexterm><primary><command>adduser</command></primary></indexterm>
            <indexterm><primary>classe di login</primary></indexterm>

            <para>Si utilizzi <command>adduser</command> per
              aggiungere nuovi utenti nel seguente modo:</para>

            <itemizedlist>
              <listitem>
                <para>si imposti <literal>defaultclass =
                  <replaceable>lingua</replaceable></literal> in
                  <filename>/etc/adduser.conf</filename>.
                  Si tenga presente che si deve necessariamente inserire
                  una classe <literal>default</literal> per tutti gli utenti
                  di altre lingue in questo caso.</para>
              </listitem>

              <listitem>
                <para>In alternativa si pu&ograve; specificare la
                  lingua desiderata ogni volta che appare il prompt
                  <screen><prompt>Enter login class: default []: </prompt></screen>
                  durante l'esecuzione di &man.adduser.8;</para>
              </listitem>

              <listitem>
                <para>&Egrave; anche possibile utilizzare il seguente
                  comando per ogni utente di una diversa lingua che si
                  desiderasse aggiungere:</para>

                <screen>&prompt.root; <userinput>adduser -class <replaceable>lingua</replaceable></userinput></screen>
              </listitem>
            </itemizedlist>

            <bridgehead renderas="sect4">Cambiare le classi di login con &man.pw.8;</bridgehead>

            <indexterm><primary><command>pw</command></primary></indexterm>

            <para>Se si utilizza il comando &man.pw.8; per aggiungere
              nuovi utenti, lo si invochi nella seguente forma:</para>

            <screen>&prompt.root; <userinput>pw useradd <replaceable>nome_utente</replaceable> -L  <replaceable>lingua</replaceable></userinput></screen>
          </sect5>
        </sect4>

        <sect4 id="startup-file">
          <title>Metodo con il file d'avvio della shell</title>

          <note>
            <para>Questo metodo &egrave; sconsigliato, perch&eacute;
              richiede un differente setup per ogni possibile programma
              di shell scelto.  Si utilizzi invece il <link
                linkend="login-class">Metodo della classe di
                login</link>.</para>
          </note>

          <indexterm><primary>MIME</primary></indexterm>
          <indexterm><primary>locale</primary></indexterm>

          <para>Per aggiungere il nome del locale e l'insieme dei caratteri
            per lo standard MIME, si impostino semplicemente le due variabili
            d'ambiente mostrate di seguito nei file d'avvio della shell
            <filename>/etc/profile</filename> e/o
            <filename>/etc/csh.login</filename>.
            Nell'esempio che segue viene utilizzata la lingua tedesca:</para>

          <para>In <filename>/etc/profile</filename>:</para>

          <programlisting><envar>LANG=de_DE.ISO8859-1; export LANG</envar>
<envar>MM_CHARSET=ISO8859-1; export MM_CHARSET</envar></programlisting>

          <para>Oppure in <filename>/etc/csh.login</filename>:</para>

          <programlisting><envar>setenv LANG de_DE.ISO8859-1</envar>
<envar>setenv MM_CHARSET ISO8859-1</envar></programlisting>

          <para>Lo stesso risultato si ottiene aggiungendo le
            istruzioni viste in precedenza al file
            <filename>/usr/share/skel/dot.profile</filename>
            (in corrispondenza a quelle messe in
            <filename>/etc/profile</filename>), oppure al file
            <filename>/usr/share/skel/dot.login</filename> (per quelle
            inserite in <filename>/etc/csh.login</filename>).</para>

          <para>Per l'ambiente X11:</para>

          <para>Nel file <filename>$HOME/.xinitrc</filename>:</para>

          <programlisting><envar>LANG=de_DE.ISO8859-1; export LANG</envar></programlisting>

          <para>Oppure:</para>

          <programlisting><envar>setenv LANG de_DE.ISO8859-1</envar></programlisting>

          <para>in funzione della shell utilizzata (si veda sopra).</para>
        </sect4>
      </sect3>
    </sect2>

    <sect2 id="setting-console">
      <title>Impostazione della console</title>

      <para>Per tutti quegli insiemi di caratteri che sono rappresentabili
        come char in C, si impostino i font della console adatti alla
        lingua prescelta in <filename>/etc/rc.conf</filename>:</para>

      <programlisting>font8x16=<replaceable>nome_font</replaceable>
font8x14=<replaceable>nome_font</replaceable>
font8x8=<replaceable>nome_font</replaceable></programlisting>

      <para><replaceable>nome_font</replaceable> &egrave; il nome di
        uno dei file di font presenti nella directory
        <filename>/usr/share/syscons/fonts</filename>, privato del
        suffisso <filename>.fnt</filename>.</para>

      <indexterm>
        <primary><application>sysinstall</application></primary>
      </indexterm>
      <indexterm><primary>keymap</primary></indexterm>
      <indexterm><primary>screenmap</primary></indexterm>

      <para>Ci si assicuri anche di selezionare la giusta mappatura
        della tastiera e del video per il proprio set di caratteri
        usando <filename>/stand/sysinstall</filename>.
        Una volta all'interno di <application>sysinstall</application>,
        si selezioni <guimenuitem>Configure</guimenuitem>, quindi
        <guimenuitem>Console</guimenuitem>.
        In alternativa, si aggiungano le seguenti righe in
        <filename>/etc/rc.conf</filename>:</para>

      <programlisting>scrnmap=<replaceable>nome_screenmap</replaceable>
keymap=<replaceable>nome_keymap</replaceable>
keychange="<replaceable>numero_tasto_funzione sequenza</replaceable>"</programlisting>

      <para><replaceable>nome_screenmap</replaceable> viene preso
        dalla directory
        <filename>/usr/share/syscons/scrnmaps</filename>, privato del
        suffisso <filename>.scm</filename>.  Una <emphasis>screenmap
        </emphasis> assieme ad una corrispondente mappa dei font
        &egrave; solitamente necessaria nel caso la scheda grafica
        non gestisca i font via software, ma li abbia codificati
        internamente; la screenmap serve appunto a rimappare tali
        font interni nel font prescelto.</para>

      <para>Se si ha abilitato il demone <application>moused</application>
        inserendo la seguente riga in <filename>/etc/rc.conf</filename>:</para>

      <programlisting>moused_enable="YES"</programlisting>

      <para>allora si legga quanto riportato nel prossimo paragrafo
        sul cursore del mouse.</para>

      <indexterm>
        <primary><application>moused</application></primary>
      </indexterm>

      <para>Di default il cursore del mouse del driver &man.syscons.4;
        occupa l'intervallo da 0xd0 a 0xd3 nel set di caratteri in uso.
        Se la propria lingua utilizza tali caratteri, &egrave; necessario
        spostare i byte occupati dal cursore in un altro intervallo.
        Per far questo con le versioni anteriori alla 5.0 di FreeBSD,
        si inserisca la seguente riga nel proprio file di configurazione
        del kernel:</para>

      <programlisting>options           SC_MOUSE_CHAR=0x03</programlisting>

      <para>Per le versioni 4.4 e successive si aggiunga la seguente
        linea al file <filename>/etc/rc.conf</filename>:</para>

      <programlisting>mousechar_start=3</programlisting>

      <para><replaceable>nome_keymap</replaceable> deve invece
        corrispondere a uno dei file presenti nella directory
        <filename>/usr/share/syscons/keymaps</filename>, privato
        del suffisso <filename>.kbd</filename>.
        Se si &egrave; indecisi su quale <emphasis>keymap</emphasis>
        scegliere, si pu&ograve; usare il comando &man.kbdmap.1;
        per testare le varie mappature senza dover riavviare
        il sistema.</para>

      <para>La variabile <literal>keychange</literal> &egrave; di
        solito richiesta per programmare i tasti funzione in modo
        che corrispondano alla definizione di quelli del tipo di
        terminale in uso, perch&eacute; le sequenze generate da
        un tasto funzione non possono essere definite in una mappa
        di tasti.</para>

      <para>Si faccia attenzione inoltre ad impostare il corretto tipo
        di terminale in <filename>/etc/ttys</filename> per tutte le
        voci del tipo <literal>ttyv*</literal>.
        Le corrispondenze al momento predefinite sono:</para>

      <informaltable frame="none">
        <tgroup cols="2">
          <thead>
            <row>
              <entry>Insieme caratteri</entry>

              <entry>Tipo terminale</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry>ISO-8859-1 o ISO-8859-15</entry>

              <entry><literal>cons25l1</literal></entry>
            </row>

            <row>
              <entry>ISO-8859-2</entry>

              <entry><literal>cons25l2</literal></entry>
            </row>

            <row>
              <entry>ISO-8859-7</entry>

              <entry><literal>cons25l7</literal></entry>
            </row>

            <row>
              <entry>KOI8-R</entry>

              <entry><literal>cons25r</literal></entry>
            </row>

            <row>
              <entry>KOI8-U</entry>

              <entry><literal>cons25u</literal></entry>
            </row>

            <row>
              <entry>CP437 (di default per VGA)</entry>

              <entry><literal>cons25</literal></entry>
            </row>

            <row>
              <entry>US-ASCII</entry>

              <entry><literal>cons25w</literal></entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>

      <para>Per i linguaggi che usano caratteri estesi o multibyte,
        &egrave; bene servirsi del corretto Port di FreeBSD nella directory
        <filename>/usr/ports/<replaceable>linguaggio</replaceable></filename>.
        Alcuni port vengono visti come console a s&egrave; dal momento che
        il sistema la vede come un dispositivo seriale vtty, quindi si devono
        riservare abbastanza file vtty sia per X11 che per la console
        pseudo-seriale.
        Ecco una lista parziale di applicazioni con cui si possono
        utilizzare altri linguaggi in console:</para>

      <informaltable frame="none">
        <tgroup cols="2">
          <thead>
            <row>
              <entry>Linguaggio</entry>

              <entry>Ubicazione</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry>cinese tradizionale (BIG-5)</entry>

              <entry><filename
                  role="package">/usr/ports/chinese/big5con</filename></entry>
            </row>

            <row>
              <entry>giapponese</entry>

              <entry><filename
                  role="package">/usr/ports/japanese/ja-kon2-*</filename> oppure
                <filename
                  role="package">/usr/ports/japanese/Mule_Wnn</filename></entry>
            </row>

            <row>
              <entry>coreano</entry>

              <entry><filename
                  role="package">/usr/ports/korean/ko-han</filename></entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </sect2>

    <sect2>
      <title>Setup di X11</title>

      <para>Sebbene X11 non faccia parte del progetto FreeBSD, vengono
        qui fornite alcune istruzioni per gli utenti di FreeBSD.
        Per maggiori dettagli, si faccia riferimento al sito web
        <ulink url="http://www.xfree86.org/">XFree86</ulink> o a
        quello del Server X11 utilizzato.</para>

      <para>Nel file <filename>~/.Xresources</filename>, si possono
        mettere a punto le impostazioni per l'internazionalizzazione
        specifiche di un'applicazione (ad esempio, i font, i menu,
        ecc.).</para>

      <sect3>
        <title>Visualizzazione dei font</title>

        <indexterm><primary>server font True Type per X11</primary></indexterm>

        <para>Si installino innanzitutto il server True Type-Common di
          X11 (<filename role="package">x11-servers/XttXF86srv-common</filename>)
          e i corrispondenti font truetype propri della lingua prescelta.
          L'impostazione del corretto locale dovrebbe permettere di
          visualizzare tale lingua nei vari menu, etc...</para>
      </sect3>

      <sect3>
        <title>Immissione di caratteri non inglesi</title>

        <indexterm><primary>X11 Input Method (XIM)</primary></indexterm>

        <para>Il protocollo X11 Input Method (XIM) &egrave; un nuovo
          standard per tutti i client X11.
          Tutte le applicazioni X11 dovrebbero essere scritte come
          client XIM, in modo da poter ricevere l'input dai server XIM.
          Vi sono parecchi server XIM disponibili per le differenti
          lingue.</para>
      </sect3>
    </sect2>

    <sect2>
      <title>Configurazione della stampante</title>

      <para>Alcuni set di caratteri con la dimensione dei char del C
        vengono solitamente codificati a livello hardware all'interno
        delle stampanti stesse.
        Gli insiemi di caratteri estesi o multibyte richiedono invece
        uno speciale setup e qui si raccomanda l'utilizzo di
        <application>apsfilter</application>.
        &Egrave; possibile anche convertire documenti nei formati
        Postscript o PDF utilizzando convertitori specifici per una
        data lingua.</para>
    </sect2>

    <sect2>
      <title>Il kernel e i filesystem</title>

      <para>Il filesystem di FreeBSD FFS (Fast File System) &egrave;
        completamente a 8-bit, perci&ograve; pu&ograve; essere
        utilizzato con qualsiasi insieme di caratteri memorizzabili
        in un singolo char del C (cfr. &man.multibyte.3;),
        ma non vi &egrave; un nome particolare di un insieme di caratteri
        memorizzato nel filesystem; cio&egrave; esso &egrave; a 8 bit
        senza alcuna codifica interna e ignora un'eventuale codifica.
        Ufficialmente, l'FFS non supporta ancora alcuna forma degli
        insiemi di caratteri estesi o multibyte.
        Tuttavia esistono per alcuni di questi delle patch non
        ufficiali per il FFS, che abilitano tale supporto.
        Sono solo soluzioni temporanee, non portabili o espedienti
        e si &egrave; deciso di non includerle nell'albero dei sorgenti.
        Si faccia riferimento ai rispettivi siti web della lingua
        desiderata per ulteriori informazioni e per i file di patch.</para>

      <indexterm><primary>DOS</primary></indexterm>
      <indexterm><primary>Unicode</primary></indexterm>

      <para>Il supporto per il filesystem di MS-DOS in FreeBSD offre
        la possibilit&agrave; di configurare la modalit&agrave; di
        conversione tra gli insiemi di caratteri MS-DOS, Unicode e
        quelli scelti per il filesystem di FreeBSD.
        Si consulti &man.mount.msdos.8; per i dettagli.</para>
    </sect2>
  </sect1>

  <sect1 id="l10n-compiling">
    <title>Compilazione dei programmi con supporto I18N</title>

    <para>Molti dei Port di FreeBSD includono il supporto I18N.
      Alcuni di essi sono contrassegnati dal suffisso -I18N nel
      loro nome.
      Questi e molti altri programmi hanno il supporto per
      l'internazionalizzazione gi&agrave; incluso e non necessitano
      perci&ograve; di speciali considerazioni.</para>

    <indexterm><primary><application>MySQL</application></primary></indexterm>

    <para>Tuttavia, alcune applicazioni come ad esempio
      <application>MySQL</application>
      richiedono che venga specificato nel <filename>Makefile</filename>
      l'insieme dei caratteri che si utilizzeranno.
      Questa operazione viene fatta o modificando direttamente il
      suddetto file oppure passando un opportuno valore al programma
      <command>configure</command> nella directory dei sorgenti.</para>

  <sect1 id="lang-setup">
    <title>Localizzazione di FreeBSD con lingue particolari</title>

    <sect2 id="ru-localize">
      <sect2info>
        <authorgroup>
          <author>
            <firstname>Andrey A.</firstname>

            <surname>Chernov</surname>

            <contrib>Contributo originale di </contrib>
          </author>
        </authorgroup>
      </sect2info>

      <title>Lingua Russa (codifica KOI8-R)</title>

      <indexterm>
        <primary>localizzazione</primary>
        <secondary>russo</secondary>
      </indexterm>

      <para>Per maggiori informazioni sulla codifica KOI8-R, si veda
        la <ulink url="http://koi.pp.ru/">fonte di di riferimento per
        il KOI8-R (Russian Net Character Set)</ulink>.</para>

      <sect3>
        <title>Impostazione del locale</title>

        <para>Si inseriscano le seguenti righe nel proprio file
          <filename>~/.login_conf</filename>:</para>

        <programlisting>me:My Account:\
        :charset=KOI8-R:\
        :lang=ru_RU.KOI8-R:</programlisting>

        <para>Si veda quanto esposto precedentemente in questo
          capitolo per degli esempi di impostazione del
          <link linkend="setting-locale">locale</link>.</para>
      </sect3>

      <sect3>
        <title>Configurazione della console</title>

        <itemizedlist>
          <listitem>
            <para>Per le versioni di FreeBSD precedenti la 5.0,
              si aggiunga la seguente opzione nel proprio file di
              configurazione del kernel:</para>

            <programlisting>options             SC_MOUSE_CHAR=0x03</programlisting>

            <para>Per le versioni 4.4 e seguenti si inserisca invece
              nel file <filename>/etc/rc.conf</filename>:</para>

            <programlisting>mousechar_start=3</programlisting>
          </listitem>

          <listitem>
            <para>Si utilizzino le seguenti impostazioni nel file
              <filename>/etc/rc.conf</filename>:</para>

            <programlisting>keymap="ru.koi8-r"
scrnmap="koi8-r2cp866"
font8x16="cp866b-8x16"
font8x14="cp866-8x14"
font8x8="cp866-8x8"</programlisting>
          </listitem>

          <listitem>
            <para>Per ogni voce <literal>ttyv*</literal> nel file
              <filename>/etc/ttys</filename>, si specifichi
              <literal>cons25r</literal> come tipo di terminale.</para>
          </listitem>
        </itemizedlist>

        <para>Si veda quanto esposto in precedenza in questo capitolo
          per degli esempi su come impostare la
          <link linkend="setting-console">console</link>.</para>
      </sect3>

      <sect3>
        <title>Configurazione della stampante</title>

        <para>Dal momento che la maggior parte delle stampanti con
          caratteri russi hanno a livello hardware la codifica
          codepage CP866, &egrave; necessario utilizzare uno speciale
          filtro di conversione da KOI8-R a CP866.
          Tale filtro viene installato di default come
          <filename>/usr/libexec/lpr/ru/koi2alt</filename>.
          La voce per una stampante russa dovrebbe apparire perci&ograve;
          cos&igrave; in <filename>/etc/printcap</filename>:</para>

        <programlisting>lp|Russian local line printer:\
        :sh:of=/usr/libexec/lpr/ru/koi2alt:\
        :lp=/dev/lpt0:sd=/var/spool/output/lpd:lf=/var/log/lpd-errs:</programlisting>

        <para>Si veda &man.printcap.5; per una spiegazione dettagliata
          del significato dei vari campi.</para>
      </sect3>

      <sect3>
        <title>Nomi di file MS-DOS e nomi di file in russo</title>

        <para>La seguente voce d'esempio di &man.fstab.5; abilita il
          supporto per i nomi di file in russo su filesystem MS-DOS
          montati:</para>

        <programlisting>/dev/ad0s2      /dos/c  msdos   rw,-W=koi2dos,-L=ru_RU.KOI8-R 0 0</programlisting>

        <para>Si veda &man.mount.msdos.8; per una dettagliata descrizione
          delle opzioni <option>-W</option> e <option>-L</option>.</para>
      </sect3>

      <sect3>
        <title>Configurazione di X11</title>

        <orderedlist>
          <listitem>
            <para>Si esegua innanzitutto il setup del
              <link linkend="setting-locale">locale in console</link>
              come descritto in precedenza.</para>

            <note>
              <para><anchor id="russian-note">Il locale russo KOI8-R
                potrebbe non funzionare con le vecchie versioni di
                <application>XFree86</application> (precedenti alla 3.3).
                <application>XFree86 4.X</application> &egrave; ora la
                versione di default del sistema X Window in FreeBSD.
                Perci&ograve; non dovrebbe costituire pi&ugrave; un
                problema, a meno che non si possieda una versione
                piuttosto vecchia di FreeBSD.</para>
            </note>
          </listitem>

          <listitem>
            <para>Si acceda alla directory
              <filename role="package">/usr/ports/russian/X.language</filename>
              e si impartisca il seguente comando:</para>

            <screen>&prompt.root; <userinput>make install</userinput></screen>

            <para>Il port precedente installa l'ultima versione
              disponibile dei font KOI8-R.
              <application>XFree86 3.3</application> possiede gi&agrave;
              alcuni font KOI8-R, ma questi sono meglio dimensionati.</para>

            <para>Si controlli la sezione <literal>"Files"</literal>
              in <filename>/etc/XF86Config</filename>.
              Le seguenti righe devono essere aggiunte
              <emphasis>prima</emphasis> di qualsiasi altra voce
              <literal>FontPath</literal>:</para>

            <programlisting>FontPath   "/usr/X11R6/lib/X11/fonts/cyrillic/misc"
FontPath   "/usr/X11R6/lib/X11/fonts/cyrillic/75dpi"
FontPath   "/usr/X11R6/lib/X11/fonts/cyrillic/100dpi"</programlisting>

            <para>Se si utilizza una modalit&agrave; video ad alta
              risoluzione, si scambino le righe 75 dpi e 100 dpi.</para>
          </listitem>

          <listitem>
            <para>Per attivare la tastiera russa, si aggiunga alla
              sezione <literal>"Keyboard"</literal> del proprio file
              <filename>XF86Config</filename>:</para>

            <para>per XFree86 v3.*</para>

            <programlisting>XkbLayout  "ru"
XkbOptions "grp:caps_toggle"</programlisting>

            <para>e per XFree86 v4.*</para>

            <programlisting>Option "XkbLayout"   "ru"
Option "XkbOptions"  "grp:caps_toggle"</programlisting>

            <para>Si verifichi inoltre che la riga
              <literal>XkbDisable</literal> sia commentata.</para>

            <para>Il tasto per passare dalla codifica russa a quella
              dei caratteri latini &egrave; <keycap>CapsLock</keycap>.
              La normale funzione del tasto <keycap>CapsLock</keycap>
              &egrave; ancora disponibile mediante la combinazione di
              tasti <keycombo
                action="simul"><keycap>Shift</keycap><keycap>CapsLock</keycap</keycombo>
              (in modalit&agrave; Latin solamente).</para>

            <para>Se la propria tastiera &egrave; dotata di tasti
              <quote>Windows</quote> e si dovesse notare che alcuni
              tasti non alfabetici sono mappati non correttamente in
              modalit&agrave; RUS, si aggiunga in
              <filename>XF86Config</filename> la seguente riga:</para>

            <para>per XFree86 v3.*:</para>

            <programlisting>XkbVariant "winkeys"</programlisting>

            <para>e per XFree86 v4.*:</para>

            <programlisting>Option "XkbVariant" "winkeys"</programlisting>

            <note>
              <para>La tastiera russa XKB potrebbe non funzionare con
                le vecchie versioni di <application>XFree86</application>;
                si veda la <link linkend="russian-note">nota precedente</link>
                per ulteriori informazioni al riguardo.
                La tastiera russa XKB potrebbe anche presentare delle
                anomalie anche con applicazioni che non abbiamo il supporto
                per la localizzazione.
                Le applicazioni s&igrave; fatte dovrebbe come minimo
                effettuare all'avvio una chiamata alla funzione
                <literal>XtSetLanguageProc (NULL, NULL, NULL);</literal>
                Si veda <ulink url="http://koi8.pp.ru/xwin.html">KOI8-R
                per X Window</ulink> per le corrette istruzioni su come
                localizzare un'applicazione.</para>
            </note>
          </listitem>
        </orderedlist>
      </sect3>
    </sect2>

    <sect2>
      <title>Localizzazione del cinese tradizionale per Taiwan</title>

      <indexterm>
        <primary>localizzazione</primary>
        <secondary>cinese tradizionale</secondary>
      </indexterm>

      <para>Il FreeBSD-Taiwan Project fornisce un tutorial riguardo
        all'I18N/L10N per FreeBSD all'indirizzo <ulink
          url="http://freebsd.sinica.edu.tw/~ncvs/zh-l10n-tut/">http://freebsd.sinica.edu.tw/~ncvs/zh-l10n-tut/</ulink>
        per l'utilizzo di gran parte delle aplicazioni in cinese.
        L'autore del tutorial <literal>zh-l10n-tut</literal> &egrave;
        Clive Lin <email>Clive@CirX.org</email>.
        &Egrave; possibile anche prelevare, utilizzando CVS, all'indirizzo
        <hostid role="fqdn">freebsd.sinica.edu.tw</hostid> le seguenti
        raccolte:</para>

      <informaltable frame="none">
        <tgroup cols="2">
          <thead>
            <row>
              <entry>Collezione</entry>

              <entry>Descrizione</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry>outta-port tag=.</entry>

              <entry>Beta-quality Ports Collection per il cinese</entry>
            </row>

            <row>
              <entry>zh-l10n-tut tag=.</entry>

              <entry>Tutorial sulla localizzazione di FreeBSD in
                cinese tradizionale, codifica BIG-5</entry>
            </row>

            <row>
              <entry>zh-doc tag=.</entry>

              <entry>Traduzione della documentazione di FreeBSD in
                cinese tradizionale BIG-5</entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>

      <para>Chuan-Hsing Shen <email>s874070@mail.yzu.edu.tw</email> ha
        creato la <ulink url="http://cnpa.yzu.edu.tw/~cfc/">Chinese
        FreeBSD Collection (CFC)</ulink> utilizzando
        l'<literal>zh-l10n-tut</literal> del FreeBSD-Taiwan Project.
        I pacchetti e i file di script sono disponibili all'url <ulink
          url="ftp://ftp.csie.ncu.edu.tw/OS/FreeBSD/taiwan/CFC/">ftp://ftp.csie.ncu.edu.tw/OS/FreeBSD/taiwan/CFC/</ulink>.</para>
    </sect2>

    <sect2>
      <title>Localizzazione lingua tedesca (e tutte le lingue ISO
        8859-1)</title>

      <indexterm>
        <primary>localizzazione</primary>
        <secondary>tedesco</secondary>
      </indexterm>

      <para>Slaven Rezic <email>eserte@cs.tu-berlin.de</email> ha
        scritto un tutorial su come utilizzare le lettere con
        l'<emphasis>umlaut</emphasis> su una macchina FreeBSD.  Il tutorial
        &egrave; scritto in tedesco e disponibile all'indirizzo <ulink
          url="http://www.de.FreeBSD.org/de/umlaute/">http://www.de.FreeBSD.org/de/umlaute/</ulink>.</para>
    </sect2>

    <sect2>
      <title>Localizzazione lingua giapponese e coreana</title>

      <indexterm>
        <primary>localizzazione</primary>
        <secondary>giapponese</secondary>
      </indexterm>
      <indexterm>
        <primary>localizzazione</primary>
        <secondary>coreano</secondary>
      </indexterm>

      <para>Per il giapponese si faccia riferimento all'url <ulink
          url="http://www.jp.FreeBSD.org/">http://www.jp.FreeBSD.org/</ulink>,
        per il coreano all'url <ulink
          url="http://www.kr.FreeBSD.org/">http://www.kr.FreeBSD.org/</ulink>.</para>
    </sect2>

    <sect2>
      <title>Documentazione non in inglese per FreeBSD</title>

      <para>Alcuni volontari hanno tradotto parte della documentazione
        e delle applicazioni di FreeBSD in altre lingue.
        Si possono contattare seguendo i link segnalati sul
        <ulink url="../../../../index.html">sito ufficiale di FreeBSD</ulink>
        oppure sotto la directory <filename>/usr/share/doc</filename>.</para>
    </sect2>
  </sect1>
</chapter>

<!--
     Local Variables:
     mode: sgml
     sgml-declaration: "../chapter.decl"
     sgml-indent-data: t
     sgml-omittag: nil
     sgml-always-quote-attributes: t
     sgml-parent-document: ("../book.sgml" "part" "chapter")
     End:
-->
