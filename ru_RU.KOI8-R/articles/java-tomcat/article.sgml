<!--
     The FreeBSD Russian Documentation Project

     $FreeBSDru: frdp/doc/ru_RU.KOI8-R/articles/java-tomcat/article.sgml,v 1.2 2004/07/16 12:06:06 den Exp $

     Original revision: 1.19
-->

<!-- Copyright (c) 2002, 2003, 2004
     Hiten Pandya <hmp@FreeBSD.org>, Victoria Chan <vkchan@kendryl.net>.
     
     All rights reserved.

     Redistribution and use in source (SGML DocBook) and 'compiled' forms
     (SGML, HTML, PDF, PostScript, RTF and so forth) with or without
     modification, are permitted provided that the following conditions
     are met:

      1. Redistributions of source code (SGML DocBook) must retain the above
         copyright notice, this list of conditions and the following
         disclaimer as the first lines of this file unmodified.

      2. Redistributions in compiled form (transformed to other DTDs,
         converted to PDF, PostScript, RTF and other formats) must reproduce
         the above copyright notice, this list of conditions and the
         following disclaimer in the documentation and/or other materials
         provided with the distribution.

     THIS DOCUMENTATION IS PROVIDED BY THE AUTHORS AND CONTRIBUTORS "AS IS" 
     AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, 
     THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR 
     PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHORS AND CONTRIBUTORS BE 
     LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR 
     CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF 
     SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS 
     INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN 
     CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
     ARISING IN ANY WAY OUT OF THE USE OF THIS DOCUMENTATION, EVEN IF ADVISED 
     OF THE POSSIBILITY OF SUCH DAMAGE.
-->

<!DOCTYPE article PUBLIC "-//FreeBSD//DTD DocBook V4.1-Based Extension//EN" [
<!ENTITY % man PUBLIC "-//FreeBSD//ENTITIES DocBook Manual Page Entities//EN">
<!ENTITY % trademarks PUBLIC "-//FreeBSD//ENTITIES DocBook Trademark Entities//RU">
%trademarks;

<!--
  URL Entities.  These are in place, to allow wrapping long URLs to the 80th
  column.
-->
<!ENTITY wwwurl  "http://www.FreeBSD.org">
<!ENTITY ftpurl  "ftp://ftp.FreeBSD.org">
<!ENTITY sunurl  "http://www.sun.com">
<!ENTITY tomcaturl  "http://jakarta.apache.org/tomcat">

<!-- The Download URL is too long! :-) -->
<!ENTITY tomcat403 "http://jakarta.apache.org/builds/jakarta-tomcat-4.0/release/v4.0.3/bin/">
%man;
]>

<article lang="ru">
  <!-- START of Article Metadata -->
  <articleinfo>
    <title>&java; и Jakarta Tomcat во FreeBSD</title>

    <authorgroup>      
      <author>
	<firstname>Victoria</firstname>

	<surname>Chan</surname>

	<affiliation>
	  <address><email>vkchan@kendryl.net</email></address>
	</affiliation>
      </author>

      <author>
	<firstname>Hiten</firstname>

	<surname>Pandya</surname>

	<affiliation>
	  <address><email>hmp@FreeBSD.org</email></address>
	</affiliation>
      </author>
    </authorgroup>

    <copyright>
      <year>2002</year>

      <year>2003</year>

      <year>2004</year>

      <holder role="mailto:vkchan@kendryl.net">Victoria Chan</holder>

      <holder role="mailto:hmp@FreeBSD.org">Hiten Pandya</holder>
    </copyright>

    <pubdate>$FreeBSD$</pubdate> 

    <legalnotice id="trademarks" role="trademarks">
      &tm-attrib.freebsd;
      &tm-attrib.cvsup;
      &tm-attrib.linux;
      &tm-attrib.microsoft;
      &tm-attrib.sun;
      &tm-attrib.general;
    </legalnotice>

    <abstract>
      <para>Этот документ создавался с надеждой на облегчение жизни тем, кому
        необходимо установить и запустить &java; на FreeBSD, с наименьшими
        проблемами.  Запланируйте потратить на такой проект целый день, так
        как он занимает время на компиляцию и сборку всех частей сначала по
        отдельности, а потом в целом.  В нём также показывается, как установить
        популярные Jakarta Tomcat Servlet и контейнер &jsp; на операционную
        систему FreeBSD.</para>
    </abstract>
  </articleinfo>
  <!-- END of Article Metadata-->

  <sect1>
    <title>Введение</title>

    <para>Днём рождения языка программирования &java; считается <literal>23 мая
      1995 года</literal>.  Наверное, следует ожидать, что, по прошествии
      такого периода времени, приложения будут легко устанавливаться и работать
      после установки одного пакаджа, или порта FreeBSD, таким образом
      становясь доступными <quote>массам</quote>.  К сожалению, это не наш
      случай, так как права на распространение &java; очень крепко удерживаются
      компанией Sun Microsystems, которая запрещает повторное распространение.
      Все &java;-апплеты должны компилироваться из исходного кода, вместе с
      &java; Development Kit от Sun Microsystems.  Все эти ингридиенты должны
      смешиваться друг с другом в определённой последовательности, собираться и
      компилироваться конечным пользователем.  По моему мнению, при таком
      подходе к распространению &java; будет использоваться только
      разработчиками и хакерами.  Я ещё раз в этом убедился, когда у меня
      возникла необходимость в обработке нескольких
      <filename>.jsp</filename>-страниц клиента на моём Web-сервере, и пришлось
      настраивать <filename role="package">www/jakarta-tomcat</filename> на
      работу с <filename role="package">www/apache13</filename> в моей системе
      FreeBSD.</para>

    <para>Часть, касающаяся установки Tomcat, достаточно понятна, а трудность
      заключалась в том, чтобы заставить &java; Development Kit запускаться и
      работать с FreeBSD 4.X, так как Sun Microsystems поставляет бинарные
      файлы только для Linux, &solaris; и &windowsnt;.  Это значит, что мне
      предстояло компилироваться собственный &jdk; для FreeBSD.  Я начал с
      поиска документации в Internet.  Быстро обнаружилось, что там исходного
      кода и патчей к нему больше, чем мне нужно, но очень мало документации о
      том, что же делать после получения всего необходимого.</para>

    <para>В этой статье вы найдёте, как установить &java; Development Kit на
      FreeBSD и как заставить его работать с Tomcat.  В разделе <xref
      linkend="ref"> даётся дополнительная литература для изучения.</para>
  </sect1>

  <sect1>
    <title>Окружение &java;</title>

    <para>Убедитесь, что ваша коллекция портов обновлена до самого последнего
      состояния, так как попытка построения при помощи <command>make</command>
      из старых исходных текстов будет оканчиваться неудачно.  Вы можете
      полностью обновить вашу колллекцию портов при помощи
      <application>CVSup</application>.  Обратитесь к разделу <ulink
      url="../../books/handbook/cvsup.html"></ulink> для получения более полной
      информации.  Вы можете также сгрузить требуемые вам порты вручную с сайта
      <ulink url="&ftpurl;/pub/FreeBSD/ports/"></ulink>, чтобы
      продолжить.</para>

    <note>
      <para>Вам нужно включить <literal>Linux Emulation</literal> (Linux-ABI) в
        файле конфигурации вашего ядра.  Просто добавьте следующий параметр
        в этот файл и перекомпилируйте ядро.  Инструкции по построению ядра
        можно найти в <ulink URL="../../books/handbook/">Руководстве
        FreeBSD</ulink>.</para>

      <programlisting>options		COMPAT_LINUX</programlisting>

      <para>При перекомпиляции параметр, указанный выше, добавит поддержку
        Linux-ABI к вашему ядру.</para>
    </note>

    <para>Зависимости, приведённые в списке ниже, требуется установить в ручном
      режиме в определённом порядке.  Автоматически сгружаемые зависимости
      здесь не приведены.</para>

    <itemizedlist>
      <listitem>
	<para><filename role="package">java/jdk13</filename></para>
      </listitem>

      <listitem>
	<para><filename role="package">java/linux-jdk13</filename></para>
      </listitem>

      <listitem>
	<para><filename role="package">archivers/gtar</filename></para>
      </listitem>

      <listitem>
	<para><filename role="package">archivers/bzip2</filename></para>
      </listitem>

      <listitem>
	<para><filename role="package">archivers/unzip</filename></para>
      </listitem>

      <listitem>
	<para><filename role="package">archivers/zip</filename></para>
      </listitem>
    </itemizedlist>

    <para>Вам потребуется получить следующее:</para>

    <procedure>
      <step>
	<para>Сгрузить <filename>bsd-jdk131-patches-5.tar.gz</filename>
	  по адресу <ulink
	  url="http://www.eyesbeyond.com/freebsddom/java/jdk13.html"></ulink>
	  и поместить архив в каталог
          <filename>/usr/ports/distfiles</filename>.</para>
      </step>

      <step>
	<para>Затем запустить браузер и перейти на страницу <ulink
          url="http://java.sun.com/j2se/1.3/download-linux.html"></ulink>, где
          найти сгружаемый SDK.  Щёлкните на кнопке <quote>continue</quote>,
          находящейся под <quote>GNUZIP Tar Shell Script</quote>.
          Удостоверьтесь, что вы прочли буквально всё на странице
          лицензирования, прежде чем щёлкнуть на кнопке <quote>Accept</quote>!
          Вы перейдёте на страницу под названием <quote>Download Java(TM) 2
          SDK, Standard Edition 1.3.1_02</quote>.  Прокрутите страницу вниз и
          щёлкните на кнопке <quote>HTTP download</quote>.  После появления
          окошка <quote>File Download</quote>, обязательно щёлкните на кнопке
	  <quote>Open</quote>, а не <quote>Save</quote>.  Будет выдано ещё одно
          окно <quote>File Download</quote> - на этот раз выберите
          <quote>Save</quote>, и теперь вы сможете сохранить файл
          <filename>j2sdk-1_3_1_02-linux-i386.bin</filename>.  Поместите его
          в каталог <filename>/usr/ports/distfiles</filename>.</para>
      </step>

      <step>
	<para>Перейдите на страницу <ulink
	  url="http://www.sun.com/software/java2/download.html"></ulink>.  В
          таблице под <literal>Produce Description</literal>, которая
          называется <literal>Java 2 SDK 1.3.1</literal>, перейдите к ячейке
          справа и щёлкните на <quote>download</quote>.  Вы перейдёте на
          страницу <quote>Sign On</quote>, где должны ввести своё имя, если
          уже имеете учётную запись, либо зарегистрироваться для получения
          доступа.  После того, как вы зарегистрируетесь, то будете
          перенаправлены на страницу <quote>Legal</quote>, где должны будете
          согласиться с условиями лицензионного соглашения; прокрутите вниз
          (прочитайте лицензию) и щёлкните на кнопке <quote>Continue</quote>.
          Следующей страницей будет <quote>Receipt</quote>.  На этом этапе вы
          должны записать ваш номер.  Вам будет предложено выбрать ближайшее к
          вам местоположение.  Щёлкните на <quote>Java 2 SDK, Standard Edition,
	  version 1.3.1</quote>.  Сохраните файл
	  <filename>j2sdk-1_3_1-src.tar.gz</filename> в каталог
	  <filename>/usr/ports/distfiles/</filename>.</para>
      </step>
    </procedure>

    <note>
      <para>Очень важно, чтобы вы прочитали Лицензионное Соглашение (License
        Agreement), которое предлагается компанией Sun Microsystems.  В части,
        касающейся использования &java;, имеется несколько ограничений, которые
        вы должны принимать во внимание.  Проект FreeBSD не несёт никакой
        ответственности за ваши действия.</para>

      <para>Не удаляйте никаких сгруженных вами файлов, так как они будут нужны
        для построения некоторых портов FreeBSD, которые будут обсуждаться
        дальше.</para>
    </note>

    <para>Теперь, когда у вас собраны все исходные файлы и порты, вам
      необходимо начать процесс с построения <filename
      role="package">java/linux-jdk13</filename>:</para>

    <screen>&prompt.root; cd /usr/ports/archivers/gtar; make all install clean
&prompt.root; cd /usr/ports/archivers/unzip; make all install clean
&prompt.root; cd /usr/ports/archivers/zip; make all install clean</screen>

    <para>И, наконец:</para>

    <screen>&prompt.root; cd /usr/ports/java/linux-jdk13
&prompt.root; make all install clean</screen>

    <para>После того, как вы построили <filename
      role="package">java/linux-jdk13</filename>, вам нужно протестировать его,
      чтобы убедиться, что он работает так, как предполагалось.  Для
      этого выполните:</para>

    <screen>&prompt.root; cd /usr/local/linux-jdk1.3.1/bin
&prompt.root; ./java -version</screen>

    <para>Вывод команды выше должен выглядеть следующим образом:</para>

    <programlisting>java version "1.3.1_02"
Java(TM) 2 Runtime Environment, Standard Edition (build 1.3.1_02-b02)
Classic VM (build 1.3.1_02-b02, green threads, nojit)</programlisting>

    <para>Если вы не получили правильный ответ, вам нужно выполнить:</para>

    <screen>&prompt.root; cd /usr/ports/java/linux-jdk13
&prompt.root; make deinstall</screen>

    <para>И убедитесь, что в <filename>/usr/local</filename> нет каталога
      <filename>linux-jdk1.3.1</filename>.  Если вы обнаружите фрагмент
      каталога, удалите его.  Повторите процедуру построения и установки для
      <filename role="package">java/linux-jdk13</filename>.</para>

    <para>Для создания версии <literal>Java Development Kit
      1.3.1</literal> для FreeBSD, выполните следующее:</para>

    <procedure>
      <step>
	<para>Проверьте начилие файла
          <filename>j2sdk-1_3_1-src.tar.gz</filename> в вашем каталоге
	  <filename>/usr/ports/distfiles</filename>.  Этот файл необходим для
          применения <quote>наборов патчей</quote>, обсуждаемых ниже.</para>
      </step>

      <step>
	<para>Для построения порта вам потребуется сгрузить <literal>набор
          патчей</literal>.  Файл с этим набором носит название
	  <filename>bsd-jdk131-patches-6.tar.gz</filename>.  Вы должны также
          проверить целостность файла, сравнив его контрольную сумму
          <acronym>MD5</acronym> со следующей.</para>

        <programlisting>
MD5 (bsd-jdk131-patches-6.tar.gz) = 9cade10b81d6034fdd2176bef32bdbf9</programlisting>

        <para>Набор патчей доступен по ссылке: <ulink
	  url="http://www.eyesbeyond.com/freebsddom/java/index.html">
          </ulink></para>
      </step>
    </procedure>

    <para>Последний этап, указанный выше (построение специальной версии
      &jdk;) займёт некоторое время.</para>
  </sect1>

  <sect1>
    <title>Установка Jakarta Tomcat</title>

    <sect2>
      <title>Обзор</title>

      <para>&java; становится всё более популярной в качестве основы для
        создания различных масштабируемых независимых от платформы решений.
        Одним из наиболее востребованных применений &java; является её
        использование на рынке сервис-провайдеров <acronym>ASP</acronym>
        (Application Service Provider).  &java; является подходящим решением
        для таких рынков, со следующими преимуществами:</para>

      <itemizedlist>
	<listitem>
	  <para>Независимость от платформы</para>
	</listitem>

	<listitem>
	  <para>Широкое признание в отрасли</para>
	</listitem>

	<listitem>
	  <para>Масштабируемость</para>
	</listitem>

	<listitem>
	  <para>Надёжность работы</para>
	</listitem>

	<listitem>
	  <para>Распределённость, многопоточность, безопасность и прочее</para>
	</listitem>
      </itemizedlist>

      <para>Очень важной развивающейся технологией, выросшей из &java;,
        является <acronym>&jsp;</acronym> (&javaserver.pages;).</para>

      <para><acronym>&jsp;</acronym> (&javaserver.pages;) представляет собой
        серверную технологию, созданную компанией <literal>Sun
        Microsystems</literal>, которая даёт простой и быстрый способ генерации
        динамического контента из страниц <acronym>HTML</acronym>.  В ней
        используются теги <acronym>XML</acronym> и скриплеты &java;,
        позволяющие скрывать и отделять логику от особенностей дизайна и
        представления.  При вызове страницы <acronym>&jsp;</acronym> она
        динамически преобразуется в сервлет и обрабатывается сервером для
        генерации конечной страницы <acronym>HTML/XML</acronym> для клиента.
        Когда <acronym>&jsp;</acronym> используется совместно с	JavaBeans, то
        возможно создавать самые разнообразные и сколь угодно масштабируемые
        приложения, которые можно объединить с мощью и производительностью
        FreeBSD.</para>

      <para><application>Tomcat</application> является реализацией технологий
        сервлет &java; и &javaserver.pages; с открытым кодом, которая была
        сделана в рамках проекта Jakarta организацией Apache Software
        Foundation.  Tomcat реализует новую Servlet-технологию (под названием
        Catalina), основанную на абсолютно новой архитектуре по спецификациям
        Servlet 2.3 и <acronym>&jsp;</acronym> 1.2.  Сюда включены много
        дополнительных возможностей, которые делают её удобной платформой для
        разработки и внедрения Web-приложений и Web-сервисов.  По сути своей
        Tomcat является сервером приложений, написанным на все 100%
        исключительно на языке &java;.</para>

      <para>Tomcat используется в разных целях, диапазон его применения не
        ограничен только серверами приложений.  Он предоставляет открытую
        платформу для разработки расширяемых Web-служб и служб управления
        контентом.  При использовании Tomcat на оптимизированной системе
        FreeBSD он обеспечивает высоконадёжную и быструю работу служб.</para>

      <para>Пожалуйста, обратитесь к разделу <xref linkend="ref"> для получения
        дополнительной информации о Tomcat и <acronym>&jsp;</acronym>.
        В следующем разделе будет показано, как построить <quote>Рабочую среду
        Tomcat</quote> для FreeBSD.  В этом руководстве использовалась
        версия Tomcat под номером <literal>4.0.3</literal>.  В ней содержатся
        исправления серьёзных недочётов и следующие
        обновления/изменения:</para>

      <itemizedlist>
	<listitem>
	  <para><literal>Спецификация JSP 1.2</literal></para>
	</listitem>

	<listitem>
	  <para><literal>Спецификация Java Servlet 2.3</literal></para>
	</listitem>

	<listitem>
	  <para><literal>Полная обратная совместимость со спецификациями Java
            Servlet 2.2 и JSP 1.1</literal></para>
	</listitem>
      </itemizedlist>
    </sect2>

    <sect2>
      <title>Рабочая среда Tomcat для FreeBSD</title>

      <para>После настройки необходимой для работы Tomcat среды &java;, что
        мы проделали ранее, установить Tomcat на машину с FreeBSD очень
        просто.</para>

      <para>Для установки Tomcat на FreeBSD следуйте описываемой ниже
        процедуре:</para>

      <procedure>
	<step>
	  <para>Выполните шаги выше для настройки необходимого
            &java;-окружения.</para>
	</step>

	<step>
	  <para>Установите значение переменной окружения
            <envar>JAVA_HOME</envar>, которая должна указывать на каталог, куда
            был установлен &jdk; (в примерах ниже указана ссылка на
            специализированную версию &jdk;).  Если вы используете в качестве
            вашего командного процессора &man.sh.1;, то можете задать значение
	    <envar>JAVA_HOME</envar> при помощи команды:</para>

	  <screen>&prompt.root; export JAVA_HOME="/usr/local/jdk1.3.1"</screen>

	  <para>Те, кто использует &man.csh.1; или совместимый с ним командный
            процессор, должны воспользоваться немного другой командой:</para>

	  <screen>&prompt.root; setenv JAVA_HOME /usr/local/jdk1.3.1</screen>

	  <para>Эта переменная окружения должна быть задана всегда, что
            делается добавлением её в <filename>.profile</filename> или
	    <filename>.cshrc</filename>, в зависимости от используемой вами
            оболочки.  Эта переменная жизненно важна для функционирования всех
            программ на основе &java;, включая сам Tomcat.</para>
	</step>

	<step>
	  <para>Сгрузите <quote>бинарный дистрибутив</quote> Tomcat с Web-сайта
            Jakarta, расположенного по адресу <literal><ulink
            url="&tomcat403"></ulink></literal>.  Сгружаемый файл имеет
            название <filename>jakarta-tomcat-4.0.3.tar.gz</filename>.</para>
	</step>

	<step>
	  <para>При упаковке и архивации файла, сгруженного нами на предыдущем
            шаге, использовались особые <quote>GNU-расширения</quote>.  Для
            его распаковки нам необходимо установить программу <literal>GNU Tar
            (<filename role="package">archivers/gtar</filename>)</literal> при
            помощи такой команды:</para>

	  <screen>&prompt.root; cd /usr/ports/archivers/gtar &amp;&amp; make all install clean</screen>
	</step>

	<step>
	  <para>Разархивируйте и распакуйте файл
            <filename>jakarta-tomcat-4.0.3.tar.gz</filename> в каталог
	    <filename>/usr/local</filename> и переименуйте каталог в
            <filename>tomcat-4.0</filename> для облегчения его
            использования:</para>

	  <screen>&prompt.root; cd /usr/local
&prompt.root; gtar zxvf jakarta-tomcat-4.0.3.tar.gz
&prompt.root; ls jakarta*
jakarta-tomcat-4.0.3
&prompt.root; mv jakarta-tomcat-4.0.3 tomcat-4.0</screen>

	  <para>Если хотите, то файл
            <filename>jakarta-tomcat-4.0.3.tar.gz</filename> можно
            удалить.</para>
	</step>
      </procedure>

      <note>
	<para><literal>Вопрос установки с использованием исходного кода выходит
          за рамки этого документа.  Пожалуйста, для получения дополнительной
          информации о построении из исходных текстов обратитесь к следующим
          файлам, находящимся в каталоге с дистрибутивом
          Tomcat:</literal></para>

	<itemizedlist>
	  <listitem>
	    <para><filename>/usr/local/tomcat-4.0/README.txt</filename></para>
	  </listitem>

	  <listitem>
	    <para>
              <filename>/usr/local/tomcat-4.0/BUILDING.txt</filename></para>
	  </listitem>
	</itemizedlist>
      </note>
    </sect2>

    <sect2>
      <title>Управление Tomcat - основы</title>

      <para>Теперь мы закончили установку Tomcat.  В следующем примере
        показано, как запустить сервер Tomcat:</para>

      <screen>&prompt.root; cd /usr/local/tomcat-4.0/bin
&prompt.root; ./startup.sh  (for starting Tomcat)</screen>

      <para>Вы можете проверить, запустился ли ваш сервер Tomcat, посетив
        такой URL: <literal>http://127.0.0.1:8080</literal> или
	<literal>http://localhost:8080</literal>.  Для остановки Tomcat:</para>

      <screen>&prompt.root; cd /usr/local/tomcat-4.0/bin
&prompt.root; ./shutdown.sh</screen>

      <para>(для остановки Tomcat)</para>

      <para>Скрипты <filename>startup.sh</filename> и
	<filename>shutdown.sh</filename> являются конечными интерфейсами для
        выполнимого скрипта <filename>catalina.sh</filename> из того же самого
        каталога; если вам нужно запускать Tomcat автоматически во время
        загрузки системы, выполните:</para>

      <screen>&prompt.root; cd /usr/local/etc/rc.d
&prompt.root; ln -s /usr/local/tomcat-4.0/bin/catalina.sh</screen>

      <para>Отредактируйте файл <filename>catalina.sh</filename>, добавив в его
        начало (после раздела комментариев):</para>

      <programlisting>JAVA_HOME=/usr/local/jdk1.3.1</programlisting>

      <para>Если сетевой порт <literal>8080</literal> уже занят каким-то
        сервисом, вы можете изменить его, отредактировав файл
	<filename>server.xml</filename> в каталоге Tomcat
	<filename>conf/</filename>.  В примере ниже порт будет изменён на 80,
        в предположении, что на этом порту никаких сервисов не запущено.</para>

      <screen>&prompt.root; cd /usr/local/tomcat-4.0/conf
&prompt.root; fgrep -n 8080 server.xml
~65:         By default, a non-SSL HTTP/1.1 Connector is established on port 8080.
~89:         port="8080" minProcessors="5" maxProcessors="75"
&prompt.root; cat server.xml | sed s/8080/80/ > server.xml.new
&prompt.root; mv server.xml.new server.xml</screen>
    </sect2>
  </sect1>

  <sect1 id="ref" xreflabel="reference">
    <title>Ссылки</title>

    <informaltable>
      <tgroup cols="1">
	<tbody>
	  <row>
	    <entry>
	      <ulink url="&wwwurl;/java">Проект FreeBSD &java;</ulink>
	    </entry>
	  </row>

	  <row>
	    <entry>
	      <ulink url="http://java.sun.com">JavaSoft. Главная страница
              &java;</ulink>
	    </entry>
	  </row>

	  <row>
	    <entry>
	      <ulink
		url="&sunurl;/software/communitysource/java2/licensing.html">
                Лицензирование Sun Community Source Licensing для
                &java;</ulink>
	    </entry>
	  </row>

	  <row>
	    <entry>
	      <ulink url="&tomcaturl">Главная страница Jakarta Tomcat</ulink>
	    </entry>
	  </row>

	  <row>
	    <entry>
	      <ulink url="http://java.sun.com/docs/index.html">Документация по
              J2SE</ulink>
	    </entry>
	  </row>

	  <row>
	    <entry>
	      <ulink url="&wwwurl;/ports/java.html">Порты FreeBSD - Раздел
              &java;</ulink>
	    </entry>
	  </row>
	</tbody>
      </tgroup>
    </informaltable>

    <sect2>
      <title>Заключение</title>

      <para>Итак, мы достигли конца статьи и получили рабочую версию Tomcat.
        Мы надеемся, что вы овладели основами установки и построения &java;
        Development Kit на FreeBSD, а также научились устанавливать бинарный
        дистрибутив сервера приложений Tomcat, выпущенный Apache Software
        Foundation.  В разделе <xref linkend="ref"> находятся ссылки на
        дополнительные ресурсы по этому вопросу, некоторые в печатном виде,
        некоторые в World Wide Web или в обоих видах.</para>

      <para>Самой важным моментом является дисковое пространство.  Я советую
        иметь <literal>700 Мбайт</literal> или больший объём свободного
        пространства в каталоге	<filename>/usr</filename>.  Я надеюсь, что
        эта статья немного помогла вам.  Все вопросы, комментарии,
        благодарности и негодования, пожалуйста, направляйте авторам.</para>
    </sect2>
  </sect1>
</article>
