.\"
.\"
.\"  To format this reference page, use the command:
.\"
.\"    nroff -man ee.1
.\"
.\"  %Header: /home/ncvs/src/usr.bin/ee/ee.1,v 1.3.4.1 1997/09/15 01:35:12 jkh Exp %
.\"
.\" jpman %Id: ee.1,v 1.3 1997/09/22 17:54:07 horikawa Stab %
.\"
.TH ee 1 "" "" "" ""
.SH 名称
ee \- 簡単エディタ
.SH 書式
.nf
ee [-e] [-i] [-h] [+#] [\fIfile\fR ...]
ree [-e] [-i] [-h] [+#] [\fIfile\fR ...]
.ta
.fi
.ad b
.SH 解説
コマンド
.I ee
はシンプルなスクリーンエディタで、端末の下部にプロンプトがあるか、
(端末中央の箱の中に) メニューがあるとき以外は、
常にテキスト挿入モードになっています。
コマンド
.I ree
は
.I ee 
と同じものですが、指定されたファイルの編集しかできない (ファィル操作やシェル
を使うことができない) ように機能が制限されています。
.PP
.I ee
を正常に動作させるためには、使用する端末のタイプに合わせて、環境変数
.SM TERM 
を正しく設定しなければなりません。例えば、
.SM HP 700/92 
端末の場合は、
.SM TERM 
変数を "70092" に設定する必要があります。
更に詳しい情報が必要な場合は、システム管理者にお尋ねください。
.\"
.\"     options
.\"
.SS オプション
コマンド行から下記のオプションが使用可能です:
.PP
.TP 4
.B -e
タブからスペースへの展開を禁止します。
.TP 
.B -i
端末上部に情報ウィンドウを表示しません。
.TP
.B -h
ウィンドウとメニューの縁の強調表示を止めます (一部の端末で
表示速度が向上します)。
.TP
.B +#
スタート時のカーソルを行番号 # で指定される行に置きます。
.br
.\"
.\"     control keys
.\"
.SS "コントロール・キー"
テキストの挿入以外の操作では、コントロールキー (
.B Control
キーは "^" で表示され、例えば ^a のように、
アルファベットキーと組み合わせて使われます) や、
キーボード上にあるファンクションキー (
.BR "Next Page" ", " "Prev Page" ,
矢印キー等) を使わなければなりません。
.PP
すべての端末がファンクションキーを持っているわけではありませんから、
.I ee
ではコントロールキーに割り当てられた基本的なカーソル移動は、
キーボードに装備された、より直感的なキーでも扱えるようにしてあります。例えば、
カーソルの上方移動は、上向き矢印キーと
.BR ^u
のいずれでも可能です。
.RS 4
.nf
.ta 1.2i
.sp
^a 	挿入文字を ASCII の 10 進数で指定。
^b 	テキストの終わりに移動。
^c 	コマンド入力。
^d 	カーソルを下に移動。
^e 	検索文字列を入力。
^f 	最後に削除した文字の復元。
^g 	行の先頭に移動。
^h 	バックスペース。
^i 	タブ。
^j 	改行。
^k 	カーソル上の文字を消去。
^l 	カーソルを左に移動。
^m 	改行を挿入。
^n 	次ページに移動。
^o 	行末に移動。
^p 	前ページに移動。
^r 	カーソルを右に移動。
^t 	テキスト先頭に移動。
^u 	カーソルを上に移動。
^v 	最後に削除した単語を復元。
^w 	カーソル位置以降の単語を削除。
^x 	文字列検索。
^y 	カーソル位置から行末まで削除。
^z 	最後に削除した行の復元。
^[ (ESC)	メニュー表示。
.ta
.fi
.RE
.sp
.SS "EMACS キーモード"
.PP
多くのシェルは (カーソル移動その他の編集操作で) Emacs モードを
用意していますから、それらのキー割当に慣れた利用者のために、
いくつかのキー割当が別途用意さています。これは
.B 設定 
メニューないしは初期化ファイル (下記を参照) から利用することができ、
その内容は次のとおりです。
.RS
.nf
.ta 1.2i
^a 	行の先頭に移動。
^b 	1 文字後退。
^c 	コマンド入力。
^d 	カーソル位置の文字を消去。
^e  	行末に移動。
^f 	1 文字前進。
^g 	1 ページ戻る。
^h 	バックスペース。
^i 	タブ。
^j 	最後に消去した文字の復元。
^k 	行の削除。
^l 	最後に削除した行の復元。
^m 	改行を挿入。
^n 	次行に移動。
^o 	挿入文字を ASCII の 10 進値で指定。
^p 	前行に戻る。
^r 	削除した単語の復元。
^t 	テキストの先頭に移動。
^u 	テキストの最後に移動。
^v 	次ページに移動。
^w 	カーソル以降の単語を削除。
^y 	検索文字列の入力。
^z 	次の単語。
^[ (ESC)	メニュー表示。
.ta
.fi
.RE
.sp
.\"
.\"     function keys
.\"
.SS "ファンクションキー"
.RS 4
.IP "\fBNext Page\fR"
次ページに移動。
.IP "\fBPrev Page\fR"
前ページに移動。
.IP "\fBDelete Char\fR"
カーソル位置の文字を消去。
.IP "\fBDelete Line\fR"
カーソル位置から行末まで消去。
.IP "\fBInsert line\fR"
カーソル位置に改行を挿入。
.IP "\fB矢印キー\fR"
表示された方向にカーソルを移動。
.RE
.\"
.\"     commands
.\"
.SS コマンド
.PP
ある種の操作では単一のキー操作で得られる以上の情報を必要とします。
基本的な操作のほとんどには、
.SM \fBESC\fR
キーで表示されるメニューが用意されていますが、
それらに加え、いくつかの操作は、コマンド入力 (^c) に続いて
下記のうち一つをタイプすることで実行できます。
.RS 4
.IP "!\fBcmd\fR"
シェルを使って \fBcmd\fR を実行。
.IP "\fB0-9\fR"
指定された行番号に移動。
.IP "\fBcase\fR"
文字列検察で大文字と小文字を区別。
.IP "\fBcharacter\fR"
カーソル位置の文字の ASCII 値を表示。
.IP "\fBexit\fR"
編集したテキストを保存して終了。
.IP "\fBexpand\fR"
タブをスペースに展開。
.IP "\fBfile\fR"
ファイル名を表示。
.IP "\fBhelp\fR"
ヘルプ画面を表示。
.IP "\fBline\fR"
現在行の行番号を表示。
.IP "\fBnocase\fR
文字列検索で大文字と小文字を区別しない (デフォルト)。
.IP "\fBnoexpand\fR"
TAB キーが押されたとき、タブをスペースに展開しない。
.IP "\fBquit\fR"
テキストに加えられた変更を保存せずに終了。
.IP "\fBread\fR \fIfile\fR"
指定されたファイル \fIfile\fR を読み込む。
.IP "\fBwrite\fR \fIfile\fR"
指定されたファイル \fIfile\fR にテキストを書き込む。
.RE
.\"
.\"     menu operations
.\"
.SS "メニュー操作"
.PP
.B escape 
キー (存在しない場合は
.B ^[ 
) を押すとメニューがでてきます。
メニューの中で escape キーを押すと、何もしないでメニューから抜け出すことが
できます。上向き矢印と下向き矢印ないしは、上なら
.B ^u
下なら
.B ^d 
で希望する項目に移動して、
.B return 
キーを押せば、その処理が実行されます。
.PP
メニュー項目の左側の文字のキーを押すと、そのメニューエントリを
選択することになります。
.PP
\fIee\fR のメインメニューは次のとおりです。
.RS 4
.IP "\fBleave editor\fR" 
終了。
変更されている場合は、変更後のテキストを保存するかどうかの問い合わせ
メニューが出ます。
.IP "\fBhelp\fR"
ヘルプ。
すべてのキー操作とコマンドを含むヘルプ画面を表示。
.IP "\fBfile operations\fR"
ファイル操作。
ファイルの読み込み、書き込み、保存に加え、
編集内容の印刷コマンドへの送信メニュー (「ファイルによる ee の初期化」
を参照) 。
.IP "\fBredraw screen\fR"
画面再描画。
画面が乱れたとき画面を再描画するための手段。
.IP "\fBsettings\fR"
設定。
現在の操作モードと右マージンを表示。特定の項目上で return キーを押すと、
その値を変更できます。
このメニューから抜ける場合は \fBescape\fR キーを押します。(下記の
「モード」を参照) 
.IP "\fBsearch\fR"
.br
検索。
新しい検索文字列ないしは既に設定した検索文字列で検索するためのメニュー。
.IP "\fBmiscellaneous\fR"
その他。
現在の段落の整形、シェルコマンドの実行、編集中のテキストのスペルチェック
を行うためのメニュー。
.RE
.\"
.\"     paragraph formatting
.\"
.SS "段落整形"
.PP
\fIee\fR の段落 (paragraph) は、下記のいずれかで囲まれた部分を意味します。
.sp 
.RS 8
.IP \(bu 
ファイルの先頭と終わり。
.IP \(bu
文字を含まないない行、ないしは、スペースとタブのみの行。
.IP \(bu
ピリオド ('.') か 大なり記号 ('>') で始まる行。
.RE
.PP
段落整形を行う方法としては、メニューの\fB段落整形 (format paragraph)\fRを
選択して明示的に行う方法と、
段落の自動整形を行うように \fIee\fR を設定する方法の二つがあります。
.PP
\fIee\fR のテキスト操作には、自由形式 (free-form)、マージン (margins)、
自動整形 (automatic formatting) の３つの状態があります。
.PP
「自由形式」はプログラミングのような仕事に最適で、行の長さの制限がなく、
整形も行われません。
.PP
「マージン」を使うと、右マージン (これは「設定」メニューで指定しますが、
デフォルトは端末の右縁になっています) を越えていないかどうかを気にせずに
テキストをタイプすることができます。
.PP
「自動整形」はワードプロセッサのようなふるまいをします。
ユーザがテキストを入力する一方で、
空白文字が入力されるかテキストを削除するたびに、
\fIee\fR は段落全体が端末の幅を越えないように調整します。
自動整形を使う場合は、マージンも有効にしておかなければなりません。
.\"
.\"     modes
.\"
.SS モード
.PP
ee そのものは「モードなし」(modeless) エディタ (常にテキスト挿入モードに
なっています) ですが、その動作の中には次のようなモードをもつものもあります。
.RS 4
.IP "\fBタブ拡張\fR"
タブ文字として挿入するか、空白文字に置換するかを決めます。
.IP "\fB大文字と小文字の区別\fR"
文字列検索では、大文字と小文字を区別することもできますし、
同一視させることもできます。
.IP "\fBマージン監視\fR"
行の長さを右マージンまでに制限することもできますし、
無限に長くすることもできます。
.IP "\fB段落の自動整形\fR"
テキストの入力中、うまく画面の幅に収まるように、
エディタに調整させることができます。
.IP "\fB8 ビット文字\fR"
8 ビット文字をそのまま表示させるか、
その値を角括弧で囲んで表示 ("<220>" 等) させるかの切り替えです。
.IP "\fB情報ウィンドウ\fR"
実行可能なキー操作を表示するウィンドウを出すか出さないかを選択します。
.IP "\fBemacs キー割当\fR"
コントロールキーの割り当てを emacs 方式にするかどうかを決めます。
.RE
.PP
これらのモードは初期化ファイル (下記を参照) とメニュー (上記を参照) の
いずれでも設定可能です。
.\"
.\"     spell checking
.\"
.SS "スペルチェック"
.PP
\fIee\fR でテキストに含まれる単語のスペルをチェックする方法には、
伝統的な \fIspell\fR(1) コマンドを使う方法と、
\fIispell\fR(1) コマンドを使う方法の二つがあります。
.PP
\fIspell\fR を使う場合は、認識できない単語はファイルの先頭に置かれます。
\fIispell\fR の場合は、ファィルをいったんディスクに書き出し、
\fIispell\fR にそのファイルを処理させてから、
\fIispell\fR が書き換えたファイルを再度読み込みます。
.\"
.\"     printing
.\"
.SS "編集内容の印刷"
.PP
メニューの中に編集内容を印刷する項目があります。
.I ee
は初期化コマンドの
.B printcommand
(下記の「ファイルによる ee の初期化」を参照) で指定されたコマンドに
編集中のテキストをパイプで転送します。
デフォルトでは "lp" コマンドに転送します。
.PP
.B printcommand 
で指定されたコマンドは、標準入力からテキストを読み込むものでなければ
なりません。詳細はシステム管理者に聞いてください。
.\"
.\"     shell operations
.\"
.SS "シェルの操作"
.PP
「
.B その他 (miscellaneous)
」のメニューで「
.B シェルコマンド (shell command)
」を選ぶか、「
.B コマンド
」で感嘆符 ("!") に続けて実行したいコマンドを書くことで、
.I ee
の中からシェルにコマンドを実行させることができます。さらに、"!' の前に
「大なり記号」(">") を書くことで、編集バッファの内容をシェルコマンドに
リダイレクトすることができます。
同様に、感嘆符の前に「小なり記号」("<") を書くと、
シェルコマンドの実行結果を編集バッファに取り込みます。
これらを同時に指定することで、シェルコマンドに出力した後、コマンドの
実行結果を読み直すことも可能です。
従って、エディタで編集中の単語のリストをソートしたい場合は、
コマンド入力で次のようにタイプすることができます:
.RS 4
.sp
><!sort
.sp
.RE
これでエディタの内容を
.I sort 
ユーティリティにパイプ出力し、その結果を編集バッファの現在の
カーソル位置に取り込むことができます。
必要なら、自分で古い情報を消去してください。
.\"
.\"     initializing ee from a file
.\"
.SS "ファイルによる ee の初期化"
.PP
ユーザの好みはまちまちですから、\fIee\fR も簡単なカスタマイズ機能を
備えています。
.\" ↑ 原文は configurability であるがカスタマイズ機能と意訳した
.\"    by sakai@jp.freebsd.org  1997.6.19
ee の初期化ファィルの置き場所は、
\fI/usr/share/misc/init.ee\fR、
ユーザのホームディレクトリ中の \fI.init.ee\fR、
カレントディレクトリ (ホームティレクトリと一致しない場合) 中
の \fI.init.ee\fR の 3 つです。
これを使うと、システム管理者がシステム全体の
標準 (例えば、「印刷」コマンド) を設定したり、
ユーザがディレクトリ毎に設定を変える (一つはメイルの読み書き用、
もう一つはプログラミング用など) ことができます。
.PP
最初に読み込まれるファイルは \fI\/usr/share/misc/init.ee\fR で、次に 
\fI$HOME/.init.ee\fR、最後に \fI.init.ee\fR を読みます。
後から読み込んだファイルの指定が優先されます。
.PP
初期化ファィルには、次の項目を記入することができます:
.RS 4
.IP \fBcase\fR
文字列検索で大文字と小文字を区別します。
.IP \fBnocase\fR
文字列検索で大文字と小文字を区別しません。(デフォルト)
.IP \fBexpand\fR
タブを空白文字に展開します。(デフォルト)
.IP \fBnoexpand\fR 
タブを単一の文字として入力します。
.IP \fBinfo\fR
小さな情報ウィンドウを端末の上部に表示します。(デフォルト)
.IP \fBnoinfo\fR
情報ウィンドウを表示しません。
.IP \fBmargins\fR
テキスト入力中にユーザが設定した右マージンを越えないように、
行を折り返します。(デフォルト) 
.IP \fBnomargins\fR
右マージンを越える行を許します。
.IP \fBautoformat\fR
テキストの挿入時に、現在の段落を自動整形します。
.IP \fBnoautoformat\fR
段落の自動整形をしないようにします。(デフォルト)
.IP \fBprintcommand\fR
印刷コマンドを設定します。 (デフォルト値は "lp") 
.IP \fBrightmargin\fR
右マージンの値を選択します (画面の最初の桁を 0 とします)。
.IP \fBhighlight\fR
情報ウィンドウとメニューウィンドウの縁を強調表示します。 (デフォルト)
.IP \fBnohighlight\fR
情報ウィンドウとメニューウィンドウの縁の強調表示をやめます。
.IP \fBeightbit\fR
8 ビット文字を表示します。
.IP \fBnoeightbit\fR
8 ビット文字の表示をやめます (例えば、"<220>" のように角括弧で囲まれた数値
で表示します)。
.IP \fBemacs\fR
emacs のキー割り当てにします。
.IP \fBnoemacs\fR
emacs のキー割り当てをやめます。
.RE
.\"
.\"     save editor configuration
.\"
.SS エディタの設定の保存
.PP
.B settings 
メニューからこのエントリを使用すると、
ユーザは現在のエディタの設定(前記 \fBファイルによる ee の初期化\fR 参照)
を現在のディレクトリもしくはユーザのホームディレクトリのファイル
.I .init.ee 
に保存できます。
既に存在するファイル
.I .init.ee 
は
.I .init.ee.old
にリネームされます。
.\"
.\"     Caveats
.\"
.SH CAVEATS
.PP
(原文)
.\" こういう部分は日本語訳により細かなニュアンスが変わって問題になる
.\" かもしれないので、原文のままにしてあります。 sakai@jp.freebsd.org 1997.6.19
.br
THIS MATERIAL IS PROVIDED "AS IS".  THERE ARE 
NO WARRANTIES OF ANY KIND WITH REGARD TO THIS 
MATERIAL, INCLUDING, BUT NOT LIMITED TO, THE 
IMPLIED WARRANTIES OF MERCHANTABILITY AND 
FITNESS FOR A PARTICULAR PURPOSE.  Neither 
Hewlett-Packard nor Hugh Mahon shall be liable 
for errors contained herein, nor for 
incidental or consequential damages in 
connection with the furnishing, performance or 
use of this material.  Neither Hewlett-Packard 
nor Hugh Mahon assumes any responsibility for 
the use or reliability of this software or 
documentation.  This software and 
documentation is totally UNSUPPORTED.  There 
is no support contract available.  Hewlett-Packard 
has done NO Quality Assurance on ANY 
of the program or documentation.  You may find 
the quality of the materials inferior to 
supported materials. 
.PP
(上記段落の日本語訳  −参考−)
.br
このプログラムはこのままの状態 (AS IS) で供給されるもので、実用性や特定用途
に対する適合性を含む、いかなる保証もありません。Hewlett-Packard と Hugh Mahon 
のいずれも、このプログラムの間違い、あるいは、設置や使用に付随ないしは結果と
して生ずるいかなる問題についても責任を負いません。Hewlett-Packard と Hugh 
Mahon のいずれも、このプログラムとドキュメントの信頼性に対する責任を負いませ
ん。このプログラムとドキュメントに対するサポートはありませんし、サポートの窓
口もありません。Hewlett-Packard はプログラムとドキュメントの品質検査行ってい
ません。サポートのある製品にくらべて品質が劣る可能性もあります。
.PP
編集前の状態に戻すのが困難なファイルについては、常にコピーを残してください。
早めにファイルに保存し、小刻みに保存操作を行ってください。
.SS "国際コードセットのサポート"
.I ee 
は 8 ビット文字コードをサポートしています (8 ビットクリーン)。
.SH 警告
低速システムでは、段落自動整形は極端に遅くなります。
.SH 関連ファイル
.PP
.I /usr/share/misc/init.ee
.br
.I $HOME/.init.ee
.br
.I .init.ee
.SH 作者
.PP
.I ee
の作者は Hugh Mahon です。
.PP
.\" 以下の部分も原文を残し、和訳併記としてあります。
.\"               sakai@jp.freebsd.org 1997.6.19
This software and documentation contains 
proprietary information which is protected by 
copyright.  All rights are reserved. 
.br
このプログラムとドキュメントは著作権法により保護されており、
すべての権利は著作者が有します。
.PP
Copyright (c) 1990, 1991, 1992, 1993, 1995 Hugh Mahon.
.SH 関連項目
.PP
termcap(5), terminfo(5), environ(7), spell(1), ispell(1), lp(1)
.SH 日本語マニュアル
.PP
平林浩一 (kh@mogami-wire.co.jp) による ee 日本語化キットに含まれている
日本語化 ee の日本語マニュアルをベースに、
酒井淳嗣 (sakai@jp.freebsd.org) が一部修正。
