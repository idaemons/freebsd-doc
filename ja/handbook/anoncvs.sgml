<!-- $Id: anoncvs.sgml,v 1.2 1999-02-03 07:03:16 hanai Exp $ -->
<!-- The FreeBSD Japanese Documentation Project -->
<!-- Original revision: 1.2 -->

<sect1><heading>Anonymous CVS<label id="anoncvs"></heading>

<p><em>原作: &a.jkh;</em>

<p><em>訳: &a.sugimura;.<newline>19 July 1998.</em>

<sect2><heading>導入<label id="anoncvs:intro"></heading>

<p>Anonymous CVS (もしくは, <em>anoncvs</em> として知られています) は
離れたところにある CVS リポジトリと同期を取るために FreeBSD に付属している
CVS ユーティリティに含まれている機能です. 他にもありますが, それは FreeBSD の
ユーザが, 特別な権限なしに FreeBSD プロジェクトの公式な anoncvs サーバに
読み取り専用で CVS の操作をすることができるようにするためのものです.
それを使うには, 単に <bf>CVSROOT</bf> 環境変数を設定して適切な anoncvs サーバを
指定し, そして <tt>cvs(1)</tt> コマンドを使って手元にあるリポジトリのように
アクセスするだけです.

<p><ref id="cvsup" name="CVSup"> と <tt>anoncvs</tt> のサービスは本質的に
同じ機能ではないかということも言われていますが, ユーザが同期を取る方法を
選ぶときに影響を与えるようなさまざまなトレードオフが存在します.
要約して言えば, <tt>CVSup</tt> はネットワーク資源の使い方においては
非常に効率がよく, またはるかに技術的に洗練されたものですが,
相当な手間がかかります. <tt>CVSup</tt> を使うには, 特別なクライアントをまず
インストールして設定しなくては 1bit も取ってくることができず, またそのとき
<tt>CVSup</tt> では <em>collections</em> と呼んでいるかなり大きなかたまり
だけからしか取ってこれません.

<p>それに対して <tt>anoncvs</tt> では, CVS モジュールの名前を指定することで
特定のプログラムの (<em>ls</em> や <em>grep</em> のような) 個々のファイルから
調べることができます.  もちろん, <tt>anoncvs</tt> は CVS リポジトリの
読み取り専用の操作に対してのみ適しているので, もしあなたが
FreeBSD プロジェクトのものと共有されたなにかローカルなリポジトリを作って
そこでの開発を行おうというときには, <tt>CVSup</tt> だけが
唯一の手段となってしまいます.

<sect2><heading>Anonymous CVS を使う<label id="anoncvs:usage"></heading>

<p><tt>cvs(1)</tt> を設定して Anonymous CVS リポジトリを使うには
単に <bf>CVSROOT</bf> 環境変数を設定して FreeBSD プロジェクトの
<tt>anoncvs</tt> サーバを指定するだけのことです. 
この文書を書いているときには, 次のサーバが利用できるようになっています.

<itemize>
  <item><bf>USA</bf>: anoncvs@anoncvs.freebsd.org:/cvs</item>
</itemize>

<p>CVS はかつて存在した (もしくは, 時にはこれから存在するものも :)
ほとんどどんなバージョンの FreeBSD のソースを "check out" することができますが,
あなたは <tt>cvs(1)</tt> の リビジョン (<em>-r</em>) のオプションや
FreeBSD プロジェクトのリポジトリの中でそれをどのように指定したらいいものか
ということをよく知っておく必要があります.

<p>タグには 2 種類あって, リビジョンタグとブランチタグがあります.
リビジョンタグは特定の改訂版を指しており, それはいつも同じものを意味しています.
一方ブランチタグは, 指定されたときの指定された開発の流れにおける
最も新しい改訂版を示しています. ブランチタグは特定の改訂版を指していないために,
その意味はきょうと明日では違うものになっているでしょう.

<p>ユーザが興味を持つであろうブランチタグの一覧です.

<descrip>
  <tag/HEAD/
    主要部をなす流れ, すなわち FreeBSD-current のための名前です.
    また, どのリビジョンも指定されなかったときにはこれになります.
  <tag/RELENG_3/
    FreeBSD-3.x の開発のための流れです. FreeBSD-stable としても知られています. ports コレクションには無効です.
  <tag/RELENG_2_2/
    FreeBSD-2.2.x の開発のための流れです. 2.2-stable としても
    知られています.
    ports コレクションにはふさわしくありません.
  <tag/RELENG_2_1_0/
    FreeBSD-2.1.x の開発のための流れです - このブランチは
    大部分がすたれています.
    ports コレクションにはふさわしくありません.
</descrip>

<p>ユーザが興味を持つであろうリビジョンタグの一覧です.

<descrip>
  <tag/RELENG_2_2_6_RELEASE/
  FreeBSD-2.2.6.
  ports コレクションにはふさわしくありません.
  <tag/RELENG_2_2_5_RELEASE/
  FreeBSD-2.2.5.
  ports コレクションにはふさわしくありません.
  <tag/RELENG_2_2_2_RELEASE/
  FreeBSD-2.2.2.
  ports コレクションにはふさわしくありません.
  <tag/RELENG_2_2_1_RELEASE/
  FreeBSD-2.2.1.
  ports コレクションにはふさわしくありません.
  <tag/RELENG_2_2_0_RELEASE/
  FreeBSD-2.2.0.
  ports コレクションにはふさわしくありません.
  <tag/RELENG_2_1_7_RELEASE/
  FreeBSD-2.1.7.
  ports コレクションにはふさわしくありません.
  <tag/RELENG_2_1_6_1_RELEASE/
  FreeBSD-2.1.6.1.
  ports コレクションにはふさわしくありません.
  <tag/RELENG_2_1_6_RELEASE/
  FreeBSD-2.1.6.
  ports コレクションにはふさわしくありません.
  <tag/RELENG_2_1_5_RELEASE/
  FreeBSD-2.1.5.
  ports コレクションにはふさわしくありません.
  <tag/RELENG_2_1_0_RELEASE/
  FreeBSD-2.1.0.
  ports コレクションにはふさわしくありません.
</descrip>

<p>ブランチタグを指定したときには, 普通はその開発の流れにおける最も新しい
バージョンのファイルを受け取ることができます. もし以前のバージョンのものが
欲しいときには, 日付を <em>-D date</em> オプションを使って指定すればよいです.

<sect2><heading>例</heading>

<p>本当はなにかする前には <tt>cvs(1)</tt> のマニュアルページの全体をちゃんと
読んでからのほうがいいのですが, Anonymous CVS の使い方の本質的なところを
簡単に例を挙げて説明します.

<p>-current (ls(1)) をちょっと確認してから消してみます.

<verb>
% setenv CVSROOT anoncvs@anoncvs.freebsd.org:/cvs
% cvs co ls
% cvs release -d ls
</verb>

<p>ls(1) のバージョンを 2.2-stable ブランチから調べてみます.

<verb>
% setenv CVSROOT anoncvs@anoncvs.freebsd.org:/cvs
% cvs co -rRELENG_2_2 ls
% cvs release -d ls
</verb>

<p>FreeBSD 2.2.2 と FreeBSD 2.2.6 とで ls(1) の変更点のリストを (unidiff で) 
作ってみます.

<verb>
% setenv CVSROOT anoncvs@anoncvs.freebsd.org:/cvs
% cvs rdiff -u -rRELENG_2_2_2_RELEASE -rRELENG_2_2_6_RELEASE ls
</verb>

<p>他のどんなモジュールの名前が使われているか検索してみます.

<verb>
% setenv CVSROOT anoncvs@anoncvs.freebsd.org:/cvs
% cvs co modules
% more modules/modules
% cvs release -d modules
</verb>

<sect2><heading>他の資料</heading>

<p>次の資料は CVS を学ぶのに役に立つでしょう.

<itemize>
  <item><url url="http://www.csc.calpoly.edu/~dbutler/tutorials/winter96/cvs/"
  name="CVS チュートリアル">, Cal Poly によります.</item>
  <item><url url="http://www.cyclic.com" name="Cyclic Software">, 商用として
  CVS を維持しています.</item>
  <item><url url="http://www.freebsd.org/cgi/cvsweb.cgi" name="CVSWeb">
  は FreeBSD Project の CVS のための web インターフェースです.</item>
</itemize>
