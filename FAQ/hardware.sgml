<!-- $Id: hardware.sgml,v 1.13 1998-09-29 11:48:19 wosch Exp $ -->
<!-- The FreeBSD Documentation Project -->

  <sect>
    <heading>Hardware compatibility <label id="hardware"></heading>

    <sect1>
      <heading>What kind of hard drives does FreeBSD support?</heading>

      <p>FreeBSD supports EIDE and SCSI drives (with a compatible
      controller; see the next section), and all drives using the
      original "Western Digital" interface (MFM, RLL, ESDI, and
      of course IDE). A few ESDI controllers that use proprietary
      interfaces may not work: stick to WD1002/3/6/7 interfaces
      and clones.

    <sect1>
      <heading>Which SCSI controllers are supported?</heading>

      <p>See the complete list in the 
      <htmlurl url="../handbook/install:hw.html" 
       name="Handbook">.

    <sect1>
      <heading>Which CD-ROM drives are supported by FreeBSD?</heading>

      <p>Any SCSI drive connected to a supported controller is supported.

      <p>The following proprietary CD-ROM interfaces are also supported:

      <itemize>
        <item>Mitsumi LU002 (8bit), LU005 (16bit) and FX001D (16bit 2x Speed).
        <item>Sony CDU 31/33A<newline>
        <item>Sound Blaster Non-SCSI CD-ROM<newline>
        <item>Matsushita/Panasonic CD-ROM<newline>
        <item>ATAPI compatible IDE CD-ROMs<newline>
      </itemize>

      <p>All non-SCSI cards are known to be extremely slow compared to
      SCSI drives, and some ATAPI CDROMs may not work.

      <p>As of 2.2 the FreeBSD CDROM from Walnut Creek supports booting
      directly from the CD.

    <sect1>
      <heading>Does FreeBSD support ZIP drives?</heading>

      <p>FreeBSD supports the SCSI ZIP drive out of the box, of course. The
      ZIP drive can only be set to run at SCSI target IDs 5 or 6, but if
      your SCSI host adapter's BIOS supports it you can even boot from
      it. I don't know which host adapters let you boot from targets
      other than 0 or 1... look at your docs (and let me know if it works
      out for you).

      <p>ATAPI (IDE) Zip drives are supported in FreeBSD 2.2.6 and
      later releases.

      <p>FreeBSD 3.0-CURRENT contains support for the parallel Zip
      However, you will need to build a new kernel with
      support for ppbus (Parallel Port Bus) in order to use the Zip.  See
      the LINT configuration file for examples.

      <p>Also check out <ref id="jaz" name="this note on removable drives">,
      and <ref id="disklabel" name="this note on 'formatting'">.

    <sect1>
      <heading>
        Does FreeBSD support JAZ, EZ and other removable drives?
      </heading>

      <p>Apart from the IDE version of the EZ drive, these are all SCSI
      devices, so the should all look like SCSI disks to FreeBSD, and
      the IDE EZ should look like an IDE drive.

      <p><label id="jaz">I'm not sure how well FreeBSD supports changing
      the media out while running. You will of course need to dismount the
      drive before swapping media, and make sure that any external units are
      powered on when you boot the system so FreeBSD can see them.

      <p>See <ref id="disklabel" name="this note on 'formatting'">.

    <sect1>
      <heading>Which multi-port serial cards are supported by FreeBSD?</heading>

      <p>There is a list of these in the <htmlurl
      url="../handbook/install:misc.html" name="Miscellaneous devices">
      section of the handbook.

      <p>Some unnamed clone cards have also been known to work, especially
      those that claim to be AST compatible.

      <p>Check the <htmlurl url="http://www.freebsd.org/cgi/man.cgi?sio"
      name="sio"> man page to get more information on configuring such cards.

    <sect1>
      <heading>I have an unusual bus mouse. How do I set it up?<label id="busmouse"></heading>

      <p>FreeBSD supports the bus mouse and the InPort bus mouse from such
      manufactures as Microsoft, Logitech and ATI.  The bus device driver
      is compiled in the GENERIC kernel by default.  If you are building 
      a custom kernel with the bus mouse driver, make sure to add the 
      following line to the kernel config file:

      <verb>
        device mse0 at isa? port 0x23c tty irq5 vector mseintr
      </verb>

      <p>The bus mouse usually comes with an dedicatd interface card.
      It may allow you to set the port address and the IRQ number other
      than shown above.  Refer to the manual of your mouse and the
      <htmlurl url="http://www.freebsd.org/cgi/man.cgi?mse" name="mse">
      man page for more information.

    <sect1>
      <heading>
        How do I use my PS/2 (``mouse port'' or ``keyboard'') mouse?<label id="ps2mouse"></heading>

      <p>If you're running a very recent version of FreeBSD, the necessary
      driver, psm, is included and enabled in the kernel.  The kernel 
      should detect your PS/2 mouse at boot time.

      <p>If you're running a previous but relatively recent version of 
      FreeBSD then you can simply enable it in the kernel configuration 
      menu at installation time, otherwise later with -c at the boot:
      prompt.  It is disabled by default, so you will need to enable
      it explicitly.

      <p>If you're running an older version of FreeBSD then you'll have to
      add the following lines to your kernel configuration file and compile
      a new kernel:

      <verb>
        device psm0 at isa? port "IO_KBD" conflicts tty irq 12 vector psmintr
      </verb>

      <p>See the <htmlurl url="../handbook/kernelconfig.html"
      name="Handbook entry on configuring the kernel"> if you've no
      experience with building kernels.

      <p>Once you have a kernel detecting psm0 correctly at boot time,
      make sure that an entry for psm0 exists in /dev.  You can do this
      by typing:

      <verb>
        cd /dev; sh MAKEDEV psm0
      </verb>

      <p>when logged in as root.

    <sect1>
      <heading>Is it possible to make use of a mouse in any way outside the X Window?<label id="moused"></heading>

      <p>If you are using the default console driver, syscons, you can
      use a mouse pointer in text consoles to cut & paste text.
      Run the mouse daemon, moused, and turn on the mouse pointer
      in the virtual console:

      <verb>
        moused -p /dev/xxxx -t yyyy 
        vidcontrol -m on
      </verb>

      <p>Where <tt>xxxx</tt> is the mouse device name and <tt>yyyy</tt> 
      is a protocol type for the mouse.  See the 
      <htmlurl url="http://www.freebsd.org/cgi/man.cgi?moused" name="moused">
      man page for supported protocol types.  

      <p>You may wish to run the mouse daemon automatically when the 
      system starts.  In version 2.2.1, set the following variables in
      <tt>/etc/sysconfig</tt>.

      <verb>
	mousedtype="yyyy"
	mousedport="xxxx"
	mousedflags=""
      </verb>

      In versions 2.2.2 or later, set the following variables in
      <tt>/etc/rc.conf</tt>.

      <verb>
	moused_type="yyyy"
	moused_port="xxxx"
	moused_flags=""
      </verb>

      <p>Staring from FreeBSD 2.2.6, the mouse daemon is capable of 
      determining the correct protocol type automatically unless the mouse 
      is a relatively old serial mouse model.  Specify ``<tt>auto</tt>'' as
      the protocol to invoke automatic detection.

      <p>When the mouse daemon is running, access to the mouse needs to be
      coordinated between the mouse daemon and other programs such as the
      X Window.  Refer to <ref id="x-and-moused" name="another section"> 
      on this issue".

    <sect1>
      <heading>How do I cut and paste text with mouse in the text console?</heading>

      <p>Once you get the mouse daemon running (see <ref id="moused" 
      name="previous section">), hold down the button 1 (left button) 
      and move the mouse to select a region of
      text.  Then, press the button 2 (middle button) or the button 3 (right
      button) to paste it at the text cursor.

      <p>In versions 2.2.6 and later, pressing the button 2 will paste 
      the text.  Pressing the button 3 will ``extend'' the selected region
      of text.  If your mouse does not have the middle button, you may wish
      to emulate it or remap buttons using moused options.  See the 
      <htmlurl url="http://www.freebsd.org/cgi/man.cgi?moused" name="moused">
      man page for details.

    <sect1>
      <heading>My mouse has a fancy wheel and buttons.  Can I use them in FreeBSD?</heading>

      <p>The answer is, unfortunately, ``It depends.''  These mice with
      additional features require specialized driver in most cases.
      Unless the mouse device driver or the user program has specific 
      support for the mouse, it will act just like a standard two, or 
      three button mouse.

    <sect1>
      <heading>
        How do I use the mouse/trackball/touchpad on my laptop?
      </heading>

      <p>Please refer to <ref id="ps2mouse" name="the answer to the previous
      question">.  And check out <ref id="pao" name="this note"> on the Mobile
      Computing page.

    <sect1>
      <heading>What types of tape drives are supported?</heading>

      <p>FreeBSD supports SCSI, QIC-36 (with a QIC-02 interface) and
      QIC-40/80 (Floppy based) tape drives.  This includes 8-mm (aka Exabyte)
      and DAT drives.  The QIC-40/80 drives are known to be slow.

      <p>Some of the early 8-mm drives are not quite compatible with SCSI-2,
      and may not work well with FreeBSD.

    <sect1>
      <heading>Does FreeBSD support tape changers?</heading>

      <p>FreeBSD 2.2 supports SCSI changers using the <htmlurl
      url="http://www.freebsd.org/cgi/man.cgi?ch(4)" name="ch"> device and
      the <htmlurl url="http://www.freebsd.org/cgi/man.cgi?chio" name="chio">
      command.  The details of how you actually control the changer can be
      found in the <htmlurl url="http://www.freebsd.org/cgi/man.cgi?chio"
      name="chio"> man page.

      <p>If you're not using <htmlurl
      url="http://www.freebsd.org/cgi/ports.cgi?amanda" name="AMANDA"> or
      some other product that already understands changers, remember that
      they're only know how to move a tape from one point to another, so
      you need to keep track of which slot a tape is in, and which slot the
      tape currently in the drive needs to go back to.

    <sect1>
      <heading>Which sound cards are supported by FreeBSD?</heading>

      <p>FreeBSD supports the SoundBlaster, SoundBlaster Pro, SoundBlaster
      16, Pro Audio Spectrum 16, AdLib and Gravis UltraSound sound cards.
      There is also limited support for MPU-401 and compatible MIDI cards.
      Cards conforming to the Microsoft Sound System specification are also 
      supported through the pcm driver.

      <p><bf/NOTE/ This is only for sound!  This driver does not support
      CD-ROMs, SCSI or joysticks on these cards, except for the
      SoundBlaster. The SoundBlaster SCSI interface and some non-SCSI
      CDROMS are supported, but you can't boot off this device.

    <sect1>
      <heading>Which network cards does FreeBSD support?</heading>

      <p>See the <htmlurl url="../handbook/install:nics.html"
      name="Ethernet cards"> section of the handbook for a more
      complete list. 

    <sect1>
      <heading>I don't have a math co-processor - is that bad?</heading>

      <p><tt /Note/ This will only affect 386/486SX/486SLC owners - other
      machines will have one built into the CPU.

      <p>In general this will not cause any problems, but there are
      circumstances where you will take a hit, either in performance or
      accuracy of the math emulation code (see the section <ref id="emul"
      name="on FP emulation">).  In particular, drawing arcs in X will be
      VERY slow.  It is highly recommended that you buy a math
      co-processor; it's well worth it.

      <p><bf/NOTE/ Some math co-processors are better than others.  It pains
      us to say it, but nobody ever got fired for buying Intel.  Unless
      you're sure it works with FreeBSD, beware of clones.

    <sect1>
      <heading>What other devices does 2.X support?</heading>

      <p>See the <htmlurl url="../handbook/install:misc.html" name="Handbook"> 
      for the list of other devices supported.

<!--
    <sect1>
      <heading>I am about to buy a new machine. What do you recommend?</heading>

      <p>See the <htmlurl url="../handbook/hw.html" name="hardware section">
      of the handbook for general tips if you're going to build it
      yourself, otherwise see the 
      FreeBSD <htmlurl url="../commercial/hardware.html"
      name="Hardware vendors"> page for various companies who offer
      FreeBSD compatible systems.
-->

    <sect1>
      <heading>Does FreeBSD support power management on my laptop?</heading>

      <p>FreeBSD supports APM on certain machines.  Please look in the
      <tt/LINT/ kernel config file, searching for the <htmlurl 
      url="http://www.freebsd.org/cgi/man.cgi?apm" name="APM"> keyword.

    <sect1>
      <heading>Workarounds for specific hardware problems</heading>
      <p>This section contains workarounds for specific hardware
       problems encountered by our users.
      <sect2>
       <heading>Micron systems hang at boot time</heading>
       <p>Certain Micron motherboards have a non-conforming PCI BIOS
         implementation that causes grief when FreeBSD boots because
         PCI devices don't get configured at their reported addresses.
       <p>Disable the "Plug and Play Operating System" flag in the BIOS
         to work around this problem.  More information can be found at
         <htmlurl
         url="http://cesdis.gsfc.nasa.gov/linux/drivers/vortex.html#micron"
         name="http://cesdis.gsfc.nasa.gov/linux/drivers/vortex.html#micron">
       </sect2>
    </sect1>

    <sect1>
    <heading>I have a newer Adaptec controller and FreeBSD can't find it.
    </heading>

    <p>The newer AIC789x series Adaptec chips are supported under the CAM SCSI
    framework making it's debut in 3.0. Patches against 3.0-CURRENT and 2.2-STABLE
    are in <url url="ftp://ftp.freebsd.org/pub/FreeBSD/development/cam/" name="ftp://ftp.freebsd.org/pub/FreeBSD/development/cam/">.
    A CAM-enhanced boot floppy is available at <url url="http://www.freebsd.org/~abial/cam-boot/"
    name="http://www.freebsd.org/~abial/cam-boot/">.  In both cases read the README before
    beginning. </p>

   </sect1>

   <sect1>
   <heading>I have an internal Plug & Play modem and FreeBSD can't find it.
   </heading>

   <p>You will need to add the modem's PnP ID to the PnP ID list in the serial driver.
   To enable Plug & Play support, compile a new kernel with <tt/controller pnp0/ in 
   the configuration file, then reboot the system.  The kernel will print the PnP IDs
   of all the devices it finds.  Copy the PnP ID from the modem to the table in 
   <tt>/sys/i386/isa/sio.c</tt>, at about line 1200.  Look for the string "SUP1310" 
   in the structure "siopnp_ids[]" to 
   find the table.  Build the kernel again, install, reboot, and your modem should be found.</p>

   <p>You may have to manually configure the PnP devices using the `pnp' command in the 
   boot-time configuration with a command like
   <verb>
   pnp 1 0 enable os irq0 3 drq0 0 port0 0x2f8
   </verb>
   to make the modem show.</p>

   </sect1>

   <sect1>
   <heading>How do I get the boot: prompt to show on the serial console?
   </heading>
  
   <p><enum>
   <item>Build a kernel with <tt/options COMCONSOLE/.
   <item>Create /boot.config and place <tt/-P/ as the only text in the file.
   <item>Unplug the keyboard from the system.
   </enum></p>

   <p>See <tt>/usr/src/sys/i386/boot/biosboot/README.serial</tt> for information.</p>

   </sect1>

    <sect1>

  
      <heading>Why doesn't my 3Com PCI network card work with my Micron 
        computer?</heading>
      <p>Certain Micron motherboards have a non-conforming PCI BIOS
      implementation that does not configure PCI devices at
      the addresses reported.  This causes grief when FreeBSD boots.
      <p>To work around this problem, disable the "Plug and Play Operating 
      System" flag in the BIOS.  
      <p>More information on this problem is available at URL:
      <htmlurl 
        url="http://cesdis.gsfc.nasa.gov/linux/drivers/vortex.html#micron"
        name="http://cesdis.gsfc.nasa.gov/linux/drivers/vortex.html#micron">

    <sect1>
      <heading>Does FreeBSD support Symmetric Multiproccessing (SMP)?
      </heading>

      <p>SMP is supported in 3.0-CURRENT only.

  </sect>

