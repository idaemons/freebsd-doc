<!--
     The FreeBSD Documentation Project
     The FreeBSD French Documentation Project

     $FreeBSD$
     Original revision: 1.96
-->

<chapter id="printing">
  <chapterinfo>
    <authorgroup>
      <author>
	<firstname>Sean</firstname>
	<surname>Kelly</surname>
	<contrib>Contribution de </contrib>
      </author>
      <!-- 30 Sept 1995 -->
    </authorgroup>

    <authorgroup>
      <author>
	<firstname>Jim</firstname>
	<surname>Mock</surname>
	<contrib>Restructur&eacute; et mis &agrave; jour par </contrib>
	<!-- Mar 2000 -->
      </author>
    </authorgroup>
  </chapterinfo>

  <title>Imprimer</title>
  &trans.a.delfly;

  <sect1 id="printing-synopsis">
    <title>Synopsis</title>

    <indexterm><primary>gestionnaire d'impression
      LPD</primary></indexterm>
    <indexterm><primary>imprimer</primary></indexterm>

    <para>&os; peut &ecirc;tre utilis&eacute; pour imprimer sur une
      grande vari&eacute;t&eacute; d'imprimantes, depuis la plus
      ancienne des imprimantes matricielles jusqu'aux toutes
      derni&egrave;res imprimantes laser, en passant par tout ce qui
      peut exister entre les deux, et vous permet d'obtenir des
      impressions de haute qualit&eacute; avec les programmes que vous
      ex&eacute;cutez.</para>

    <para>Il est &eacute;galement possible de configurer &os; pour
      qu'il fasse office de serveur d'impression sur un r&eacute;seau;
      de cette mani&egrave;re &os; peut recevoir des travaux
      d'impression (<quote>jobs</quote>) en provenance de
      diff&eacute;rents ordinateurs, comprenant d'autres machines sous
      &os; et des machines sous &windows; ou &macos;.  &os;
      s'assurera &agrave; ce qu'un seul travail d'impression ne soit
      imprim&eacute; &agrave; la fois, et pourra tenir des
      statistiques sur les utilisateurs et les machines lan&ccedil;ant
      le plus d'impressions, produire des pages
      d'<quote>en-t&ecirc;tes</quote> pour distinguer les impressions
      de chacun, et plus encore.</para>

    <para>Apr&egrave;s la lecture de ce chapitre, vous saurez:</para>

    <itemizedlist>
      <listitem>
	<para>Comment configurer le gestionnaire d'impression de
	  &os;</para>
      </listitem>

      <listitem>
	<para>Comment installer des filtres d'impression, pour
	  g&eacute;rer des travaux d'impression particuliers de
	  mani&egrave;re diff&eacute;rente, ce qui inclut la
	  transformation de documents entrants en un format que vos
	  imprimantes comprennent.</para>
      </listitem>

      <listitem>
	<para>Comment inclure des en-t&ecirc;tes ou des pages
	  banni&egrave;re dans vos impressions.</para>
      </listitem>

      <listitem>
	<para>Comment imprimer en utilisant des imprimantes
	  connect&eacute;es &agrave; d'autres ordinateurs.</para>
	</listitem>

      <listitem>
	<para>Comment imprimer en utilisant des imprimantes
	  connect&eacute;es directement au r&eacute;seau.</para>
      </listitem>

      <listitem>
	<para>Comment g&eacute;rer des restrictions d'impression,
	  notamment comment limiter la taille des travaux
	  d'impression, et emp&ecirc;cher certains utilisateurs
	  d'imprimer.</para>
      </listitem>

      <listitem>
	<para>Comment tenir des statistiques d'impression, et rendre
	  compte de l'utilisation de l'imprimante.</para>
      </listitem>

      <listitem>
	<para>Comment r&eacute;soudre les probl&egrave;mes
	  d'impression.</para>
      </listitem>
    </itemizedlist>

    <para>Avant de lire ce chapitre, vous devriez:</para>

    <itemizedlist>
      <listitem>
	<para>Savoir comment configurer et installer un nouveau noyau
	  (<xref linkend="kernelconfig">).</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 id="printing-intro-spooler">
    <title>Introduction</title>

    <para>Afin d'utiliser des imprimantes avec &os;, vous avez la
      possibilit&eacute; de les param&eacute;trer pour qu'elles
      utilisent le gestionnaire d'impression de Berkeley,
      &eacute;galement connu sous le nom de gestionnaire d'impression
      <application>LPD</application>, ou tout simplement
      <application>LPD</application>.  C'est le syst&egrave;me
      contr&ocirc;le d'imprimante par d&eacute;faut de &os;.  Ce
      chapitre pr&eacute;sente <application>LPD</application> et vous
      assistera tout au long de sa configuration.</para>

    <para>Si vous connaissez d&eacute;j&agrave;
      <application>LPD</application> ou un autre syst&egrave;me de
      gestion des impressions, vous pouvez directement vous rendre
      &agrave; la section <link
      linkend="printing-intro-setup">Param&eacute;trage de
      base</link>.</para>

    <para><application>LPD</application> contr&ocirc;le tout ce qui
      rel&egrave;ve des imprimantes.  Il est
      responsable de plusieurs t&acirc;ches:</para>

    <itemizedlist>
      <listitem>
	<para>Il contr&ocirc;le l'acc&egrave;s aux imprimantes
	  directement connect&eacute;es au syst&egrave;me ainsi
	  qu'&agrave; celles connect&eacute;es &agrave; d'autres
	  machines via le r&eacute;seau.</para>
      </listitem>

      <indexterm><primary>travaux d'impression</primary></indexterm>

      <listitem>
	<para>Il permet aux utilisateurs de soumettre des fichiers
	  &agrave; imprimer; ces requ&ecirc;tes sont connues sous le
	  nom de <emphasis>travaux</emphasis>.</para>
      </listitem>

      <listitem>
	<para>Il emp&ecirc;che l'acc&egrave;s simultan&eacute; de
	  plusieurs utilisateurs &agrave; une m&ecirc;me imprimante,
	  en g&eacute;rant une <emphasis>queue</emphasis> pour chaque
	  imprimante.</para>
      </listitem>

      <listitem>
	<para>Il peut produire des <emphasis>pages
	  d'en-t&ecirc;te</emphasis> (&eacute;galement connues sous le
	  nom de <emphasis>pages banni&egrave;res</emphasis> ou encore
	  <emphasis>cartouches</emphasis>) afin que les utilisateurs
	  puissent facilement retrouver dans une pile d'impressions
	  celles correspondant aux travaux qu'ils ont soumis.</para>
      </listitem>

      <listitem>
	<para>Il s'occupe de param&eacute;trer les communications
	  lorsque les imprimantes sont connect&eacute;es via un port
	  s&eacute;rie.</para>
      </listitem>

      <listitem>
	<para>Il peut transmettre des travaux par r&eacute;seau
	  &agrave; un gestionnaire d'impression
	  <application>LPD</application> situ&eacute; sur une autre
	  machine.</para>
      </listitem>

      <listitem>
	<para>Il peut appliquer des filtres sp&eacute;ciaux afin
	  d'assurer le formatage des travaux en fonction des
	  diff&eacute;rents langages et caract&eacute;ristiques des
	  imprimantes.</para>
      </listitem>

      <listitem>
	<para>Il peut comptabiliser l'utilisation de
	  l'imprimante.</para>
      </listitem>
    </itemizedlist>

    <para>Vous pouvez, au travers d'un fichier de configuration
      (<filename>/etc/printcap</filename>) et en fournissant les
      programmes de filtres sp&eacute;ciaux, faire ex&eacute;cuter par
      <application>LPD</application> tout ou partie des t&acirc;ches
      mentionn&eacute;es ci-dessus sur une grande
      vari&eacute;t&eacute; de mod&egrave;les d'imprimantes.</para>

    <sect2 id="printing-intro-why">
      <title>Pourquoi vous devriez utiliser le gestionnaire
	d'impression</title>

      <para>Si vous &ecirc;tes l'unique utilisateur de votre
	syst&egrave;me, vous vous demandez sans doute pourquoi il vous
	faudrait vous pr&eacute;occuper du gestionnaire d'impression,
	alors que vous n'avez pas besoin de contr&ocirc;le
	d'acc&egrave;s, de pages d'en-t&ecirc;te ni de statistiques
	relatives &agrave; l'utilisation de l'imprimante.  Quand bien
	m&ecirc;me il est possible de mettre en oeuvre l'acc&egrave;s
	direct &agrave; l'imprimante, vous devriez tout de m&ecirc;me
	utiliser le gestionnaire d'impression, parce que:</para>

      <itemizedlist>
        <listitem>
	  <para><application>LPD</application> imprime les travaux en
	    t&acirc;che de fond: vous n'&ecirc;tes pas oblig&eacute;
	    d'attendre que les donn&eacute;es soient pass&eacute;es
	    &agrave; l'imprimante.</para>
	</listitem>

	<indexterm><primary>&tex;</primary></indexterm>

	<listitem>
	  <para><application>LPD</application> peut commod&eacute;ment
	    se charger d'appliquer des filtres &agrave; un travail
	    pour adjoindre une en-t&ecirc;te contenant la date et
	    l'heure, ou convertir un fichier au format particulier
	    (comme un fichier DVI &tex;) en un format que l'imprimante
	    comprenne.  Ainsi, vous n'aurez pas &agrave; vous charger
	    de ces manipulations &agrave; la main.</para>
	</listitem>

	<listitem>
	  <para>Beaucoup d'applications, tant libres que commerciales,
	    fournissant une fonctionnalit&eacute; d'impression
	    s'attendent g&eacute;n&eacute;ralement &agrave; traiter
	    avec le gestionnaire d'impression.  En le mettant en
	    oeuvre, vous vous faciliterez le support des autres
	    applications que vous pourriez ajouter plus tard, ou que
	    vous avez d&eacute;j&agrave; install&eacute;es.</para>
	</listitem>
      </itemizedlist>
    </sect2>
  </sect1>

  <sect1 id="printing-intro-setup">
    <title>Configuration de base</title>

    <para>Pour utiliser des imprimantes avec le gestionnaire
      d'impression, il vous faudra configurer &agrave; la fois la
      partie mat&eacute;rielle (c'est &agrave; dire les imprimantes)
      et la partie logicielle (c'est &agrave; dire
      <application>LPD</application>).  Ce document pr&eacute;sente
      deux niveaux de configuration:</para>

    <itemizedlist>
      <listitem>
	<para>La section <link linkend="printing-simple">Configuration
	  simple de l'imprimante</link> vous apprendra &agrave;
	  connecter une imprimante, &agrave; renseigner
	  <application>LPD</application> sur la fa&ccedil;on dont il
	  doit communiquer avec elle, et &agrave; imprimer de simples
	  fichiers textes.</para>
      </listitem>

      <listitem>
	<para>La section <link
	  linkend="printing-advanced">Configuration avanc&eacute;e de
	  l'imprimante</link> vous apprendra &agrave; imprimer
	  diff&eacute;rents formats de fichiers, des pages
	  d'en-t&ecirc;te, par l'interm&eacute;diaire d'un
	  r&eacute;seau, &agrave; contr&ocirc;ler l'acc&egrave;s aux
	  imprimantes, et comptabiliser leur utilisation.</para>
      </listitem>
    </itemizedlist>

    <sect2 id="printing-simple">
      <title>Configuration simple de l'imprimante</title>

      <para>Cette section vous apprendra &agrave; configurer
	l'imprimante et <application>LPD</application>.  Elle
	pr&eacute;sente les bases:</para>

      <itemizedlist>
        <listitem>
	  <para>La section <link
	    linkend="printing-hardware">Configuration
	    mat&eacute;rielle</link> donne des indications sur la
	    fa&ccedil;on de connecter l'imprimante &agrave; l'un des
	    ports de votre ordinateur.</para>
	</listitem>

	<listitem>
	  <para>La section <link
	    linkend="printing-software">Configuration
	    logicielle</link> montre comment renseigner le fichier de
	    configuration du gestionnaire d'impression
	    <application>LPD</application>
	    (<filename>/etc/printcap</filename>).</para>
	</listitem>
      </itemizedlist>

      <para>Si vous mettez en oeuvre une imprimante
	r&eacute;ceptionnant les donn&eacute;es &agrave; imprimer via
	un protocole r&eacute;seau plut&ocirc;t que par les interfaces
	locales de l'ordinateur, lisez la section <link
	linkend="printing-advanced-network-net-if">Imprimantes avec
	des interfaces utilisant des flux r&eacute;seau</link>.</para>

      <para>Bien que cette section soit intitul&eacute;e
	<quote>Configuration simple de l'imprimante</quote>, elle
	s'av&egrave;re en r&eacute;alit&eacute; plut&ocirc;t complexe.
	La partie la plus difficile consiste &agrave; faire
	fonctionner l'imprimante avec votre ordinateur et
	<application>LPD</application>.  Les options avanc&eacute;es
	telles les pages d'en-t&ecirc;te ou les statistiques sont
	relativement faciles &agrave; mettre en oeuvre une fois que
	l'imprimante fonctionne.</para>

      <sect3 id="printing-hardware">
        <title>Configuration mat&eacute;rielle</title>

	<para>Cette section d&eacute;taille les diff&eacute;rentes
	  mani&egrave;res de connecter une imprimante &agrave; votre
	  PC.  Elle discute les types de ports et de c&acirc;bles, et
	  de la configuration noyau dont vous pourriez avoir besoin
	  afin que &os; puisse communiquer avec l'imprimante.</para>

	<para>Si vous avez d&eacute;j&agrave; connect&eacute; votre
	  imprimante et r&eacute;ussi &agrave; imprimer sous un autre
	  syst&egrave;me d'exploitation, vous pouvez probablement
	  passer &agrave; la section <link
	  linkend="printing-software">Configuration
	  logicielle</link>.</para>

	<sect4 id="printing-ports">
	  <title>Les ports et les c&acirc;bles</title>

	  <para>Les imprimantes pour PC vendues aujourd'hui sont en
	    g&eacute;n&eacute;ral pourvues d'une ou plusieurs des
	    trois interfaces suivantes:</para>

	  <itemizedlist>
	   <indexterm>
	     <primary>imprimantes</primary>
	     <secondary>s&eacute;rie</secondary>
	   </indexterm>

	   <listitem>
	     <para>Les interfaces <emphasis>s&eacute;rie</emphasis>,
	       &eacute;galement connues sous les noms RS-232 ou ports
	       COM, utilisent un port s&eacute;rie sur votre
	       ordinateur pour envoyer des donn&eacute;es &agrave;
	       l'imprimante.  Les interfaces s&eacute;rie sont
	       courantes, dans l'industrie informatique, et les
	       c&acirc;bles sont &agrave; la fois disponibles et
	       faciles &agrave; r&eacute;aliser.  Elles
	       r&eacute;clament parfois des c&acirc;bles
	       sp&eacute;ciaux et peuvent n&eacute;cessiter le
	       param&eacute;trage d'options de communication assez
	       complexes.  La plupart des ports s&eacute;rie PC ont
	       une vitesse de transmission maximale de 115200 bps, ce
	       qui rend l'impression de travaux comportant beaucoup de
	       graphismes malais&eacute;e.</para>
	   </listitem>

	   <indexterm>
	     <primary>imprimantes</primary>
	     <secondary>parall&egrave;le</secondary>
	   </indexterm>

	   <listitem>
	     <para>Les interfaces
	       <emphasis>parall&egrave;les</emphasis> utilisent un
	       port parall&egrave;le sur votre ordinateur pour envoyer
	       des donn&eacute;es &agrave; l'imprimante.  Les
	       interfaces parall&egrave;les sont courantes dans
	       l'industrie informatique et plus rapides que les
	       interfaces s&eacute;rie RS-232.  Les c&acirc;bles sont
	       disponibles mais sont moins faciles &agrave; fabriquer
	       &agrave; la main. En g&eacute;n&eacute;ral, il n'y a
	       aucune option de communication &agrave;
	       param&eacute;trer avec ces interfaces, ce qui rend leur
	       configuration particuli&egrave;rement simple.</para>

	     <indexterm>
	       <primary>centronics</primary>
	       <see>imprimantes parall&egrave;le</see>
	     </indexterm>

	     <para>Les interfaces parall&egrave;les sont parfois
	       appel&eacute;es <quote>Centronics</quote>, nom
	       tir&eacute; du type de connecteur de
	       l'imprimante</para>
	   </listitem>

	   <indexterm>
	     <primary>imprimantes</primary>
	     <secondary>USB</secondary>
	   </indexterm>

	   <listitem>
	     <para>Les interfaces USB, tenant leur nom de
	       <quote>Universal Serial Bus</quote>, ou <quote>Bus
	       S&eacute;rie Universel</quote>, s'av&egrave;rent plus
	       v&eacute;loces encore que les interfaces
	       parall&egrave;les ou s&eacute;rie RS-232.  Les
	       c&acirc;bles sont simples et peu on&eacute;reux. L'USB
	       surpasse les interfaces s&eacute;rie RS-232 et
	       parall&egrave;les pour l'impression, mais son support
	       par les syst&egrave;mes &unix; n'est pas aussi bon.
	       Une fa&ccedil;on d'&eacute;viter ce probl&egrave;me est
	       d'acheter une imprimante qui dispose &agrave; la fois
	       d'une interface USB et d'une interface
	       parall&egrave;le, comme beaucoup de
	       mod&egrave;les.</para>
	   </listitem>
	  </itemizedlist>

	  <para>En r&egrave;gle g&eacute;n&eacute;rale, les interfaces
	    parall&egrave;les n'offrent qu'une communication
	    unidirectionnelle (de l'ordinateur vers l'imprimante)
	    alors que les interfaces s&eacute;rie et USB permettent un
	    &eacute;change bidirectionnel.  Les imprimantes et ports
	    parall&egrave;les plus r&eacute;cents (EPP et ECP) peuvent
	    communiquer dans les deux sens sous &os; lorsque l'on a
	    recourt &agrave; un c&acirc;ble conforme &agrave; la norme
	    IEEE-1284.</para>

	  <indexterm><primary>PostScript</primary></indexterm>

	  <para>La communication bidirectionnelle avec l'imprimante en
	    utilisant un port parall&egrave;le se fait en
	    g&eacute;n&eacute;ral de l'une des deux mani&egrave;res
	    suivantes.  La premi&egrave;re utilise un pilote
	    d'imprimante compil&eacute; pour &os; comprenant le
	    langage propri&eacute;taire de l'imprimante.  C'est
	    couramment le cas des imprimantes jet d'encre et cela peut
	    &ecirc;tre utilis&eacute; pour retourner les niveaux
	    d'encre et autres informations d'&eacute;tat.  La seconde
	    m&eacute;thode est employ&eacute;e lorsque l'imprimante
	    supporte &postscript;.</para>

	  <para>Les travaux &postscript; sont en fait des programmes
	    envoy&eacute;s &agrave; l'imprimante.  Ils ne
	    g&eacute;n&egrave;rent pas n&eacute;cessairement de sortie
	    papier et peuvent retourner leurs r&eacute;sultats
	    directement &agrave; l'ordinateur.  &postscript; utilise
	    aussi la communication bidirectionnelle pour avertir
	    l'ordinateur de probl&egrave;mes, comme des erreurs dans
	    le programme &postscript; ou des bourrages papier.  Vos
	    utilisateurs appr&eacute;cieraient certainement de telles
	    informations.  De surcro&icirc;t, la meilleure
	    fa&ccedil;on de tenir des statistiques s&eacute;rieusement
	    avec une imprimante &postscript; n&eacute;cessite la
	    communication bidirectionnelle: on demande &agrave;
	    l'imprimante quel est son compteur de pages (combien en
	    a-t-elle imprim&eacute;es depuis sa fabrication), puis on
	    lui envoie le travail de l'utilisateur, enfin on lui
	    redemande son compteur de pages.  La diff&eacute;rence
	    entre les deux valeurs donne la consommation de papier que
	    vous pouvez attribuer &agrave; cet utilisateur.</para>
	</sect4>

	<sect4 id="printing-parallel">
	  <title>Les ports parall&egrave;les</title>

	  <para>Pour raccorder une imprimante utilisant une interface
	    parall&egrave;le, branchez le c&acirc;ble Centronics sur
	    l'imprimante et sur l'ordinateur.  Les instructions
	    accompagnant l'imprimante, l'ordinateur, ou les deux,
	    devraient parfaitement vous renseigner.</para>

	  <para>Souvenez-vous du port parall&egrave;le que vous avez
	    utilis&eacute; sur l'ordinateur.  Pour &os;, le premier se
	    nomme <filename>ppc0</filename>; le deuxi&egrave;me,
	    <filename>ppc1</filename>, et ainsi de suite.  Le nom du
	    fichier sp&eacute;cial de p&eacute;riph&eacute;rique de
	    l'imprimante suit les m&ecirc;mes r&egrave;gles:
	    <filename>/dev/lpt0</filename> pour celle connect&eacute;e
	    sur le premier port parall&egrave;le, etc.</para>
	</sect4>

	<sect4 id="printing-serial">
	  <title>Les ports s&eacute;rie</title>

	  <para>Pour raccorder une imprimante utilisant une interface
	    s&eacute;rie, branchez le c&acirc;ble s&eacute;rie
	    ad&eacute;quat sur l'imprimante et sur l'ordinateur.  Les
	    instructions accompagnant l'imprimante, l'ordinateur, ou
	    les deux, devraient parfaitement vous renseigner.</para>

	  <para>Si vous n'&ecirc;tes pas s&ucirc;r de savoir quel est
	    le bon c&acirc;ble, voici ce que vous pouvez
	    essayer:</para>

	  <itemizedlist>
	    <listitem>
	      <para>Un c&acirc;ble <emphasis>modem</emphasis> relie
		chacune des broches du connecteur depuis l'une des
		extr&eacute;mit&eacute;s du c&acirc;ble directement
		&agrave; la broche lui correspondant dans le
		connecteur de l'autre extr&eacute;mit&eacute;.  Ce
		type de c&acirc;ble est &eacute;galement connu sous le
		nom de c&acirc;ble <quote>DTE-to-DCE</quote>.</para>
	    </listitem>

	    <indexterm><primary>c&acirc;ble
	      null-modem</primary></indexterm>

	    <listitem>
	      <para>Un c&acirc;ble <emphasis>null-modem</emphasis>
		relie certaines des broches directement, en
		intervertit d'autres (par exemple,
		<quote>&eacute;mission de donn&eacute;es</quote> et
		<quote>r&eacute;ception de donn&eacute;es</quote>), et
		en court-circuite d'autres en interne sur chacun des
		sertissages des connecteurs.  Ce type de c&acirc;ble
		est &eacute;galement connu sous le nom de c&acirc;ble
		<quote>DTE-to-DTE</quote>.</para>
	    </listitem>

	    <listitem>
	      <para>Un c&acirc;ble <emphasis>s&eacute;rie pour
		imprimante</emphasis>, requis par certaines
		imprimantes peu conventionnelles, ressemble au
		c&acirc;ble null-modem, &agrave; ceci pr&egrave;s
		qu'il envoie certains signaux &agrave; l'autre
		extr&eacute;mit&eacute; au lieu de les court-circuiter
		en interne.</para>
	    </listitem>
	  </itemizedlist>

	  <indexterm><primary>vitesse de
	    transmission</primary></indexterm>
	  <indexterm><primary>parit&eacute;</primary></indexterm>
	  <indexterm><primary>protocole de contr&ocirc;le de
	    flux</primary></indexterm>

	  <para>Vous devriez &eacute;galement d&eacute;finir les
	    param&egrave;tres de communication pour l'imprimante,
	    d'ordinaire en utilisant les contr&ocirc;les sur la face
	    avant ou les commutateurs sur l'imprimante.  Choisissez la
	    valeur la plus &eacute;lev&eacute;e de
	    <literal>bps</literal> (bits par seconde, encore
	    appel&eacute;s <quote>vitesse de transmission</quote>)
	    autoris&eacute;e conjointement par votre ordinateur et
	    votre imprimante.  Choisissez 7 ou 8 bits de
	    donn&eacute;es; aucun contr&ocirc;le de parit&eacute; ou
	    un bit de parit&eacute; paire ou impaire; et 1 ou 2 bits
	    d'arr&ecirc;t.  Choisissez &eacute;galement un protocole
	    de contr&ocirc;le de flux: soit aucun, soit XON/XOFF
	    (&eacute;galement appel&eacute; <quote>in-band</quote>, ou
	    encore <quote>contr&ocirc;le logiciel</quote>).  Retenez
	    ces param&egrave;tres pour la configuration logicielle,
	    dans la section qui suit.</para>
	</sect4>
      </sect3>

      <sect3 id="printing-software">
        <title>Configuration logicielle</title>

	<para>Cette section d&eacute;taille la configuration
	  logicielle n&eacute;cessaire pour imprimer sous &os; avec le
	  gestionnaire d'impression
	  <application>LPD</application>.</para>

	<para>Voici un aper&ccedil;u des &eacute;tapes &agrave;
	  suivre:</para>

	<procedure>
	  <step>
	    <para>Configurez le noyau, si n&eacute;cessaire, pour
	      utiliser le port sur lequel vous raccorderez votre
	      imprimante; la section <link
	      linkend="printing-kernel">Configurer le noyau de
	      &os;</link> vous donnera la marche &agrave;
	      suivre.</para>
	  </step>

	  <step>
	    <para>Param&eacute;trez le mode de communication du port
	      parall&egrave;le si vous utilisez une imprimante de ce
	      type; la section <link
	      linkend="printing-parallel-port-mode">Param&eacute;trer
	      le mode de communication du port parall&egrave;le</link>
	      vous donnera les d&eacute;tails.</para>
	  </step>

	  <step>
	    <para>Configurez <application>LPD</application> pour qu'il
	      communique avec l'imprimante en renseignant le fichier
	      <filename>/etc/printcap</filename>.  Vous apprendrez
	      comment faire un peu plus loin dans ce chapitre.</para>
	  </step>
	</procedure>

	<sect4 id="printing-kernel">
	  <title>Configuration du noyau</title>

	  <para>Le noyau du syst&egrave;me d'exploitation est
	    compil&eacute; avec le support d'un certain ensemble de
	    p&eacute;riph&eacute;riques.  Les interfaces s&eacute;rie
	    ou parall&egrave;le de votre imprimante en font partie.
	    De ce fait, vous pourriez avoir &agrave; ajouter le
	    support d'un port s&eacute;rie ou parall&egrave;le
	    suppl&eacute;mentaire si votre noyau n'a pas
	    d&eacute;j&agrave; &eacute;t&eacute; configur&eacute; en
	    ce sens.</para>

	  <para>Pour savoir si le support d'une interface s&eacute;rie
	    est activ&eacute; dans le noyau que vous &ecirc;tes en
	    train d'utiliser, entrez:</para>

	  <screen>&prompt.root; <userinput>grep sio<replaceable>N</replaceable> /var/run/dmesg.boot</userinput></screen>

	  <para>O&ugrave; <replaceable>N</replaceable>
	    repr&eacute;sente le num&eacute;ro du port s&eacute;rie,
	    en commen&ccedil;ant &agrave; z&eacute;ro.  Si vous
	    obtenez un affichage similaire &agrave;:</para>

	  <screen>sio2 at port 0x3e8-0x3ef irq 5 on isa sio2: type 16550A</screen>

	  <para>alors le port est activ&eacute; dans le noyau.</para>

	  <para>Pour savoir si le noyau supporte une interface
	    parall&egrave;le, entrez:</para>

	  <screen>&prompt.root; <userinput>grep ppc<replaceable>N</replaceable> /var/run/dmesg.boot</userinput></screen>

	  <para>O&ugrave; <replaceable>N</replaceable>
	    repr&eacute;sente le num&eacute;ro du port
	    parall&egrave;le, en commen&ccedil;ant &agrave;
	    z&eacute;ro.  Si vous obtenez un affichage similaire
	    &agrave;:</para>

	  <screen>ppc0: &lt;Parallel port&gt; at port 0x378-0x37f irq 7 on isa0
ppc0: SMC-like chipset (ECP/EPP/PS2/NIBBLE) in COMPATIBLE mode
ppc0: FIFO with 16/16/8 bytes threshold</screen>

	  <para>alors le port est activ&eacute; dans le noyau.</para>

	  <para>Il se pourrait que vous ayez &agrave; reconfigurer le
	    noyau afin que le syst&egrave;me d&eacute;tecte et puisse
	    utiliser un port parall&egrave;le ou s&eacute;rie auquel
	    vous avez connect&eacute; votre imprimante.</para>

	  <para>Pour ajouter le support d'un port s&eacute;rie, voyez
	    la section sur la configuration du noyau.  Pour ajouter le
	    support du port parall&egrave;le, voyez cette m&ecirc;me
	    section <emphasis>et</emphasis> celle qui suit.</para>
	</sect4>
      </sect3>

      <sect3 id="printing-parallel-port-mode">
        <title>Param&eacute;trer le mode de communication du port
	  parall&egrave;le</title>

	<para>Lorsque vous utilisez l'interface parall&egrave;le, vous
	  avez le choix entre deux modes de communication avec
	  l'imprimante: par interruption, ou par polling
	  (interrogation r&eacute;guli&egrave;re ou scrutation).  Le
	  pilote d'imprimante g&eacute;n&eacute;rique (&man.lpt.4;) de
	  &os; utilise le syst&egrave;me &man.ppbus.4;, qui
	  contr&ocirc;le le chipset du port via le pilote
	  &man.ppc.4;.</para>

	<itemizedlist>
	  <listitem>
	    <para>Le mode par <emphasis>interruption</emphasis> est le
	      mode par d&eacute;faut avec un noyau GENERIC.  De cette
	      mani&egrave;re, le syst&egrave;me d'exploitation utilise
	      une ligne d'interruption (IRQ) pour d&eacute;terminer si
	      l'imprimante est pr&ecirc;te &agrave; recevoir des
	      donn&eacute;es.</para>
	  </listitem>

	  <listitem>
	    <para>Le mode <emphasis>par scrutation</emphasis> enjoint
	      au syst&egrave;me d'exploitation d'interroger &agrave;
	      intervalles r&eacute;guliers l'imprimante pour savoir si
	      elle est pr&ecirc;te &agrave; recevoir d'autres
	      donn&eacute;es.  Lorsqu'elle r&eacute;pond par
	      l'affirmative, le noyau lui en envoie plus.</para>
	  </listitem>
	</itemizedlist>

	<para>Le mode par interruption est en g&eacute;n&eacute;ral
	  nettement plus rapide, mais consomme une pr&eacute;cieuse
	  ligne d'interruption (IRQ).  On rapporte que certaines
	  imprimantes HP r&eacute;centes ne fonctionneraient pas
	  correctement en mode par interruption, apparemment &agrave;
	  cause d'un probl&egrave;me (pas encore tr&egrave;s bien
	  identifi&eacute;) d'horloge.  Ces imprimantes
	  n&eacute;cessitent le recours au mode par scrutation.
	  Utilisez celui des deux qui fonctionne.  Certaines
	  imprimantes fonctionnent dans les deux modes, mais
	  s'av&egrave;rent d&eacute;sagr&eacute;ablement lentes en
	  mode par interruption.</para>

	<para>Vous pouvez choisir le mode de communication de deux
	  mani&egrave;res diff&eacute;rentes: en configurant le noyau
	  ou en utilisant le programme &man.lptcontrol.8;.</para>

	<para><emphasis>Pour param&eacute;trer le mode de
	  communication en configurant le noyau:</emphasis></para>

	<procedure>
	  <step>
	    <para>Editez le fichier de configuration de votre noyau.
	      Cherchez une entr&eacute;e <literal>ppc0</literal>.  Si
	      vous voulez configurer le deuxi&egrave;me port
	      parall&egrave;le, cherchez plut&ocirc;t
	      <literal>ppc1</literal>.  Ou <literal>ppc2</literal>
	      pour le troisi&egrave;me, et ainsi de suite.</para>

	    <itemizedlist>
	      <listitem>
		<para>Si vous souhaitez activer le mode par
		  interruption, &eacute;ditez la ligne
		  suivante:</para>

		<programlisting>hint.ppc.0.irq="<replaceable>N</replaceable>"</programlisting>

		<para>dans le fichier
		  <filename>/boot/device.hints</filename> et remplacez
		  <replaceable>N</replaceable> par le num&eacute;ro
		  d'IRQ appropri&eacute;.  Le fichier de configuration
		  du noyau doit &eacute;galement comporter le pilote
		  &man.ppc.4;:</para>

		<programlisting>device ppc</programlisting>
	      </listitem>

	      <listitem>
		<para>Si vous souhaitez activer le mode par
		  scrutation, &ocirc;tez la ligne suivante de votre
		  fichier
		  <filename>/boot/device.hints</filename>:</para>

		<programlisting>hint.ppc.0.irq="<replaceable>N</replaceable>"</programlisting>

		<para>Dans certains cas, positionner le port en mode
		  scrutation sous &os; n'est pas suffisant.  La
		  plupart du temps cela vient du pilote &man.acpi.4;,
		  ce dernier &eacute;tant capable de sonder et
		  d'attacher des p&eacute;riph&eacute;riques, et donc
		  de contr&ocirc;ler le mode d'acc&egrave;s au port de
		  l'imprimante.  Vous devrez donc v&eacute;rifier
		  votre configuration &man.acpi.4; pour
		  r&eacute;soudre ce probl&egrave;me.</para>
	      </listitem>
	    </itemizedlist>
	  </step>

	  <step>
	    <para>Sauvegardez le fichier, puis configurez, compilez,
	      et installez le noyau avant de red&eacute;marrer.
	      Consultez la section <link
	      linkend="kernelconfig">configuration du noyau</link>
	      pour plus de d&eacute;tails.</para>
	  </step>
	</procedure>

	<para><emphasis>Pour param&eacute;trer le mode de
	  communication avec</emphasis> &man.lptcontrol.8;:</para>

	<procedure>
	  <step>
	    <para>Entrez:</para>

	    <screen>&prompt.root; <userinput>lptcontrol -i -d /dev/lpt<replaceable>N</replaceable></userinput></screen>

	    <para>pour s&eacute;lectionner le mode par interruption
	      pour
	      <literal>lpt<replaceable>N</replaceable></literal>.</para>
	  </step>

	  <step>
	    <para>Entrez:</para>

	    <screen>&prompt.root; <userinput>lptcontrol -p -d /dev/lpt<replaceable>N</replaceable></userinput></screen>

	    <para>pour s&eacute;lectionner le mode par scrutation pour
	      <literal>lpt<replaceable>N</replaceable></literal>.</para>
	  </step>
	</procedure>

	<para>Vous pouvez placer ces commandes dans votre fichier
	  <filename>/etc/rc.local</filename> pour s&eacute;lectionner
	  le mode &agrave; chaque d&eacute;marrage du syst&egrave;me.
	  Consultez &man.lptcontrol.8; pour obtenir plus
	  d'informations.</para>
      </sect3>

      <sect3 id="printing-testing">
	<title>V&eacute;rifier la communication avec
	  l'imprimante</title>

	<para>Avant de passer &agrave; la configuration du
	  gestionnaire d'impression, vous devriez vous assurer que le
	  syst&egrave;me d'exploitation fait parvenir avec
	  succ&egrave;s des donn&eacute;es &agrave; l'imprimante.  Il
	  est beaucoup plus facile de d&eacute;boguer
	  s&eacute;par&eacute;ment la communication avec l'imprimante
	  et la configuration du gestionnaire d'impression.</para>

	<para>Pour tester l'imprimante, nous allons lui envoyer du
	  texte.  Pour les imprimantes qui peuvent
	  imm&eacute;diatement imprimer les caract&egrave;res qui leur
	  sont envoy&eacute;s, le programme &man.lptest.1; est
	  parfait: il g&eacute;n&egrave;re les 96 caract&egrave;res
	  ASCII imprimables sur 96 lignes.</para>

	<indexterm><primary>PostScript</primary></indexterm>

	<para>Pour une imprimante &postscript; (ou bas&eacute;e sur un
	  autre langage), il va nous falloir un test plus
	  sophistiqu&eacute;.  Un petit programme &postscript;, tel
	  que celui qui suit, devrait suffire:</para>

	<programlisting>%!PS
100 100 moveto 300 300 lineto stroke
310 310 moveto /Helvetica findfont 12 scalefont setfont
(Is this thing working?) show
showpage</programlisting>

	<para>Le code &postscript; ci-dessus peut &ecirc;tre
	  plac&eacute; dans un fichier et utilis&eacute; comme
	  indiqu&eacute; dans les exemples qui apparaissent dans les
	  sections suivantes.</para>

	<indexterm><primary>PCL</primary></indexterm>

	<note>
	  <para>Lorsque ce document fait r&eacute;f&eacute;rence
	    &agrave; un langage d'imprimante, il suppose un langage
	    comme &postscript;, et pas le PCL de Hewlett-Packard.
	    Quoique PCL dispose de fonctionnalit&eacute;s
	    int&eacute;ressantes, il est possible de m&eacute;langer
	    du texte simple avec des s&eacute;quences
	    d'&eacute;chappement.  &postscript; ne permet pas
	    d'imprimer du texte clair, c'est le type de langage
	    d'imprimante pour lequel nous devons prendre des mesures
	    particuli&egrave;res.</para>
	</note>

	<sect4 id="printing-checking-parallel">
	  <title>Tester une imprimante parall&egrave;le</title>

	  <indexterm>
	    <primary>imprimantes</primary>
	    <secondary>parall&egrave;le</secondary>
	  </indexterm>

	  <para>Cette section vous apprendra &agrave; v&eacute;rifier
	    si &os; peut communiquer avec une imprimante
	    connect&eacute;e sur un port parall&egrave;le.</para>

	  <para><emphasis>Pour tester une imprimante connect&eacute;e
	    sur un port parall&egrave;le:</emphasis></para>

	  <procedure>
	    <step>
	      <para>Passez en <username>root</username> avec
		&man.su.1;.</para>
	    </step>

	    <step>
	      <para>Envoyez des donn&eacute;es &agrave;
		l'imprimante.</para>

	      <itemizedlist>
	        <listitem>
		  <para>Si l'imprimante peut sortir du texte simple,
		    alors utilisez &man.lptest.1;.  Entrez:</para>

		  <screen>&prompt.root; <userinput>lptest &gt; /dev/lpt<replaceable>N</replaceable></userinput></screen>

		  <para>O&ugrave; <replaceable>N</replaceable> est le
		    num&eacute;ro du port parall&egrave;le, en
		    commen&ccedil;ant &agrave; z&eacute;ro.</para>
		</listitem>

		<listitem>
		  <para>Si l'imprimante comprend le &postscript; ou un
		    autre langage d'imprimante, alors envoyez lui un
		    petit programme.  Entrez:</para>

		  <screen>&prompt.root; <userinput>cat &gt; /dev/lpt<replaceable>N</replaceable></userinput></screen>

		  <para>Tapez ensuite le programme, ligne &agrave;
		    ligne et <emphasis>attentivement</emphasis>, car
		    vous ne pouvez plus &eacute;diter une ligne une
		    fois que vous avez appuy&eacute; sur la touche
		    <literal>Retour Chariot</literal> ou
		    <literal>Entr&eacute;e</literal>.  Une fois
		    termin&eacute;, faites
		    <literal>CONTROL+D</literal>, ou la combinaison
		    correspondant &agrave; votre fin de
		    fichier.</para>

		  <para>Une autre mani&egrave;re de proc&eacute;der
		    est de placer le programme dans un fichier et
		    d'entrer:</para>

		  <screen>&prompt.root; <userinput>cat <replaceable>fichier</replaceable> &gt; /dev/lpt<replaceable>N</replaceable></userinput></screen>

		  <para>O&ugrave; <replaceable>fichier</replaceable>
		    d&eacute;signe le nom du fichier que vous
		    d&eacute;sirez envoyer &agrave;
		    l'imprimante.</para>
		</listitem>
	      </itemizedlist>
	    </step>
	  </procedure>

	  <para>Vous devriez voir quelque chose s'imprimer.  Ne vous
	    inqui&eacute;tez pas si l'apparence du texte n'est pas
	    satisfaisante; nous rem&eacute;dierons &agrave; ce genre
	    de soucis plus tard.</para>
	</sect4>

	<sect4 id="printing-checking-serial">
	  <title>Tester une imprimante s&eacute;rie</title>

	  <indexterm>
	    <primary>imprimantes</primary>
	    <secondary>s&eacute;rie</secondary>
	  </indexterm>

	  <para>Dans cette section vous apprendrez &agrave;
	    v&eacute;rifier si &os; parvient &agrave; communiquer avec
	    une imprimante connect&eacute;e &agrave; un port
	    s&eacute;rie.</para>

	  <para><emphasis>Pour tester une imprimante connect&eacute;e
	    sur un port s&eacute;rie:</emphasis></para>

	  <procedure>
	    <step>
	      <para>Passez en <username>root</username> avec
	      &man.su.1;.</para>
	    </step>

	    <step>
	      <para>Editez le fichier
		<filename>/etc/remote</filename>.  Ajoutez
		l'entr&eacute;e suivante:</para>

		<programlisting>printer:dv=/dev/<replaceable>port</replaceable>:br#<replaceable>bps-rate</replaceable>:pa=<replaceable>parity</replaceable></programlisting>

	      <indexterm><primary>bits-par-seconde</primary></indexterm>
	      <indexterm><primary>port
		s&eacute;rie</primary></indexterm>
	      <indexterm><primary>parit&eacute;</primary></indexterm>

	      <para>O&ugrave; <replaceable>port</replaceable>
		repr&eacute;sente le fichier de
		p&eacute;riph&eacute;rique du port s&eacute;rie
		(<literal>ttyd0</literal>, <literal>ttyd1</literal>,
		etc.), <replaceable>bps-rate</replaceable>
		repr&eacute;sente la vitesse en bits-par-seconde
		&agrave; laquelle l'imprimante communique, et
		<replaceable>parity</replaceable> repr&eacute;sente la
		parit&eacute; r&eacute;clam&eacute;e par l'imprimante
		(<literal>even</literal> pour paire,
		<literal>odd</literal> pour impaire,
		<literal>none</literal> pour aucune, ou
		<literal>zero</literal> pour z&eacute;ro).</para>

	      <para>Voici un exemple d'entr&eacute;e pour une
		imprimante connect&eacute;e &agrave; 19200&nbsp;bps,
		sans parit&eacute;, sur le troisi&egrave;me port
		s&eacute;rie:</para>

	      <programlisting>printer:dv=/dev/ttyd2:br#19200:pa=none</programlisting>
	    </step>

	    <step>
	      <para>Connectez-vous &agrave; l'imprimante avec
	        &man.tip.1;.  Entrez:</para>

	      <screen>&prompt.root; <userinput>tip printer</userinput></screen>

	      <para>Si cette &eacute;tape ne fonctionne pas,
		&eacute;ditez le fichier
		<filename>/etc/remote</filename> &agrave; nouveau et
		essayez d'utiliser
		<filename>/dev/cuaa<replaceable>N</replaceable></filename>
		au lieu de
		<filename>/dev/ttyd<replaceable>N</replaceable></filename>.</para>
	    </step>

	    <step>
	      <para>Envoyez des donn&eacute;es &agrave;
		l'imprimante.</para>

	      <itemizedlist>
	        <listitem>
		  <para>Si l'imprimante peut sortir du texte simple,
		    alors utilisez &man.lptest.1;.  Entrez:</para>

		  <screen>&prompt.user; <userinput>$lptest</userinput></screen>
		</listitem>

		<listitem>
		  <para>Si l'imprimante comprend le &postscript; ou
		    tout autre langage d'imprimante, envoyez-lui un
		    petit programme.  Entrez-le ligne &agrave; ligne
		    et <emphasis>tr&egrave;s attentivement</emphasis>,
		    dans la mesure o&ugrave; les touches
		    d'&eacute;dition, comme retour-arri&egrave;re,
		    peuvent rev&ecirc;tir une signification
		    particuli&egrave;re pour l'imprimante.  Vous
		    pourriez &eacute;galement avoir besoin d'un
		    caract&egrave;re de fin de fichier
		    (<quote>EOF</quote>) particulier pour que
		    l'imprimante sache qu'elle a re&ccedil;u tout le
		    programme.  Pour les imprimantes &postscript;,
		    appuyez sur <literal>CONTROL+D</literal>.</para>

		  <para>Une autre mani&egrave;re de proc&eacute;der
		    est de placer le programme dans un fichier et
		    d'entrer:</para>

		  <screen>&prompt.user; <userinput>&gt;<replaceable>fichier</replaceable></userinput></screen>

		  <para>O&ugrave; <replaceable>fichier</replaceable>
		    est le nom du fichier contenant le programme.
		    Apr&egrave;s avoir envoy&eacute; le fichier avec
		    &man.tip.1;, appuyez sur la touche de fin de
		    fichier appropri&eacute;e.</para>
		</listitem>
	      </itemizedlist>
	    </step>
	  </procedure>

	  <para>Vous devriez voir quelque chose s'imprimer.  Ne vous
	    inqui&eacute;tez pas si l'apparence du texte n'est pas
	    satisfaisante; nous rem&eacute;dierons &agrave; ce genre
	    de soucis plus tard.</para>
	</sect4>
      </sect3>

      <sect3 id="printing-printcap">
	<title>Mettre en place le gestionnaire d'impression: le
	  fichier <filename>/etc/printcap</filename></title>

	<para>A ce stade, votre imprimante doit &ecirc;tre
	  branch&eacute;e, votre noyau configur&eacute; pour
	  communiquer avec elle (si cela est n&eacute;cessaire); et
	  vous avez r&eacute;ussi &agrave; faire parvenir des
	  donn&eacute;es simples &agrave; l'imprimante.  Nous sommes
	  maintenant pr&ecirc;ts &agrave; param&eacute;trer
	  <application>LPD</application> pour qu'il contr&ocirc;le
	  l'acc&egrave;s &agrave; l'imprimante.</para>

	<para><application>LPD</application> se param&egrave;tre en
	  &eacute;ditant le fichier
	  <filename>/etc/printcap</filename>.  Le gestionnaire
	  d'impression <application>LPD</application> le lit &agrave;
	  chaque fois que le gestionnaire est solicit&eacute;, donc
	  les mises &agrave; jour du fichier sont imm&eacute;diatement
	  prises en compte.</para>

	<indexterm> <primary>imprimantes</primary>
	  <secondary>fonctionnalit&eacute;s</secondary> </indexterm>

	<para>Le format du fichier &man.printcap.5; est explicite.
	  Utilisez votre &eacute;diteur favori pour modifier
	  <filename>/etc/printcap</filename>.  Le format est identique
	  aux autres fichiers de configuration comme
	  <filename>/usr/share/misc/termcap</filename> et
	  <filename>/etc/remote</filename>.  Pour obtenir des
	  informations compl&egrave;tes concernant ce format,
	  consultez &man.cgetent.3;.</para>

	<para>Le param&eacute;trage simple du gestionnaire
	  d'impression s'effectue selon les &eacute;tapes
	  suivantes:</para>

	<procedure>
	  <step>
	    <para>Choisissez un nom (et quelques alias
	      appropri&eacute;s) pour l'imprimante, et placez-les dans
	      <filename>/etc/printcap</filename>; lisez la section
	      <link linkend="printing-naming">Nommer
	      l'imprimante</link> pour plus d'informations sur le
	      nommage.</para>
	  </step>

	  <indexterm><primary>pages d'en-t&ecirc;te</primary></indexterm>

	  <step>
	    <para>D&eacute;sactivez les pages d'en-t&ecirc;te (elles
	      sont activ&eacute;es par d&eacute;faut) en
	      ins&eacute;rant le param&egrave;tre
	      <literal>sh</literal>; lisez la section <link
	      linkend="printing-no-header-pages">Supprimer les pages
	      d'en-t&ecirc;te</link> pour plus d'informations.</para>
	  </step>

	  <step>
	    <para>Cr&eacute;ez un r&eacute;pertoire de file d'attente,
	      et pr&eacute;cisez son chemin d'acc&egrave;s avec le
	      param&egrave;tre <literal>sd</literal>; lisez la section
	      <link linkend="printing-spooldir">Cr&eacute;er le
	      r&eacute;pertoire de fil d'attente</link> pour obtenir
	      plus d'informations.</para>
	  </step>

	  <step>
	    <para>S&eacute;lectionnez l'entr&eacute;e
	      <filename>dev</filename> &agrave; utiliser pour
	      l'imprimante, et notez la dans
	      <filename>/etc/printcap</filename> avec le
	      param&egrave;tre <literal>lp</literal>; lisez la section
	      <link linkend="printing-device">Identifier le
	      p&eacute;riph&eacute;rique d'imprimante</link> pour
	      obtenir plus d'informations.  De plus, si l'imprimante
	      est reli&eacute;e par un port s&eacute;rie,
	      pr&eacute;cisez les param&egrave;tres de communication
	      avec le param&egrave;tre <literal>ms#</literal>, qui est
	      d&eacute;taill&eacute; dans la section <link
	      linkend="printing-commparam">Configurer les
	      param&egrave;tres de communication du gestionnaire
	      d'impression</link>.</para>
	  </step>

	  <step>
	    <para>Installez un filtre d'entr&eacute;e sous forme de
	      fichier texte simple; lisez la section <link
	      linkend="printing-textfilter">Installer le filtre
	      texte</link> pour obtenir plus de d&eacute;tails.</para>
	  </step>

	  <step>
	    <para>Testez la configuration en imprimant quelque chose
	      avec la commande &man.lpr.1;.  Vous trouverez plus de
	      d&eacute;tails dans les sections <link
	      linkend="printing-trying">Tester l'impression</link> et
	      <link
	      linkend="printing-troubleshooting">R&eacute;solution des
	      probl&egrave;mes</link>.</para>
	  </step>
	</procedure>

	<note>
	  <para>Les imprimantes bas&eacute;es sur un langage d'impression,
	    telles les imprimantes &postscript;, ne peuvent imprimer
	    du texte simple directement.  La configuration simple
	    esquiss&eacute;e ci-dessus et d&eacute;taill&eacute;e dans
	    les sections suivantes pr&eacute;suppose que si vous
	    installez ce genre d'imprimante vous n'imprimerez que des
	    fichiers qu'elle peut comprendre.</para>
	</note>

	<para>Les utilisateurs s'attendent souvent &agrave; pouvoir
	  imprimer du texte simple sur n'importe laquelle des
	  imprimante install&eacute;es sur votre syst&egrave;me.  Les
	  applications qui s'en remettent &agrave;
	  <application>LPD</application> pour imprimer s'y attendent
	  en g&eacute;n&eacute;ral elles aussi.  Si vous installez ce
	  genre d'imprimante et d&eacute;sirez pouvoir imprimer
	  &agrave; la fois des travaux dans le langage de l'imprimante
	  <emphasis>et</emphasis> des travaux en texte simple, vous
	  &ecirc;tes instamment pri&eacute; d'ajouter une &eacute;tape
	  suppl&eacute;mentaire &agrave; la configuration simple
	  esquiss&eacute;e ci-dessus: installez un programme de
	  conversion automatique texte simple vers &postscript; (ou
	  tout autre langage d'imprimante).  La section <link
	  linkend="printing-advanced-if-conversion">Prendre en charge
	  des travaux texte sur des imprimantes &postscript;</link>
	  vous apprendra &agrave; le faire.</para>

	<sect4 id="printing-naming">
	  <title>Nommer l'imprimante</title>

	  <para>La premi&egrave;re &eacute;tape (facile) est de
	    choisir un nom pour l'imprimante.  Que vous choisissiez un
	    nom fonctionnel ou fantaisiste n'a aucune importance
	    puisque vous pouvez &eacute;galement fournir une
	    s&eacute;rie d'alias.</para>

	  <para>Au moins l'une des imprimantes d&eacute;finies dans le
	    fichier <filename>/etc/printcap</filename> devrait avoir
	    pour alias <literal>lp</literal>.  C'est le nom de
	    l'imprimante par d&eacute;faut.  Si les utilisateurs n'ont
	    pas positionn&eacute; la variable d'environnement
	    <envar>PRINTER</envar> et ne sp&eacute;cifient pas le nom
	    d'une imprimante lorsqu'ils utilisent une ligne de
	    commande relative &agrave; <application>LPD</application>,
	    <literal>lp</literal> sera l'imprimante par d&eacute;faut
	    utilis&eacute;e.</para>

	  <para>Par ailleurs, l'usage commun veut que le dernier alias
	    d'une imprimante en soit une description compl&egrave;te,
	    en incluant le fabricant et le mod&egrave;le.</para>

	  <para>Une fois le nom et des alias communs choisis,
	    placez-les dans le fichier
	    <filename>/etc/printcap</filename>.  Le nom de
	    l'imprimante devrait commencer dans la colonne la plus
	    &agrave; gauche.  S&eacute;parez chaque alias par une
	    barre verticale et mettez le caract&egrave;re deux-points
	    apr&egrave;s le dernier alias.</para>

	  <para>Dans l'exemple suivant, nous commen&ccedil;ons avec le
	    squelette d'un <filename>/etc/printcap</filename> qui
	    d&eacute;finit deux imprimantes (une Diablo 630 et une
	    imprimante &postscript; laser Panasonic KX-P4455):</para>

	  <programlisting>#
#  /etc/printcap for host rose
#
rattan|line|diablo|lp|Diablo 630 Line Printer:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:</programlisting>

	  <para>Dans cet exemple, la premi&egrave;re imprimante se
	    nomme <literal>rattan</literal> et poss&egrave;de les
	    alias suivants: <literal>line</literal>,
	    <literal>diablo</literal>, <literal>lp</literal> et
	    <literal>Diablo 630 Line Printer</literal>.  Puisque
	    l'alias <literal>lp</literal> lui est attribu&eacute;,
	    elle est &eacute;galement l'imprimante par d&eacute;faut.
	    La seconde s'appelle <literal>bamboo</literal> et
	    poss&egrave;de les alias suivants: <literal>ps</literal>,
	    <literal>PS</literal>, <literal>S</literal>,
	    <literal>panasonic</literal> et <literal>Panasonic
	    KX-P4455 PostScript v51.4</literal>.</para>
	</sect4>

	<sect4 id="printing-no-header-pages">
	  <title>Supprimer les pages d'en-t&ecirc;te</title>

	  <indexterm>
	    <primary>imprimer</primary>
	    <secondary>pages d'en-t&ecirc;te</secondary>
	  </indexterm>

	  <para>Par d&eacute;faut, le gestionnaire d'impression
	    <application>LPD</application> imprime une <emphasis>page
	    d'en-t&ecirc;te</emphasis> pour chaque impression.
	    Celle-ci mentionne le nom de l'utilisateur qui a
	    demand&eacute; l'impression, la machine qui l'a
	    envoy&eacute;, et le nom de l'impression, en grands et
	    jolis caract&egrave;res.  Malheureusement, tout ce texte
	    suppl&eacute;mentaire parasite le d&eacute;bogage d'une
	    configuration simple de l'imprimante, aussi
	    supprimerons-nous ces pages d'en-t&ecirc;tes.</para>

	  <para>Pour cela, ajoutez le param&egrave;tre
	    <literal>sh</literal> &agrave; l'entr&eacute;e de
	    l'imprimante dans <filename>/etc/printcap</filename>.
	    Voici un exemple de <filename>/etc/printcap</filename>
	    o&ugrave; <literal>sh</literal> a &eacute;t&eacute;
	    ajout&eacute;:</para>

	  <programlisting>#
#  /etc/printcap for host rose - no header pages anywhere
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:</programlisting>

	  <para>Observez la fa&ccedil;on dont nous avons
	    respect&eacute; le format correct: la premi&egrave;re
	    ligne commence dans la colonne la plus &agrave; gauche, et
	    les lignes suivantes sont indent&eacute;es.  Toutes les
	    lignes d'une entr&eacute;e sauf la derni&egrave;re se
	    terminent par un antislash.</para>
	</sect4>

	<sect4 id="printing-spooldir">
	  <title>Cr&eacute;er le r&eacute;pertoire de file
	    d'attente</title>

	  <indexterm><primary>file d'attente
	    d'imprimante</primary></indexterm>
	  <indexterm><primary>travaux
	    d'impression</primary></indexterm>

	  <para>La prochaine &eacute;tape dans la configuration simple
	    du gestionnaire d'impression consiste &agrave;
	    cr&eacute;er un <emphasis>r&eacute;pertoire de file
	    d'attente</emphasis>, c'est &agrave; dire un
	    r&eacute;pertoire o&ugrave; les travaux vont demeurer
	    jusqu'&agrave; ce qu'ils soient imprim&eacute;s, et
	    o&ugrave; un certain nombre d'autres fichiers
	    n&eacute;cessaires au gestionnaire d'impression prennent
	    place.</para>

	  <para>A cause de la nature variable des r&eacute;pertoires
	    de file d'attente, il est d'usage de les placer dans
	    <filename>/var/spool</filename>.  Il n'est pas non plus
	    n&eacute;cessaire de sauvegarder leur contenu.  Les
	    recr&eacute;er est aussi simple que de faire un
	    &man.mkdir.1;.</para>

	  <para>Il est &eacute;galement d'usage de cr&eacute;er le
	    r&eacute;pertoire avec un nom identique &agrave; celui de
	    l'imprimante, comme dans l'exemple ci-dessous:</para>

	  <screen>&prompt.root; <userinput>mkdir /var/spool/<replaceable>nom-de-l-imprimante</replaceable></userinput></screen>

	  <para>Toutefois, si votre r&eacute;seau comporte beaucoup
	    d'imprimantes, vous pouvez pr&eacute;f&eacute;rer placer
	    les r&eacute;pertoires de file d'attente dans un unique
	    r&eacute;pertoire que vous r&eacute;serverez &agrave;
	    l'impression avec <application>LPD</application>.  C'est
	    ce que nous allons faire pour les deux imprimantes de
	    notre exemple, <literal>rattan</literal> et
	    <literal>bamboo</literal>:</para>

	  <screen>&prompt.root; <userinput>mkdir /var/spool/lpd</userinput>
&prompt.root; <userinput>mkdir /var/spool/lpd/rattan</userinput>
&prompt.root; <userinput>mkdir /var/spool/lpd/bamboo</userinput></screen>

          <note>
	    <para>Si la confidentialit&eacute; des travaux
	      imprim&eacute;s par les utilisateurs vous importe, vous
	      souhaiterez certainement prot&eacute;ger le
	      r&eacute;pertoire de file d'attente afin qu'il ne soit
	      pas accessible par tout le monde.  Les
	      r&eacute;pertoires de file d'attente doivent appartenir,
	      &ecirc;tre accessibles en lecture et &eacute;criture et
	      pouvoir &ecirc;tre parcourus par l'utilisateur
	      <username>daemon</username> et le groupe
	      <groupname>daemon</groupname>, et personne d'autre.
	      C'est ce que nous allons faire pour les deux imprimantes
	      de notre exemple:</para>

	    <screen>&prompt.root; <userinput>chown daemon:daemon /var/spool/lpd/rattan</userinput>
&prompt.root; <userinput>chown daemon:daemon /var/spool/lpd/bamboo</userinput>
&prompt.root; <userinput>chmod 770 /var/spool/lpd/rattan</userinput>
&prompt.root; <userinput>chmod 770 /var/spool/lpd/bamboo</userinput></screen>
	  </note>

	  <para>Pour finir, vous devez avertir
	    <application>LPD</application> de l'existence de ces
	    r&eacute;pertoires en utilisant le fichier
	    <filename>/etc/printcap</filename>.  Vous sp&eacute;cifiez
	    le chemin du r&eacute;pertoire file d'attente avec le
	    param&egrave;tre <literal>sd</literal>:</para>

	  <programlisting>#
#  /etc/printcap for host rose - added spooling directories
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=/var/spool/lpd/rattan:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=/var/spool/lpd/bamboo:</programlisting>

	  <para>Notez que le nom de l'imprimante commence dans la
	    premi&egrave;re colonne mais que toutes les autres
	    entr&eacute;es d&eacute;crivant l'imprimante doivent
	    &ecirc;tre indent&eacute;es et que chaque fin de ligne
	    doit &ecirc;tre prot&eacute;g&eacute;e par un
	    antislash.</para>

	  <para>Si vous ne pr&eacute;cisez pas de r&eacute;pertoire de
	    file d'attente avec <literal>sd</literal>, le gestionnaire
	    d'impression utilisera <filename>/var/spool/lpd</filename>
	    par d&eacute;faut.</para>
	</sect4>

	<sect4 id="printing-device">
	  <title>Identifier le p&eacute;riph&eacute;rique
	    d'imprimante</title>

	  <para>Dans la section Entr&eacute;es des
	    p&eacute;riph&eacute;riques nous avons identifi&eacute;
	    l'entr&eacute;e du r&eacute;pertoire
	    <filename>/dev</filename> que &os; utiliserait pour
	    communiquer avec l'imprimante.  Maintenant, nous allons
	    passer cette information &agrave;
	    <application>LPD</application>.  Quand le gestionnaire
	    d'impression aura une impression &agrave; effectuer, il
	    ouvrira le p&eacute;riph&eacute;rique
	    sp&eacute;cifi&eacute; au nom du programme de filtre (qui
	    est responsable de la transmission des donn&eacute;es
	    &agrave; l'imprimante).</para>

	  <para>Positionnez l'entr&eacute;e pour le chemin
	    d'acc&egrave;s <filename>/dev</filename> dans le fichier
	    <filename>/etc/printcap</filename> en utilisant le
	    param&egrave;tre <literal>lp</literal>.</para>

	  <para>Dans notre exemple, supposons que
	    <literal>rattan</literal> est sur le premier port
	    parall&egrave;le, et que <literal>bamboo</literal> est sur
	    un sixi&egrave;me port s&eacute;rie; voici les ajouts
	    &agrave; apporter &agrave;
	    <filename>/etc/printcap</filename>:</para>

	  <programlisting>#
#  /etc/printcap for host rose - identified what devices to use
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=/var/spool/lpd/rattan:\
        :lp=/dev/lpt0:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=/var/spool/lpd/bamboo:\
        :lp=/dev/ttyd5:</programlisting>

	  <para>Si dans votre <filename>/etc/printcap</filename> vous
	    ne pr&eacute;cisez pas le param&egrave;tre
	    <literal>lp</literal> pour une imprimante,
	    <application>LPD</application> utilisera
	    <filename>/dev/lp</filename> par d&eacute;faut.  A l'heure
	    actuelle, il n'existe pas d'entr&eacute;e
	    <filename>/dev/lp</filename> sous &os;.</para>

	  <para>Si l'imprimante que vous &ecirc;tes en train
	    d'installer est connect&eacute;e &agrave; un port
	    parall&egrave;le, vous pouvez directement vous rendre
	    &agrave; la section <link
	    linkend="printing-textfilter">Installer le filtre
	    texte</link>.  Sinon, assurez-vous de suivre les
	    instructions de la section qui suit.</para>
	</sect4>

	<sect4 id="printing-commparam">
	  <title>Configurer les param&egrave;tres de communication du
	    gestionnaire d'impression</title>

	  <indexterm>
	    <primary>imprimantes</primary>
	    <secondary>s&eacute;rie</secondary>
	  </indexterm>

	  <para>Pour les imprimantes connect&eacute;es au port
	    s&eacute;rie, <application>LPD</application> peut
	    configurer la vitesse en bps, la parit&eacute;, et
	    d'autres param&egrave;tres de communication s&eacute;rie,
	    pour le compte du programme de filtre qui envoie les
	    donn&eacute;es &agrave; l'imprimante.  C'est avantageux
	    dans la mesure o&ugrave;:</para>

	  <itemizedlist>
	    <listitem>
	      <para>Cela vous laisse essayer divers param&egrave;tres
		simplement en &eacute;ditant le fichier
		<filename>/etc/printcap</filename>; vous n'avez pas
		besoin de recompiler le programme de filtre.</para>
	    </listitem>

	    <listitem>
	      <para>Cela permet au gestionnaire d'impression
		d'utiliser le m&ecirc;me programme pour de multiples
		imprimantes qui peuvent avoir des param&egrave;tres de
		communication s&eacute;rie diff&eacute;rents.</para>
	    </listitem>
	  </itemizedlist>

	  <para>Les param&egrave;tres
	    <filename>/etc/printcap</filename> suivants
	    contr&ocirc;lent les options de communication s&eacute;rie
	    pour le p&eacute;riph&eacute;rique sp&eacute;cifi&eacute;
	    dans le param&egrave;tre <literal>lp</literal>:</para>

	  <variablelist>
	    <varlistentry>
	      <term><literal>br#<replaceable>vitesse-bps</replaceable></literal></term>

	      <listitem>
		<para>Positionne la vitesse de transmission du
		  p&eacute;riph&eacute;rique &agrave;
		  <replaceable>vitesse-bps</replaceable>, o&ugrave;
		  <replaceable>vitesse-bps</replaceable> peut prendre
		  l'une des valeurs suivantes: 50, 75, 110, 134, 150,
		  200, 300, 600, 1200, 1800, 2400, 4800, 9600, 19200,
		  38400, 57600, ou 115200 bits par seconde.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><literal>ms#<replaceable>stty-mode</replaceable></literal></term>

	      <listitem>
		<para>Positionne les options du
		  p&eacute;riph&eacute;rique de terminal apr&egrave;s
		  l'avoir ouvert.  &man.stty.1; pr&eacute;sente les
		  options disponibles.</para>
	      </listitem>
	    </varlistentry>
	  </variablelist>

	  <para>Quand <application>LPD</application> ouvre le
	    p&eacute;riph&eacute;rique sp&eacute;cifi&eacute; par le
	    param&egrave;tre <literal>lp</literal>, il positionne les
	    caract&eacute;ristiques de ce p&eacute;riph&eacute;rique
	    aux valeurs pr&eacute;cis&eacute;es par le
	    param&egrave;tre <literal>ms#</literal>.  Les modes
	    suivants, d&eacute;taill&eacute;s dans &man.stty.1; sont
	    particuli&egrave;rement int&eacute;ressants:
	    <literal>parenb</literal>, <literal>parodd</literal>,
	    <literal>cs5</literal>, <literal>cs6</literal>,
	    <literal>cs7</literal>, <literal>cs8</literal>,
	    <literal>cstopb</literal>, <literal>crtscts</literal>, et
	    <literal>ixon</literal>.</para>

	  <para>Peaufinons notre exemple pour l'imprimante qui est
	    connect&eacute;e au sixi&egrave;me port s&eacute;rie. Nous
	    allons param&eacute;trer sa vitesse &agrave; 38400 bps.
	    Quant au mode, nous allons sp&eacute;cifier aucune
	    parit&eacute; avec <literal>-parenb</literal>, des
	    caract&egrave;res 8 bits avec <literal>cs8</literal>,
	    aucun contr&ocirc;le modem avec <literal>clocal</literal>
	    et un contr&ocirc;le de flux mat&eacute;riel avec
	    <literal>crtscts</literal>:</para>

	  <programlisting>bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=/var/spool/lpd/bamboo:\
        :lp=/dev/ttyd5:ms#-parenb cs8 clocal crtscts:</programlisting>
	</sect4>

	<sect4 id="printing-textfilter">
	  <title>Installer le filtre texte</title>

	  <indexterm>
	    <primary>imprimer</primary>
	    <secondary>filtres</secondary>
	  </indexterm>

	  <para>Nous sommes maintenant en mesure de dire &agrave;
	    <application>LPD</application> quel filtre texte utiliser
	    pour envoyer les travaux &agrave; l'imprimante.  Un
	    <emphasis>filtre texte</emphasis>, &eacute;galement connu
	    sous le nom de <emphasis>filtre
	    d'entr&eacute;e</emphasis>, est un programme que
	    <application>LPD</application> lance lorsqu'il a une
	    impression &agrave; effectuer.  Lorsque
	    <application>LPD</application> ex&eacute;cute le filtre
	    texte pour une imprimante, il redirige l'entr&eacute;e
	    standard du filtre sur le travail d'impression, et la
	    sortie standard sur le fichier sp&eacute;cial de
	    p&eacute;riph&eacute;rique sp&eacute;cifi&eacute; par le
	    param&egrave;tre <literal>lp</literal>.  On attend du
	    filtre qu'il lise le travail d'impression sur son
	    entr&eacute;e standard, effectue les transformations
	    n&eacute;cessaires pour l'imprimante, et &eacute;crive le
	    r&eacute;sultat sur sa sortie standard, qui sera
	    imprim&eacute;e.  Pour plus d'informations sur les filtres
	    texte, lisez la section <link
	    linkend="printing-advanced-filters">Filtres</link>.</para>

	  <para>Pour notre configuration simple de l'imprimante, le
	    filtre texte peut &ecirc;tre une petite proc&eacute;dure
	    d'interpr&eacute;teur de commandes qui ne fera
	    qu'ex&eacute;cuter <command>/bin/cat</command> pour
	    envoyer le travail d'impression &agrave; l'imprimante.  Un
	    autre filtre est livr&eacute; avec &os;, nomm&eacute;
	    <filename>lpf</filename>, qui se charge de faire des
	    suppressions arri&egrave;re et des soulignements pour les
	    imprimantes qui ne sauraient pas g&eacute;rer correctement
	    ce genre de flux de caract&egrave;res.  Et bien s&ucirc;r,
	    vous pouvez utiliser un autre filtre, quel qu'il soit.  Le
	    filtre <filename>lpf</filename> est d&eacute;taill&eacute;
	    dans la section <link
	    linkend="printing-advanced-lpf">lpf: un filtre
	    texte</link>.</para>

	  <para>Tout d'abord, composons le filtre
	    <filename>/usr/local/libexec/if-simple</filename> qui sera
	    un simple filtre texte.  Ecrivez ceci avec votre
	    &eacute;diteur de texte favori:</para>

	  <programlisting>#!/bin/sh
#
# if-simple - Simple text input filter for lpd
# Installed in /usr/local/libexec/if-simple
#
# Simply copies stdin to stdout.  Ignores all filter arguments.

/bin/cat &amp;&amp; exit 0
exit 2</programlisting>

	  <para>Rendez le fichier ex&eacute;cutable:</para>

	  <screen>&prompt.root; <userinput>chmod 555 /usr/local/libexec/if-simple</userinput></screen>

	  <para>Et avertissez <application>LPD</application> qu'il
	    doit l'utiliser, en renseignant le param&egrave;tre
	    <literal>if</literal> dans
	    <filename>/etc/printcap</filename>.  Nous l'ajouterons aux
	    deux imprimantes utilis&eacute;es jusqu'ici dans notre
	    <filename>/etc/printcap</filename> d'exemple:</para>

	  <programlisting>#
#  /etc/printcap for host rose - added text filter
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=/var/spool/lpd/rattan:\ :lp=/dev/lpt0:\
        :if=/usr/local/libexec/if-simple:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=/var/spool/lpd/bamboo:\
        :lp=/dev/ttyd5:ms#-parenb cs8 clocal crtscts:\
        :if=/usr/local/libexec/if-simple:</programlisting>

	  <note>
	    <para>Vous trouverez une copie du filtre
	      <filename>if-simple</filename> dans le r&eacute;pertoire
	      <filename
	      class="directory">/usr/share/examples/printing</filename>.</para>
	  </note>
	</sect4>

	<sect4>
	  <title>Lancer <application>LPD</application></title>

	  <para>&man.lpd.8; se lance depuis
	    <filename>/etc/rc</filename>, avec la variable de
	    contr&ocirc;le <literal>lpd_enable</literal>.  Cette
	    variable a <literal>NO</literal> pour valeur par
	    d&eacute;faut.  Si vous ne l'avez pas d&eacute;j&agrave;
	    fait, ajoutez la ligne:</para>

	  <programlisting>lpd_enable="YES"</programlisting>

	  <para>&agrave; votre <filename>/etc/rc.conf</filename>, puis
	    relancez votre machine, ou lancez simplement
	    &man.lpd.8;.</para>

	  <screen>&prompt.root; <userinput>lpd</userinput></screen>
	</sect4>

	<sect4 id="printing-trying">
	  <title>Tester la configuration</title>

	  <para>Vous avez achev&eacute; la configuration simple de
	    <application>LPD</application>.  Malheureusement, les
	    f&eacute;licitations ne sont pas encore &agrave; l'ordre
	    du jour, puisque nous devons encore tester la
	    configuration et r&eacute;soudre tout probl&egrave;me.
	    Pour tester la configuration, essayez d'imprimer quelque
	    chose.  Pour imprimer avec le syst&egrave;me
	    <application>LPD</application>, vous devez utiliser la
	    commande &man.lpr.1;, qui soumet un travail
	    d'impression.</para>

	  <para>Vous pouvez combiner &man.lpr.1; au programme
	    &man.lptest.1;, que nous avons pr&eacute;sent&eacute;
	    &agrave; la section <link
	    linkend="printing-testing">V&eacute;rifier la
	    communication avec l'imprimante</link>, pour produire du
	    texte de test.</para>

	  <para><emphasis>Pour tester la configuration simple de
	    <application>LPD</application></emphasis></para>

	  <para>Entrez:</para>

	  <screen>&prompt.root; <userinput>lptest 20 5 | lpr -P<replaceable>nom-de-l-imprimante</replaceable></userinput></screen>

	  <para>O&ugrave;
	    <replaceable>nom-de-l-imprimante</replaceable>
	    repr&eacute;sente le nom (ou l'alias) d'une imprimante tel
	    que sp&eacute;cifi&eacute; dans
	    <filename>/etc/printcap</filename>.  Pour tester
	    l'imprimante par d&eacute;faut, tapez &man.lpr.1; sans
	    aucun argument <option>-P</option>.  Encore une fois, si
	    vous faites ce test avec une imprimante qui s'attend
	    &agrave; recevoir du &postscript;, envoyez un programme
	    &postscript; au lieu d'employer &man.lptest.1;.  Vous
	    pouvez le faire en pla&ccedil;ant le programme dans un
	    fichier et en entrant <command>lpr
	    <replaceable>fichier</replaceable></command>.</para>

	  <para>Pour une imprimante &postscript;, vous devriez obtenir
	    le r&eacute;sultat du programme.  Si vous utilisez
	    &man.lptest.1;, alors votre sortie devrait ressembler
	    &agrave; &ccedil;a:</para>

	  <programlisting>!"#$%&amp;'()*+,-./01234
"#$%&amp;'()*+,-./012345
#$%&amp;'()*+,-./0123456
$%&amp;'()*+,-./01234567
%&amp;'()*+,-./012345678</programlisting>

	  <para>Pour tester l'imprimante plus encore,
	    t&eacute;l&eacute;chargez des programmes (pour les
	    imprimantes bas&eacute;es sur un langage
	    sp&eacute;cifique) plus longs, ou lancez &man.lptest.1;
	    avec des arguments diff&eacute;rents.  Par exemple,
	    <command>lptest 80 60</command> produira 60 lignes de 80
	    caract&egrave;res chacune.</para>

	  <para>Si l'impression ne fonctionne pas, lisez la section
	    <link linkend="printing-troubleshooting">R&eacute;solution
	    des probl&egrave;mes</link>.</para>
	</sect4>
      </sect3>
    </sect2>
  </sect1>

  <sect1 id="printing-advanced">
    <title>Advanced Printer Setup ** Traduction en Cours **</title>
    <para></para>

    <sect2 id="printing-advanced-filter-intro">
      <title>Filters</title>
      <sect3 id="printing-advanced-filters">
	<title>How Filters Work</title>
	<para></para>
      </sect3>

      <sect3 id="printing-advanced-if-conversion">
	<title>Accommodating Plain Text Jobs on &postscript; Printers</title>
	<para></para>
      </sect3>

      <sect3 id="printing-advanced-ps">
	<title>Simulating &postscript; on Non &postscript; Printers</title>
	<para></para>
      </sect3>

      <sect3 id="printing-advanced-convfilters">
	<title>Conversion Filters</title>
	<para></para>
      </sect3>

      <sect3 id="printing-advanced-of">
	<title>Output Filters</title>
	<para></para>
      </sect3>

      <sect3 id="printing-advanced-lpf">
	<title><command>lpf</command>: a Text Filter</title>
	<para></para>
      </sect3>

    <sect2 id="printing-advanced-network-printers">
      <title>Networked Printing</title>

      <sect3 id="printing-advanced-network-rm">
	<title>Printers Installed on Remote Hosts</title>
	<para></para>
      </sect3>

      <sect3 id="printing-advanced-network-net-if">
	<title>Printers with Networked Data Stream Interfaces</title>
	<para></para>
      </sect3>
    </sect2>
  </sect1>

  <sect1 id="printing-using">
    <title>Using Printers ** Traduction en Cours **</title>
    <para></para>
  </sect1>

  <sect1 id="printing-lpd-alternatives">
    <title>Alternatives to the Standard Spooler ** Traduction en Cours **</title>
    <para></para>
  </sect1>

  <sect1 id="printing-troubleshooting">
    <title>Troubleshooting ** Traduction en Cours **</title>
    <para></para>
  </sect1>
</chapter>

<!--
     Local Variables:
     mode: sgml
     sgml-declaration: "../chapter.decl"
     sgml-indent-data: t
     sgml-omittag: nil
     sgml-always-quote-attributes: t
     sgml-parent-document: ("../book.sgml" "part" "chapter")
     End:
-->
