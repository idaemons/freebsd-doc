<!--
     The FreeBSD Documentation Project
     The FreeBSD French Documentation Project

     $FreeBSD$
     Original revision: 1.261
-->

<chapter id="ppp-and-slip">
  <chapterinfo>
    <authorgroup>
      <author>
	<firstname>Jim</firstname>
	<surname>Mock</surname>
	<contrib>Restructur&eacute;, r&eacute;organis&eacute;, et mis &agrave;
	  jour par </contrib>
	<!-- 1 Mar 2000 -->
      </author>
    </authorgroup>
  </chapterinfo>

  <title>PPP et SLIP ** Traduction en Cours **</title>
  &trans.a.fonvieille;

  <sect1 id="ppp-and-slip-synopsis">
    <title>Synopsis</title>
    <indexterm id="ppp-ppp">
      <primary>PPP</primary>
    </indexterm>
    <indexterm id="ppp-slip">
      <primary>SLIP</primary>
    </indexterm>

    <para>&os; dispose de nombreuses fa&ccedil;ons pour relier un
      ordinateur &agrave; un autre.  Pour mettre en place un
      r&eacute;seau ou &eacute;tablir une connexion Internet par
      l'interm&eacute;diaire d'un modem, ou pour autoriser d'autres
      &agrave; le faire par votre interm&eacute;diaire, il est
      n&eacute;cessaire d'utiliser PPP ou SLIP.  Ce chapitre
      d&eacute;crit la configuration en d&eacute;tail de ces services
      de communication par modem.</para>

    <para>Apr&egrave;s la lecture de ce chapitre, vous saurez:</para>

    <itemizedlist>
      <listitem>
	<para>Comment configurer PPP en mode utilisateur.</para>
      </listitem>
      <listitem>
	<para>Comment configurer PPP int&eacute;gr&eacute; au
	  noyau.</para>
      </listitem>
      <listitem>
	<para>Comment configurer <acronym>PPPoE</acronym> (PPP sur
	  Ethernet).</para>
      </listitem>
      <listitem>
	<para>Comment configurer <acronym>PPPoA</acronym> (PPP sur
	  ATM).</para>
      </listitem>
      <listitem>
	<para>Comment configurer et utiliser un client et un serveur
	  SLIP.</para>
      </listitem>
    </itemizedlist>

    <indexterm id="ppp-ppp-user">
      <primary>PPP</primary>
      <secondary>PPP en mode utilisateur</secondary>
    </indexterm>
    <indexterm id="ppp-ppp-kernel">
      <primary>PPP</primary>
      <secondary>PPP int&eacute;gr&eacute; au noyau</secondary>
    </indexterm>
    <indexterm id="ppp-ppp-ethernet">
      <primary>PPP</primary>
      <secondary>sur Ethernet</secondary>
    </indexterm>

    <para>Avant de lire ce chapitre, vous devrez:</para>

    <itemizedlist>
      <listitem>
	<para>Etre familier avec la terminologie r&eacute;seau de
	base.</para>
      </listitem>
      <listitem>
	<para>Comprendre les bases, le but d'une connexion entrante
	  par modem, et PPP et/ou SLIP.</para>
      </listitem>
    </itemizedlist>

    <para>Vous pouvez vous demander quelle est la principale
      diff&eacute;rence entre PPP en mode utilisateur et PPP
      int&eacute;gr&eacute; au noyau.  La r&eacute;ponse est simple:
      PPP en mode utilisateur traite les donn&eacute;es entrantes et
      sortantes en dehors du noyau.  C'est couteux en terme de copie
      de donn&eacute;e entre le noyau et l'espace utilisateur mais
      permet l'impl&eacute;mentation de plus de fonctionnalit&eacute;s
      PPP.  PPP en mode utilisateur utilise le
      p&eacute;riph&eacute;rique <devicename>tun</devicename> pour
      communiquer avec le monde ext&eacute;rieur alors que PPP
      int&eacute;gr&eacute; au noyau utilise le
      p&eacute;riph&eacute;rique <devicename>ppp</devicename>.</para>

    <note>
      <para>Dans ce chapitre, le programme utilisateur PPP sera
      simplement appel&eacute; <application>ppp</application>,
      &agrave; moins qu'il faille explicitement faire la distinction
      entre lui et d'autres logiciels PPP comme
      <application>pppd</application>.  Sauf indications contraires,
      toutes les commandes mentionn&eacute;es dans ce chapitre doivent
      &ecirc;tre ex&eacute;cut&eacute;es par le super-utilisateur
      <username>root</username>.</para>
    </note>
  </sect1>

  <sect1 id="userppp">
    <title>Using User PPP ** Traduction en Cours **</title>
    <para></para>
  </sect1>

  <sect1 id="ppp">
    <title>Using Kernel PPP ** Traduction en Cours **</title>
    <para></para>
  </sect1>

  <sect1 id="pppoe">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Jim</firstname>
	  <surname>Mock</surname>
	  <contrib>Contribution de (d'apr&egrave;s
	    http://node.to/freebsd/how-tos/how-to-freebsd-pppoe.html)</contrib>
	</author>
      </authorgroup>
      <!-- 10 Jan 2000 -->
    </sect1info>

    <title>Utiliser PPP sur Ethernet (PPPoE)</title>
    <indexterm><primary>PPP</primary><secondary>sur Ethernet</secondary></indexterm>
    <indexterm>
      <primary>PPPoE</primary>
      <see>PPP, sur Ethernet</see>
    </indexterm>

    <para>Cette section d&eacute;crit comment configurer PPP sur Ethernet
      (<acronym>PPPoE</acronym>).</para>

    <sect2>
      <title>Configuration du noyau</title>

      <para>Il n'est plus du tout n&eacute;cessaire de configurer le
	noyau pour utiliser PPPoE.  Si le support netgraph
	n&eacute;cessaire n'est pas compil&eacute; dans le noyau, il
	sera charg&eacute; dynamiquement par
	<application>ppp</application>.</para>
    </sect2>

    <sect2>
      <title>Renseigner <filename>ppp.conf</filename></title>

      <para>Voici un exemple de fichier <filename>ppp.conf</filename>
	op&eacute;rationnel:</para>

      <programlisting>default:
  set log Phase tun command # vous pouvez d&eacute;tailler plus les traces si vous le d&eacute;sirez
  set ifaddr 10.0.0.1/0 10.0.0.2/0

nom_du_fournisseur_d'acc&egrave;s:
  set device PPPoE:<replaceable>xl1</replaceable> # remplacez xl1 par votre p&eacute;riph&eacute;rique Ethernet
  set authname VOTRENOMDUTILISATEUR
  set authkey VOTREMOTDEPASSE
  set dial
  set login
  add default HISADDR</programlisting>
    </sect2>

    <sect2>
      <title>Ex&eacute;cuter <application>ppp</application></title>

      <para>En tant que <username>root</username>, vous pouvez
	lancer:</para>

      <screen>&prompt.root; <userinput>ppp -ddial nom_du_fournisseur_d'acc&egrave;s</userinput></screen>
    </sect2>

    <sect2>
      <title>Lancer <application>ppp</application> au
	d&eacute;marrage</title>

      <para>Ajoutez ce qui suit &agrave; votre fichier
	<filename>/etc/rc.conf</filename>:</para>

      <programlisting>ppp_enable="YES"
ppp_mode="ddial"
ppp_nat="YES"	# si vous voulez activer NAT pour votre réseau local, sinon NO
ppp_profile="nom_du_fournisseur_d'acc&egrave;s"</programlisting>
    </sect2>

    <sect2>
      <title>Utilisation d'une &eacute;tiquette de service PPPoE</title>

      <para>Parfois il sera n&eacute;cessaire d'utiliser une
	&eacute;tiquette de service pour &eacute;tablir votre
	connexion.  Les &eacute;tiquettes de service sont
	employ&eacute;es pour faire la distinction entre
	diff&eacute;rents serveurs PPPoE attach&eacute;s &agrave; un
	r&eacute;seau donn&eacute;.</para>

      <para>Vous devez avoir l'information concernant
	l'&eacute;tiquette de service dans la documentation fournie
	par votre fournisseur d'acc&egrave;s.  Si vous ne pouvez la
	trouver, contactez le support technique de votre fournisseur
	d'acc&egrave;s Internet.</para>

      <para>En dernier ressort, vous pourrez essayer la m&eacute;thode
	sugg&eacute;r&eacute;e par le programme <ulink
	url="http://www.roaringpenguin.com/pppoe/">Roaring Penguin
	PPPoE</ulink> qui peut-&ecirc;tre trouv&eacute; dans le <link
	linkend="ports">catalogue des logiciels port&eacute;s</link>.
	Gardez cependant &agrave; l'esprit, que cela peut
	d&eacute;programmer votre modem et le rendre inutilisable,
	aussi r&eacute;fl&eacute;chissez &agrave; deux fois avant de
	le faire.  Installez simplement le logiciel fourni avec le
	modem par votre fournisseur d'acc&egrave;s.  Ensuite
	acc&eacute;dez au menu <guimenu>Syst&egrave;me</guimenu> du
	programme.  Le nom de votre profil devrait y figurer.  C'est
	habituellement le nom du <emphasis>FAI</emphasis>.</para>

      <para>Le nom du profil (&eacute;tiquette de service) sera
	utilis&eacute; dans l'entr&eacute;e de configuration PPPoE
	dans le fichier <filename>ppp.conf</filename> dans la partie
	fournisseur d'acc&egrave;s de la commande <command>set
	device</command> (voir la page de manuel &man.ppp.8; pour plus
	de d&eacute;tails).  Cela devrait ressembler &agrave;
	ceci:</para>

      <programlisting>set device PPPoE:<replaceable>xl1</replaceable>:<replaceable>FAI</replaceable></programlisting>

      <para>N'oubliez pas de changer <replaceable>xl1</replaceable>
	pour le p&eacute;riph&eacute;rique correct correspondant
	&agrave; votre carte Ethernet.</para>

      <para>N'oubliez pas de changer <replaceable>FAI</replaceable>
	par le profil que vous avez d&eacute;termin&eacute;
	ci-dessus.</para>

      <para>Pour une information suppl&eacute;mentaire,
	consultez:</para>

      <itemizedlist>
	<listitem>
	  <para><ulink
	    url="http://renaud.waldura.com/doc/freebsd/pppoe/">Cheaper
	    Broadband with FreeBSD on DSL</ulink> par Renaud
	    Waldura.</para>
	</listitem>

	<listitem>
	  <para><ulink
	    url="http://www.ruhr.de/home/nathan/FreeBSD/tdsl-freebsd.html">
	    Nutzung von T-DSL und T-Online mit FreeBSD</ulink>
	    par Udo Erdelhoff (en allemand).</para>
	</listitem>
      </itemizedlist>
    </sect2>

    <sect2 id="ppp-3com">

      <title>PPPoE avec un modem ADSL &tm.3com; <trademark class="registered">HomeConnect</trademark> Dual Link</title>

      <para>Ce modem ne respecte pas la <ulink
	url="http://www.faqs.org/rfcs/rfc2516.html">RFC 2516</ulink>
	(<emphasis>A Method for transmitting PPP over Ethernet
	(PPPoE)</emphasis>, r&eacute;dig&eacute;e par L. Mamakos, K.
	Lidl, J. Evarts, D. Carrel, D. Simone, et R. Wheeler).  Au
	lieu de cela des codes diff&eacute;rents pour les types de
	paquets sont utilis&eacute;s pour les frames Ethernet.
	Veuillez vous plaindre aupr&egrave;s de <ulink
	url="http://www.3com.com/">3Com</ulink> si vous pensez que le
	modem devrait respecter la sp&eacute;cification PPPoE.</para>

      <para>Afin de permettre &agrave; &os; de communiquer avec ce
	p&eacute;riph&eacute;rique, un param&egrave;tre sysctl doit
	&ecirc;tre configur&eacute;.  Cela peut &ecirc;tre
	effectu&eacute; de mani&egrave;re automatique au
	d&eacute;marrage en renseignant le fichier
	<filename>/etc/sysctl.conf</filename>:</para>

      <programlisting>net.graph.nonstandard_pppoe=1</programlisting>

      <para>ou peut &ecirc;tre param&eacute;tr&eacute; pour prendre
	imm&eacute;diatement effet avec la commande <command>sysctl
	net.graph.nonstandard_pppoe=1</command>.</para>

      <para>Malheureusement, parce que c'est un param&eacute;trage
	concernant l'int&eacute;gralit&eacute; du syt&egrave;me, il
	n'est pas possible de communiquer en m&ecirc;me temps avec un
	client ou un serveur PPPoE normal et un modem ADSL &tm.3com;
	<trademark class="registered">HomeConnect</trademark>.</para>
    </sect2>
  </sect1>

  <sect1 id="pppoa">
    <title>Using <application>PPP</application> over ATM (PPPoA) ** Traduction en Cours **</title>
    <para></para>
  </sect1>

  <sect1 id="slip">
    <title>Using SLIP ** Traduction en Cours **</title>
    <para></para>
  </sect1>
</chapter>

<!-- 
     Local Variables:
     mode: sgml
     sgml-declaration: "../chapter.decl"
     sgml-indent-data: t
     sgml-omittag: nil
     sgml-always-quote-attributes: t
     sgml-parent-document: ("../book.sgml" "part" "chapter")
     End:
-->
