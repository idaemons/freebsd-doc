<!--
     The FreeBSD Documentation Project
     The FreeBSD French Documentation Project

     $FreeBSD$
     Original revision: 1.248
-->

<chapter id="advanced-networking">
  <title>Advanced Networking ** Traduction en Cours **</title>

  <sect1 id="advanced-networking-synopsis">
    <title>Synopsis</title>

    <para>Ce chapitre abordera certains des services r&eacute;seaux
      les plus fr&eacute;quemment utilis&eacute;s sur les
      syst&egrave;mes &unix;.  Nous verrons comment d&eacute;finir,
      mettre en place, tester et maintenir tous les services
      r&eacute;seaux qu'utilise &os;.  De plus, des exemples de
      fichier de configuration ont &eacute;t&eacute; inclus tout au
      long de ce chapitre pour que vous puissiez en
      b&eacute;n&eacute;ficier.</para>

    <para>Apr&egrave;s la lecture de ce chapitre, vous
      conna&icirc;trez:</para>

    <itemizedlist>
      <listitem>
	<para>Les bases sur les passerelles et les routes.</para>
      </listitem>

      <listitem>
	<para>Comment utiliser &os; en tant que pont
	  (&ldquo;bridge&rdquo;).</para>
      </listitem>

      <listitem>
	<para>Comment configurer le syst&egrave;me de fichiers
	  r&eacute;seau.</para>
      </listitem>

      <listitem>
	<para>Comment configurer le d&eacute;marrage via le
	  r&eacute;seau pour une machine sans disque dur.</para>
      </listitem>

      <listitem>
	<para>Comment mettre en place un serveur d'information sur le
	  r&eacute;seau pour partager les comptes utilisateurs.</para>
      </listitem>

      <listitem>
	<para>Comment configurer le param&eacute;trage r&eacute;seau
	  automatique en utilisant DHCP.</para>
      </listitem>

      <listitem>
	<para>Comment configurer un serveur de noms de domaine.</para>
      </listitem>

      <listitem>
	<para>Comment synchroniser l'heure et la date, et mettre en
	  place en serveur de temps, avec le protocole NTP.</para>
      </listitem>

      <listitem>
	<para>Comment configurer la translation d'adresse
	  r&eacute;seau.</para>
      </listitem>

      <listitem>
	<para>Comment g&eacute;rer le &ldquo;daemon&rdquo;
	  <application>inetd</application>.</para>
      </listitem>

      <listitem>
	<para>Comment connecter deux ordinateurs via PLIP.</para>
      </listitem>

      <listitem>
	<para>Comment configurer l'IPv6 sur une machine &os;.</para>
      </listitem>
    </itemizedlist>

    <para>Avant de lire ce chapitre, vous devrez:</para>

    <itemizedlist>
      <listitem>
	<para>Comprendre les bases des proc&eacute;dures
	  <filename>/etc/rc</filename>.</para>
      </listitem>

      <listitem>
	<para>Etre familier avec la terminologie r&eacute;seau de
	  base.</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 id="network-routing">
    <title>Gateways and Routes</title>
    <para></para>
  </sect1>

  <sect1 id="network-wireless">
    <title>Wireless Networking</title>
    <para></para>
  </sect1>

  <sect1 id="network-bluetooth">
    <title>Bluetooth</title>
    <para></para>
  </sect1>

  <sect1 id="network-bridging">
    <title>Bridging</title>
    <para></para>
  </sect1>
 
  <sect1 id="network-nfs">
    <title>NFS</title>
    <para></para>
  </sect1>

  <sect1 id="network-diskless">
    <title>Diskless Operation</title>
    <para></para>
  </sect1>
 
  <sect1 id="network-isdn">
    <title>ISDN</title>
    <para></para>
  </sect1>

  <sect1 id="network-nis">
    <title>NIS/YP</title>
    <para></para>
  </sect1>

  <sect1 id="network-dhcp">
    <title>DHCP</title>
    <para></para>
  </sect1>

  <sect1 id="network-dns">
    <title>DNS</title>
    <para></para>
  </sect1>

  <sect1 id="network-ntp">
    <title>NTP</title>
    <para></para>
  </sect1>

  <sect1 id="network-natd">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Chern</firstname>
	  <surname>Lee</surname>
	  <contrib>Contribution de </contrib>
	</author>
      </authorgroup>
    </sect1info>
    <title>Translation d'adresses</title>

    <sect2 id="network-natoverview">
      <title>G&eacute;n&eacute;ralit&eacute;s</title>
      <indexterm>
	<primary><application>natd</application></primary>
      </indexterm>
      <para>Le &ldquo;daemon&rdquo; de translation d'adresses
      (&ldquo;Network Address Translation&rdquo;&mdash;NAT) de &os;,
      g&eacute;n&eacute;ralement connu sous le nom de &man.natd.8; est
      un &ldquo;daemon&rdquo; qui accepte les paquets IP entrants,
      change l'adresse de la source par celle de la machine locale et
      r&eacute;-injecte les paquets dans le flux sortant des paquets
      IP.  Le programme &man.natd.8; effectue cela en changeant
      l'adresse IP et le port source de sorte quand les donn&eacute;es
      r&eacute;ponse arrivent il soit en mesure de d&eacute;terminer
      la provenance des donn&eacute;es d'origine et les
      transf&eacute;rer &agrave; l'&eacute;metteur original.</para>

      <indexterm><primary>Partage de connexion Internet</primary></indexterm>
      <indexterm><primary>IP masquerading</primary></indexterm>

      <para>L'utilisation classique de NAT est le partage de connexion
	Internet.</para>
    </sect2>

    <sect2 id="network-natsetup">
      <title>Architecture du r&eacute;seau</title>

      <para>En raison de la diminution du nombre d'adresses IP libres
	sous IPv4, et de l'augmentation du nombre d'utilisateurs de
	lignes haut-d&eacute;bit comme le c&acirc;ble ou l'ADSL, le
	besoin d'utiliser une solution de partage de connexion est
	donc en constante augmentation.  La possibilit&eacute; de
	connecter plusieurs ordinateurs par l'interm&eacute;diaire
	d'une connexion et d'une adresse IP fait de &man.natd.8; une
	solution de choix.</para>

      <para>Plus g&eacute;n&eacute;ralement, un utilisateur dispose
	d'une machine connect&eacute; sur la c&acirc;ble ou une ligne
	ADSL avec une adresse IP et d&eacute;sire utiliser cet
	ordinateur connect&eacute; pour fournir un acc&egrave;s
	Internet &agrave; d'autres machines du r&eacute;seau
	local.</para>

      <para>Pour cela, la machine &os; sur Internet doit jouer le
	r&ocirc;le de passerelle.  Cette machine passerelle doit avoir
	deux cartes r&eacute;seaux&mdash;l'une pour se connecter au
	routeur Internet, l'autre est connect&eacute;e au
	r&eacute;seau local.  Toutes les machines du r&eacute;seau
	local sont connect&eacute;es par l'interm&eacute;diaire d'un
	hub ou d'un switch.</para>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="advanced-networking/natd">
	</imageobject>

	<textobject>
	  <literallayout class="monospaced">  _______       __________       _________
 |       |     |          |     |         |
 |  Hub  |-----| Client B |-----| Routeur |----- Internet
 |_______|     |__________|     |_________|
     |
 ____|_____
|          |
| Client A |
|__________|</literallayout>
	</textobject>

	<textobject>
	  <phrase>Organisation du r&eacute;seau</phrase>
	</textobject>
      </mediaobject>

      <para>Une telle configuration est commun&eacute;ment
	utilis&eacute;e pour partager une connexion Internet.  Une des
	machines du r&eacute;seau local est connect&eacute;e &agrave;
	Internet.  Le reste des machines acc&egrave;de &agrave;
	Internet par l'interm&eacute;diaire de cette machine
	&ldquo;passerelle&rdquo;.</para>
    </sect2>

    <sect2 id="network-natdkernconfiguration">
      <indexterm>
	<primary>noyau</primary>
	<secondary>configuration</secondary>
      </indexterm>
      <title>Configuration</title>

      <para>Les options suivantes doivent &ecirc;tre pr&eacute;sentes
	dans le fichier de configuration du noyau:</para>

      <programlisting>options IPFIREWALL
options IPDIVERT</programlisting>

      <para>De plus, les options suivantes peuvent &eacute;galement
	&ecirc;tre utiles:</para>

      <programlisting>options IPFIREWALL_DEFAULT_TO_ACCEPT
options IPFIREWALL_VERBOSE</programlisting>

      <para>Ce qui suit doit figurer dans le fichier
	<filename>/etc/rc.conf</filename>:</para>

      <programlisting>gateway_enable="YES"
firewall_enable="YES"
firewall_type="OPEN"
natd_enable="YES"
natd_interface="<replaceable>fxp0</replaceable>"
natd_flags=""</programlisting>

      <informaltable frame="none">
        <tgroup cols="2">
	  <tbody>
	    <row>
	      <entry>gateway_enable="YES"</entry>
	      <entry>Configure la machine comme passerelle.
		Ex&eacute;cuter
		<command>sysctl net.inet.ip.forwarding=1</command>
		aurait le m&ecirc;me effet.</entry>
	    </row>
	    <row><entry>firewall_enable="YES"</entry>
	      <entry>Active les r&egrave;gles du coupe-feu se
		trouvant dans le fichier
		<filename>/etc/rc.firewall</filename> au
		d&eacute;marrage.</entry>
	    </row>
	    <row><entry>firewall_type="OPEN"</entry>
	      <entry>Cela sp&eacute;cifie un ensemble de r&egrave;gles
		pr&eacute;d&eacute;finies pour le coupe-feu qui autorise
		tous les paquets entrant.  Consultez le fichier
		<filename>/etc/rc.firewall</filename> pour d'autres
		ensembles de r&eacute;gles.</entry>
	    </row>
	    <row>
	      <entry>natd_interface="fxp0"</entry>
	      <entry>Indique &agrave; travers quelle interface
		transf&eacute;rer les paquets (l'interface
		connect&eacute;e &agrave; l'Internet).</entry>
	    </row>
	    <row>
	      <entry>natd_flags=""</entry>
	      <entry>Toutes options de configuration
		suppl&eacute;mentaires pass&eacute;es &agrave;
		&man.natd.8; au d&eacute;marrage.</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para>Le fait d'avoir les options pr&eacute;c&eacute;dentes
	d&eacute;finies dans le fichier
	<filename>/etc/rc.conf</filename> lancera la commande
	<filename>/etc/rc.conf</filename> au d&eacute;marrage.  Cette
	commande peut &ecirc;tre &eacute;galement
	ex&eacute;cut&eacute;e &agrave; la main.</para>

      <para>A chaque machine et interface derri&egrave;re le
	r&eacute;seau local doit &ecirc;tre assign&eacute; une adresse
	IP de l'espace d'adresses priv&eacute;es comme d&eacute;fini
	par la <ulink url="ftp://ftp.isi.edu/in-notes/rfc1918.txt">RFC
	1918</ulink> et doit disposer d'une passerelle par
	d&eacute;faut qui est l'adresse IP interne de la machine
	&man.natd.8;.</para>

      <para>Par exemple, les clients <hostid>A</hostid> et
	<hostid>B</hostid> du r&eacute;seau local ont les adresses IP
	<hostid role="ipaddr">192.168.0.2</hostid> et <hostid
	role="ipaddr">192.168.0.3</hostid>, tandis que l'interface sur
	le r&eacute;seau local de la machine
	<application>natd</application> a pour adresse IP <hostid
	role="ipaddr">192.168.0.1</hostid>.  La passerelle par
	d&eacute;faut des clients <hostid>A</hostid> et
	<hostid>B</hostid> doit &ecirc;tre l'adresse <hostid
	role="ipaddr">192.168.0.1</hostid> de la machine
	<application>natd</application>.  L'interface externe ou
	Internet de cette derni&egrave;re ne demande aucune
	modification sp&eacute;cifique pour que &man.natd.8; puisse
	fonctionner.</para>
    </sect2>

    <sect2 id="network-natdport-redirection">
      <title>Redirection de ports</title>

      <para>L'inconv&eacute;nient avec &man.natd.8; est que les
	clients du r&eacute;seau local ne sont pas accessibles depuis
	l'Internet.  Les clients sur le r&eacute;seau local peuvent
	&eacute;tablir des connexions sortantes vers le monde
	ext&eacute;rieur mais ne peuvent recevoir de connexions
	entrantes.  Cela pr&eacute;sente un probl&egrave;me si l'on
	tente de faire tourner des services Internet sur une des
	machines du r&eacute;seau local.  Une solution simple &agrave;
	ce probl&egrave;me est de rediriger les ports Internet
	s&eacute;lectionn&eacute;s de la machine
	<application>natd</application> vers le client sur le
	r&eacute;seau local.</para>

      <para>Par exemple, un serveur IRC tourne sur le client
	<hostid>A</hostid>, et un serveur web sur le client
	<hostid>B</hostid>.  Pour que cela fonctionne correctement,
	les connections re&ccedil;ues sur les ports 6667 (IRC) et 80
	(web) doivent &ecirc;tre redirig&eacute;es vers les machines
	correspondantes.</para>

      <para>L'option <option>-redirect_port</option> doit &ecirc;tre
	pass&eacute;e &agrave; &man.natd.8; avec les autres options
	ad&eacute;quates.  La syntaxe est la suivante:</para>

      <programlisting>-redirect_port proto targetIP:targetPORT[-targetPORT]
                 [aliasIP:]aliasPORT[-aliasPORT]
                 [remoteIP[:remotePORT[-remotePORT]]]</programlisting>

      <para>Dans l'exemple pr&eacute;c&eacute;dent, l'argument
	pass&eacute; &agrave; la commande devrait &ecirc;tre:</para>

      <programlisting>-redirect_port tcp 192.168.0.2:6667 6667
-redirect_port tcp 192.168.0.3:80 80</programlisting>

      <para>Cela va rediriger les ports <emphasis>tcp</emphasis>
	voulus vers les machines du r&eacute;seau local.</para>

      <para>L'option <option>-redirect_port</option> peut &ecirc;tre
	utilis&eacute;e pour indiquer une plage de ports plut&ocirc;t
	que des ports individuels.  Par exemple <replaceable>tcp
	192.168.0.2:2000-3000 2000-3000</replaceable> redirigerait
	toutes les connexions re&ccedil;ues sur les ports 2000
	&agrave; 3000 vers les ports 2000 &agrave; 3000 du client
	<hostid>A</hostid>.</para>

      <para>Ces options peuvent &ecirc;tre utilis&eacute;es quand on
	ex&eacute;cute directement &man.natd.8;  ou plac&eacute;es dans
	l'option <literal>natd_flags=""</literal> du fichier
	<filename>/etc/rc.conf</filename>.</para>

      <para>Pour plus d'&eacute;l&eacute;ments et d'options de
	configuration consultez la page de manuel &man.natd.8;</para>
    </sect2>

    <sect2 id="network-natdaddress-redirection">
      <title>Redirection d'adresses</title>
      <indexterm><primary>redirection d'adresses</primary></indexterm>

      <para>La redirection d'adresses est utile si plusieurs adresses
	IP sont disponibles mais doivent se trouver sur une seule
	machine.  Avec cela, &man.natd.8; peut assigner &agrave;
	chaque client du r&eacute;seau local sa propre adresse IP
	externe.  Le programme &man.natd.8; r&eacute;crit alors les
	paquets sortant des clients du r&eacute;seau local avec
	l'adresse IP externe correcte et redirige tout le trafic
	entrant sur une adresse IP particuli&egrave;re vers la machine
	du r&eacute;seau local correspondante.  Ce principe est
	&eacute;galement connu sous le nom de translation d'adresses
	statique.  Par exemple, les adresses IP <hostid
	role="ipaddr">128.1.1.1</hostid>, <hostid
	role="ipaddr">128.1.1.2</hostid>, et <hostid
	role="ipaddr">128.1.1.3</hostid> appartiennent &agrave; la
	passerelle <application>natd</application>.  L'adresse <hostid
	role="ipaddr">128.1.1.1</hostid> peut &ecirc;tre
	utilis&eacute;e comme adresse IP externe de la passerelle
	<application>natd</application>, tandis que <hostid
	role="ipaddr">128.1.1.2</hostid> et <hostid
	role="ipaddr">128.1.1.3</hostid> sont redirig&eacute;es vers
	les machines <hostid>A</hostid> et <hostid>B</hostid> du
	r&eacute;seau local.</para>

      <para>La syntaxe de l'option <option>-redirect_address</option>
	est la suivante:</para>

      <programlisting>-redirect_address localIP publicIP</programlisting>

      <informaltable frame="none">
	<tgroup cols="2">
	  <tbody>
	    <row>
	      <entry>localIP</entry>
	      <entry>L'adresse IP interne du client sur le
		r&eacute;seau local.</entry>
	    </row>
	    <row>
	      <entry>publicIP</entry>
	      <entry>L'adresse IP externe correspondant au client sur
		le r&eacute;seau local.</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para>Dans l'exemple, les arguments pass&eacute;s &agrave; la
	commande seraient:</para>

      <programlisting>-redirect_address 192.168.0.2 128.1.1.2
-redirect_address 192.168.0.3 128.1.1.3</programlisting>

      <para>Comme pour l'option <option>-redirect_port</option>, ces
	options peuvent &ecirc;tre plac&eacute;es dans l'option
	<literal>natd_flags=""</literal> du fichier
	<filename>/etc/rc.conf</filename>.  Avec la redirection
	d'adresse, il n'y a pas besoin de redirection de ports puisque
	toutes les donn&eacute;es re&ccedil;ues sur une IP
	particuli&egrave;re sont redirig&eacute;es.</para>

      <para>Les adresses IP sur la machine
	<application>natd</application> doivent &ecirc;tre active et
	pointer sur l'interface externe.  Consultez la page de manuel
	&man.rc.conf.5; pour cela.</para>
    </sect2>
  </sect1>

  <sect1 id="network-inetd">
    <title>inetd <quote>Super-Server</quote></title>

    <sect2 id="network-inetd-overview">
      <title>Overview</title>
      <para></para>
    </sect2>

    <sect2 id="inetd-settings">
      <title>Settings</title>
      <para></para>
    </sect2>

    <sect2 id="inetd-cmdline">
      <title>Command-Line Options</title>
      <para></para>
    </sect2>

    <sect2 id="inetd-conf">
      <title><filename>inetd.conf</filename></title>
      <para></para>
    </sect2>

    <sect2 id="inetd-security">
      <title>Security</title>
      <para></para>
    </sect2>

    <sect2 id="inetd-misc">
      <title>Miscellaneous</title>
      <para></para>
    </sect2>
  </sect1>

  <sect1 id="network-plip">
    <title>IP sur liaison parall&egrave;le (PLIP)</title>

    <indexterm><primary>PLIP</primary></indexterm>
    <indexterm><primary>IP sur liaison parall&egrave;le</primary></indexterm>

    <para>PLIP nous permet d'utiliser le protocole TCP/IP entre ports
      parall&egrave;les.  C'est utile sur des machines sans cartes
      r&eacute;seaux, ou pour effectuer une installation sur
      ordinateur portable.  Dans cette section nous aborderons:</para>

    <itemizedlist>
      <listitem>
	<para>La fabrication d'un c&acirc;ble parall&egrave;le
	  (&ldquo;laplink&rdquo;).</para>
      </listitem>

      <listitem>
	<para>La connexion de deux ordinateurs via PLIP.</para>
      </listitem>
    </itemizedlist>

    <sect2 id="network-create-parallel-cable">
      <title>Fabriquer un c&acirc;ble parall&egrave;le</title>

      <para>Vous pouvez acheter un c&acirc;ble parall&egrave;le
	aupr&egrave;s de la plupart des vendeurs de mat&eacute;riel
	informatique.  Si ce n'est pas le cas, ou d&eacute;sirez
	savoir comment est fait un tel c&acirc;ble, le tableau suivant
	montre comment en faire un &agrave; partir d'un c&acirc;ble
	parall&egrave;le d'imprimante.</para>

      <table>
	<title>C&acirc;blage d'un c&acirc;ble parall&egrave;le pour
	  r&eacute;seau</title>

	<tgroup cols="5">
	  <thead>
	    <row>
	      <entry>A-name</entry>

	      <entry>A-End</entry>

	      <entry>B-End</entry>

	      <entry>Descr.</entry>

	      <entry>Post/Bit</entry>
	    </row>
	  </thead>

	  <tbody>
	    <row>
	      <entry><literallayout>DATA0
-ERROR</literallayout></entry>

	      <entry><literallayout>2
15</literallayout></entry>

	      <entry><literallayout>15
2</literallayout></entry>

	      <entry>Data</entry>

	      <entry><literallayout>0/0x01
1/0x08</literallayout></entry>
	    </row>

	    <row>
	      <entry><literallayout>DATA1
+SLCT</literallayout></entry>

	      <entry><literallayout>3
13</literallayout></entry>

	      <entry><literallayout>13
3</literallayout></entry>

	      <entry>Data</entry>

	      <entry><literallayout>0/0x02
1/0x10</literallayout></entry>
	    </row>

	    <row>
	      <entry><literallayout>DATA2
+PE</literallayout></entry>

	      <entry><literallayout>4
12</literallayout></entry>

	      <entry><literallayout>12
4</literallayout></entry>

	      <entry>Data</entry>

	      <entry><literallayout>0/0x04
1/0x20</literallayout></entry>
	    </row>

	    <row>
	      <entry><literallayout>DATA3
-ACK</literallayout></entry>

	      <entry><literallayout>5
10</literallayout></entry>

	      <entry><literallayout>10
5</literallayout></entry>

	      <entry>Strobe</entry>

	      <entry><literallayout>0/0x08
1/0x40</literallayout></entry>
	    </row>

	    <row>
	      <entry><literallayout>DATA4
BUSY</literallayout></entry>

	      <entry><literallayout>6
11</literallayout></entry>

	      <entry><literallayout>11
6</literallayout></entry>

	      <entry>Data</entry>

	      <entry><literallayout>0/0x10
1/0x80</literallayout></entry>
	    </row>

	    <row>
	      <entry>GND</entry>

	      <entry>18-25</entry>

	      <entry>18-25</entry>

	      <entry>GND</entry>

	      <entry>-</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>
    </sect2>

    <sect2 id="network-plip-setup">
      <title>Configurer PLIP</title>

      <para>Tout d'abord procurez-vous un c&acirc;ble
	&ldquo;laplink&rdquo;.  V&eacute;rifiez ensuite que les deux
	ordinateurs disposent d'un noyau avec le support pour le
	pilote de p&eacute;riph&eacute;rique &man.lpt.4;.</para>

      <screen>&prompt.root; <userinput>grep lp /var/run/dmesg.boot</userinput>
lpt0: &lt;Printer&gt; on ppbus0
lpt0: Interrupt-driven port</screen>

      <para>Le port parall&egrave;le doit fonctionner sous interruption,
	sous &os;&nbsp;4.X vous devriez avoir une ligne semblable
	&agrave; la ligne suivante dans le fichier de configuration du
	noyau:</para>

      <programlisting>device ppc0 at isa? irq 7</programlisting>

      <para>Sous &os;&nbsp;5.X, le fichier
	<filename>/boot/device.hints</filename> devrait contenir les
	lignes suivantes:</para>

      <programlisting>hint.ppc.0.at="isa"
hint.ppc.0.irq="7"</programlisting>

      <para>Ensuite v&eacute;rifiez si le fichier de configuration du
	noyau contient une ligne <literal>device plip</literal>
	ou si le module <filename>plip.ko</filename> est charg&eacute;.
	Dans les deux cas l'interface r&eacute;seau parall&egrave;le
	devrait appara&icirc;tre quand vous utilisez directement la
	commande &man.ifconfig.8;.  Sous &os;&nbsp;4.X de cette
	mani&egrave;re:</para>

      <screen>&prompt.root; <userinput>ifconfig lp0</userinput>
lp0: flags=8810&lt;POINTOPOINT,SIMPLEX,MULTICAST&gt; mtu 1500</screen>

      <para>et sous &os;&nbsp;5.X:</para>

      <screen>&prompt.root; <userinput>ifconfig plip0</userinput>
plip0: flags=8810&lt;POINTOPOINT,SIMPLEX,MULTICAST&gt; mtu 1500</screen>

      <note><para>Le nom de p&eacute;riph&eacute;rique utilis&eacute;
	pour l'interface parall&egrave;le est diff&eacute;rent entre
	&os;&nbsp;4.X
	(<devicename>lp<replaceable>X</replaceable></devicename>)
	et &os;&nbsp;5.X
	(<devicename>plip<replaceable>X</replaceable></devicename>).</para></note>

      <para>Branchez le c&acirc;ble &ldquo;laplink&rdquo; sur les
	interfaces parall&egrave;les des deux ordinateurs.</para>

      <para>Configurez les param&egrave;tres de l'interface
	r&eacute;seau des deux c&ocirc;t&eacute;s en tant que
	<username>root</username>.  Par exemple, si vous voulez
	connecter la machine <hostid>host1</hostid> fonctionnant sous
	&os;&nbsp;4.X avec la machine <hostid>host2</hostid> tournant
	sous &os;&nbsp;5.X:</para>

      <programlisting>                 host1 &lt;-----&gt; host2
IP Address    10.0.0.1      10.0.0.2</programlisting>

      <para>Configurez l'interface sur <hostid>host1</hostid> en tapant:</para>

      <screen>&prompt.root; <userinput>ifconfig lp0 10.0.0.1 10.0.0.2</userinput></screen>

      <para>Configurez l'interface sur <hostid>host2</hostid> en tapant:</para>

      <screen>&prompt.root; <userinput>ifconfig plip0 10.0.0.2 10.0.0.1</userinput></screen>

      <para>Vous devriez avoir maintenant une connexion qui
	fonctionne.  Veuillez consulter les pages de manuel &man.lp.4;
	et &man.lpt.4; pour plus de d&eacute;tails.</para>

      <para>Vous devriez &eacute;galement ajouter les deux noms de
	machines dans le fichier
	<filename>/etc/hosts</filename>:</para>

      <programlisting>127.0.0.1               localhost.my.domain localhost
10.0.0.1                host1.my.domain host1
10.0.0.2                host2.my.domain</programlisting>

      <para>Pour v&eacute;rifier le bon fonctionnement de la connexion,
	aller sur les deux machines et effectuez un &ldquo;ping&rdquo;
	vers l'autre machine.  Par exemple, sur
	<hostid>host1</hostid>:</para>

      <screen>&prompt.root; <userinput>ifconfig lp0</userinput>
lp0: flags=8851&lt;UP,POINTOPOINT,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        inet 10.0.0.1 --&gt; 10.0.0.2 netmask 0xff000000
&prompt.root; <userinput>netstat -r</userinput>
Routing tables

Internet:
Destination        Gateway          Flags     Refs     Use      Netif Expire
host2              host1              UH          0       0       lp0
&prompt.root; <userinput>ping -c 4 host2</userinput>
PING host2 (10.0.0.2): 56 data bytes
64 bytes from 10.0.0.2: icmp_seq=0 ttl=255 time=2.774 ms
64 bytes from 10.0.0.2: icmp_seq=1 ttl=255 time=2.530 ms
64 bytes from 10.0.0.2: icmp_seq=2 ttl=255 time=2.556 ms
64 bytes from 10.0.0.2: icmp_seq=3 ttl=255 time=2.714 ms

--- host2 ping statistics ---
4 packets transmitted, 4 packets received, 0% packet loss
round-trip min/avg/max/stddev = 2.530/2.643/2.774/0.103 ms</screen>
    </sect2>
  </sect1>

  <sect1 id="network-ipv6">
    <title>IPv6</title>
    <para></para>
  </sect1>
</chapter>

<!--
     Local Variables:
     mode: sgml
     sgml-declaration: "../chapter.decl"
     sgml-indent-data: t
     sgml-omittag: nil
     sgml-always-quote-attributes: t
     sgml-parent-document: ("../book.sgml" "part" "chapter")
     End:
-->
<!--  LocalWords:  config mnt www -->
