<!-- $Id: install.sgml,v 1.4 1998-12-15 19:22:47 jesusr Exp $ -->
<!-- The FreeBSD Documentation Spanish Project -->
  <sect>
    <heading>Instalacion<label id="install"></heading>

    <sect1>
      <heading>Que fichero necesito para instalar FreeBSD?</heading>

      <p>Generalmente solo es necesario un disco de 1,44Mb con una imagen
      del fichero <em>floppies/boot.flp</em>. Arranca con este disco para
      comenzar con el programa de instalacion, el cual se encargara de 
      realizar todas las operaciones necesarias (gestion de TCP/IP, 
      cintas, CDROMs, floppies, particiones DOS y cualquier cosa necesaria
      para realizar la instalacion).

      <p>Si necesitas bajarte las distribuciones (para una instalacion desde
      una particion DOS por ejemplo), estas son las distribuciones minimas
      que necesitaras:

      <itemize>
      <item> bin/<newline>
      <item> manpages/<newline>
      <item> compat*/<newline>
      <item> doc/ <newline>
      <item> src/ssys.* <newline>
      </itemize> 

      <p>Todas las instrucciones sobre este procedimiento y una ampliacion
      de la documentacion se puede encontrar en <url
      url="../handbook/install.html"
      name="Instalacion de FreeBSD.">

    <sect1>
      <heading>Ayuda!, La imagen del disco de arranque no cabe en un floppy</heading>
      <p>Un floppy de 1.44MB puede contener hasta 1474560 bytes de datos. La
      imagen de arranque es exactamente de 1474560 bytes.
      <p>Los errores mas comunes en la preparacion de disco de arranque son:
      <itemize>
      <item>No bajarse la imagen en modo <tt>binario</tt> cuando se usa 
       <tt>FTP</tt>.
       <p>Algunos clientes FTP intentan bajar por defecto los ficheros en modo
       <tt>ASCII</tt> e intentan cambiar los caracteres de final de linea 
       recibidos por el que utilice el sistema cliente.
       Esto corrompera inevitablemente la imagen de arranque. Revisa el 
       tamanyo de la imagen: si no es <em>exactamente</em> el mismo tamanyo
       del fichero existente en el servidor, la imagen no servira.
       <p>Solucion: teclea <tt>binary</tt> en la linea de comandos del FTP
       despues de conectar y antes de empezar a bajar la imagen.
      <item>Usando el comando <tt>copy</tt> de DOS (o cualquier herramienta
       GUI equivalente) para transferir la imagen a un disquete.
       <p>Programas como <tt>copy</tt> no funcionaran para la transferencia
       de la imagen a un disco. La imagen tiene el contenido completo del 
       disco, pista por pista, y no esta pensada para ser trasladada a un
       disquete como un fichero normal. Tienes que hacer una transferencia
       "raw" usando herramientas de bajo nivel como <tt>fdimage</tt> o
       <tt>rawrite</tt>, descritas en <url url="../handbook/install.html"
        name="la guia de instalacion de FreeBSD">.
      </itemize>

    <sect1>
      <heading>Donde puedo encontrar las instrucciones de instalacion de FreeBSD?</heading>

      <p>Las instrucciones de instalacion estan en
      <url url="../../handbook/install.html"
      name="Instalacion de FreeBSD.">

    <sect1>
      <heading>Que necesito para poder ejecutar FreeBSD?</heading>

      <p>Necesitaras un PC con 386 o superior, 5 Mb o mas de memoria
      RAM y al menos 60 Mb de espacio en disco duro. Puede funcionar con
      tarjetas graficas de bajo nivel (Hercules), pero para poder ejecutar
      X11R6 es necesario una tarjeta VGA o superior.

    <sect1>
      <heading>Solo tengo 4Mb de RAM. Puedo instalar FreeBSD?</heading>

      <p>FreeBSD 2.1.7 fue la ultima version de FreeBSD que podia ser instalada
      en un sistema de 4Mb. Las nuevas versiones de FreeBSD, como la 2.2, 
      necesitan al menos 5Mb para poder ser instaladas.

      <p>Todas las versiones de FreeBSD, incluyendo la 3.0, funcionaran en
      sistemas con 4Mb de RAM, lo que no pueden ejecutar es la instalacion
      en sistemas con 4Mb. Puedes anyadir memoria extra para el proceso de
      instalacion, y una vez instalado, volver a los 4Mb. Tambien puedes
      instalar tu disco en una maquina con mas de 4Mb, realizar la instalacion
      y volver el disco a su maquina con 4Mb.

      <p>Hay algunas situaciones en las que FreeBSD 2.1.7 no se instalara
      en sistemas con 4Mb. Para ser exactos: no se instalara con 640Kb de
      memoria base + 3Mb de memoria extendida. Si tu placa base puede 
      remapear algo de la memoria "perdida" fuera de los 640Kb a la region
      de 1Mb, entonces aun podras instalar FreeBSD 2.1.7.

      <p>Intenta entrar en el setup de tu BIOS y busca la opcion "remap".
      Activala. Quizas tendras que desactivar la opcion de ROM shadowing.

      <p>Es mas facil anyadir en la maquina 4Mb de memoria para la 
      instalacion. Crea un kernel unicamente con las opciones que necesites
      y vuelve a quitar los 4Mb anyadidos.

      <p>Tambien puedes instalar la version 2.0.5 y a continuacion 
      actualizar tu sistema a la 2.1.7 con la opcion "upgrade" del programa
      de instalacion de la version 2.1.7.

      <p>Despues de la instalacion, si te construyes un kernel personalizado,
      funcionara en 4Mb. Algunos fueron capaces de arrancar con 2Mb (aunque
      despues el sistema era incapaz de hacer nada mas :-)) 

    <sect1>
      <heading> Como puedo hacer mi propio disco de instalacion?  </heading>

      <p>Actualmente, no hay una manera para *solo* hacer un disco de
      instalacion personalizado. Hay algun codigo en
      <tt>/usr/src/release/floppies/Makefile</tt> que supuestamente es para
      hacer *solo* un disco de instalacion personalizado, pero no esta 
      realmente testeado todavia.

    <sect1>
      <heading>Puedo tener mas de un sistema operativo en mi PC?</heading>

      <p>Echa un vistazo en <url url="../tutorials/multios/multios.html"
      name="La pagina multi-OS.">

    <sect1>
      <heading>Puede Windows 95 coexistir con FreeBSD?</heading>

      <p>Instala primero Windows 95 y despues FreeBSD. El boot manager de
      FreeBSD se encargara de darte la opcion de arrancar con cualquiera
      de los dos sistemas. Si lo haces al reves, Windows 95 borrara el 
      boot manager sin hacer ninguna pregunta previa. Si ocurre esto,
      pasa a la siguiente seccion.

    <sect1>
      <heading>
        Windows 95 desinstalo mi boot manager! Como lo recupero ?
      </heading>

      <p>Puedes reinstalar el boot manager que viene con FreeBSD de dos 
      maneras:

      <itemize>
        <item>Ejecutando el DOS, entra en el directorio tools/ de tu 
        distribucion de FreebSD y busca el archivo <bf>bootinst.exe</bf>.
        Ejecutalo de la siguiente manera:

        <p><bf>bootinst.exe boot.bin</bf>

        <p>Y el boot manager estara reinstalado.

        Arranca con el disco de instalacion de FreeBSD y entra en la seccion
        "Custom Installation". Selecciona "Partition". Escoge el disco en el
        cual debe estar instalado el boot manager, y cuando entres en el
        editor de particiones, sin hacer ningun cambio, selecciona (W)rite.
        Seras preguntado para confirmar la accion, responde "si", y cuando
        estes en la ventana de "Boot manager selection" asegurate de 
        seleccionar "Boot Manager".
        Esto reescribira el boot manager en el disco. Ahora, sal del 
        programa de instalacion y rearranca el ordenador de la manera habitual.
      </itemize>

    <sect1>
      <heading>Puedo instalar FreeBSD en un disco con sectores erroneos?</heading>

      <p>La gestion de sectores erroneos por parte de FreeBSD no esta
      desarrollada todavia al 100% y desgraciadamente debemos decirte
      que si tienes discos IDE o ESDI con gran cantidad de sectores
      erroneos, FreeBSD no es para ti. De todas maneras, te aconsejamos
      que antes de descartar la instalacion, hagas un intento.

    <sect1>
      <heading>
        Ocurren cosas extranyas cuando arranco con el disco de instalacion
      </heading>

      <p>Si observas cosas como que la maquina se "cuelga" o se resetea
      espontaneamente cuando intentas arrancar con el disco de instalacion,
      aqui tienes tres preguntas que debes responder tu mismo:-

      <enum>
        <item>Estas usando un disco nuevo, recien formateado y libre de
        errores, o estas usando el disco de publicidad que venia con la
        revista que lleva guardada varios meses debajo de la cama?

        <item>"Bajaste" por ftp la imagen del disco en modo binario?... (no
        te preocupes ya que hasta el mejor de nosotros, por lo menos una
        vez, ha bajado un fichero en modo ASCII)

        <item>Si estas usando uno de esos nuevos sistemas operativos como
        Windows 95 o Windows NT, debes arrancar la maquina en modo DOS puro,
        ya que parece ser que los Windows no se llevan bien con los
        programas que escriben directamente sobre los dispositivos hardware,
        como hace el programa de creacion de discos de instalacion de
        FreeBSD.
      </enum>

      <p>Han habido informaciones referentes a problemas al bajar el disco
      de instalacion con Netscape, por lo que te recomentados que uses
      un programa diferente como cliente de ftp.

    <sect1>
      <heading>Ayuda! No puedo instalar desde una cinta!</heading>

      <p>Si estas instalando la version 2.1.7R desde una cinta, debes crear
      esa cinta con un tamanyo de bloque de tar de 10 (5120 bytes). El
      tamanyo por defecto de los bloques tar es de 20 (10240 bytes), y las
      cintas creadas con este tamanyo por defecto no pueden ser usadas
      para instalar FreeBSD 2.1.7R; con estas cintas tendras un error
      referente a un tamanyo de registro demasiado grande.

    <sect1>
      <heading>
        Conexion de dos maquinas FreeBSD via puerto paralelo (PLIP)
      </heading>

      <p>Coge un cable de laplink y asegurate que ambos ordenadores tienen un
      kernel que soporta el puerto paralelo.

      <verb>
      $ dmesg | grep lp
      lpt0 at 0x378-0x37f irq 7 on isa
      lpt0: Interrupt-driven port
      lp0: TCP/IP capable interface
      </verb>

      <p>Conecta el cable en los dos puertos paralelos.

      <p>Configura los parametros de red para el interfaz lp0 (como root) en
      ambas maquinas. Por ejemplo, si quieres conectar la maquina max y
      moritz:

      <verb>
                 max <-----> moritz
Direccion IP   10.0.0.1      10.0.0.2
      </verb>

     En el arranque de max
     <verb>
        # ifconfig lp0 10.0.0.1 10.0.0.2
     </verb>

En el arranque de moritz

     <verb>
        # ifconfig lp0 10.0.0.2 10.0.0.1
     </verb>

     <p>Esto es todo!!. Por favor, lee los man de lp(4) y lpt(4).

     <p>Tambien deberias anyadir las maquinas en el fichero /etc/hosts

      <verb>
     127.0.0.1               localhost.my.domain localhost
     10.0.0.1                max.my.domain max
     10.0.0.2                moritz.my.domain moritz
     </verb>

     <P>Para asegurar que funciona haz:

     en max:

<verb>
$ ifconfig lp0
lp0: flags=8851<UP,POINTOPOINT,RUNNING,SIMPLEX,MULTICAST> mtu 1500
        inet 10.0.0.1 --> 10.0.0.2 netmask 0xff000000
</verb>

<verb>
$ netstat -r
Routing tables

Internet:
Destination        Gateway            Flags     Refs     Use     Netif Expire
moritz              max              UH          4   127592       lp0
</verb>

<verb>
$ ping -c 4 moritz
PING moritz (10.0.0.2): 56 data bytes
64 bytes from 10.0.0.2: icmp_seq=0 ttl=255 time=2.774 ms
64 bytes from 10.0.0.2: icmp_seq=1 ttl=255 time=2.530 ms
64 bytes from 10.0.0.2: icmp_seq=2 ttl=255 time=2.556 ms
64 bytes from 10.0.0.2: icmp_seq=3 ttl=255 time=2.714 ms

--- moritz ping statistics ---
4 packets transmitted, 4 packets received, 0% packet loss
round-trip min/avg/max/stddev = 2.530/2.643/2.774/0.103 ms
</verb>

    <sect1>
      <heading>
        Puedo instalar FreeBSD en mi portatil sobre PLIP (Parallel Line IP)?
      </heading>

      <p>Conecta los dos ordenadores usando Laplink mediante el puerto
      paralelo y usa las siguientes caracteristicas:

      <verb>
            +----------------------------------------+
            |A-name A-End   B-End   Descr.  Port/Bit |
            +----------------------------------------+
            |DATA0  2       15      Data    0/0x01   |
            |-ERROR 15      2               1/0x08   |
            +----------------------------------------+
            |DATA1  3       13      Data    0/0x02   |
            |+SLCT  13      3               1/0x10   |
            +----------------------------------------+
            |DATA2  4       12      Data    0/0x04   |
            |+PE    12      4               1/0x20   |
            +----------------------------------------+
            |DATA3  5       10      Strobe  0/0x08   |
            |-ACK   10      5               1/0x40   |
            +----------------------------------------+
            |DATA4  6       11      Data    0/0x10   |
            |BUSY   11      6               1/0x80   |
            +----------------------------------------+
            |GND    18-25   18-25   GND -            |
            +----------------------------------------+
      </verb>

      <p>Mira tambien <ref id="pao" name="esta nota"> en la pagina de
      informatica movil.

    <sect1>
      <heading>
        Que geometria debo usar para mis discos?<label id="geometry">
      </heading>

      <p>(Por geometria de un disco, entendemos el numero de cilindros,
      cabezales y sectores por pista en el disco - de ahora en adelante
      nos referiremos por conveniencia a estos parametros como C/H/S. Asi
      es como trabaja la BIOS de los PC's para gestionar la lectra/escritura.

      <p>Por alguna razon, esto parece crear mucha confusion. Ante todo,
      la geometria <tt /fisica/ de un disco SCSI es totalmente irrelevante
      ya que FreeBSD trabaja en terminos de bloques de disco. Con discos
      IDE, FreeBSD trabaja en terminos de C/H/S, pero todos los discos
      modernos convierten estos datos en referencias internas de bloques.

      <p>Para discos SCSI, la geometria a usar depende de si tenemos
      activado en la controladora el soporte de translacion (comunmente
      conocido como "soporte para discos mayores de &gt;1GB" o algo
      similar). Si esta opcion esta desactivada, entonces usa N cilindros,
      64 cabezales y 32 sectores por pista, donde N es la capacidad del
      disco en MB. Por ejemplo, para un disco de 2GB, los parametros
      correctos serian 2048 cilindros, 64 cabezales y 32 sectores.

      <p>Si el soporte de translacion esta activado y la capacidad del disco
      es mayor de 1GB, usa M cilindros, 63 cabezales (*no* 64), y 255
      sectores, donde M es la capacidad del disco en MB dividida por 7.844238.
      Para nuestro ejemplo de un disco de 2GB, los parametros serian 261
      cilindros, 62 cabezales y 255 sectores.

      <p>Si no estas seguro sobre los parametros a usar, o FreeBSD falla
      al detectar la geometria correcta del disco durante la instalacion,
      el metodo mas simple para solucionar este problema es crear una
      pequenya particion DOS en el disco. Entonces, la geometria deberia
      ser detectada correctamente (y siempre puedes borrar esa particion
      desde el "editor de particiones" si no quieres mantenerla).

      <p>Alternativamente, existe una utilidad de libre distribucion
      incluida en FreeBSD llamada <tt/pfdisk.exe/ (situada en el directorio
      <tt>tools</tt> del cd-rom de distribucion o en cualquiera de los
      servidores ftp) que nos dice la geometria del disco usada por el
      sistema operativo DOS. Lo unico que tenemos que hacer es introducir
      los datos obtenidos en el editor de particiones de FreeBSD.

    <sect1>
      <heading>Existe alguna restriccion en como dividir el disco?</heading>

      <p>Si. Debes asegurarte de que la particion raiz esta por debajo del
      cilindro 1024, para que la BIOS pueda arrancar el kernel desde ella.
      (Esta es una limitacion de las BIOS de PC's, no de FreeBSD).

      <p>Para discos SCSI, esto implica que la particion raiz debe estar
      instalada en los primeros 1024MB (o en los primeros 4096MB si la
      translacion extendida esta activada). Para discos IDE, la particion
      raiz debe estar en los primeros 504MB.

    <sect1>
      <heading>
        Que hay sobre los "disk managers" ?
      </heading>

      <p>FreeBSD reconoce el disk manager Ontrack. Otros disk managers no
      son soportados.

      <p>Si quieres usar el disco solo con FreeBSD no necesitas el
      disk manager. Solo configura el disco para el espacio maximo que
      pueda manejar la BIOS (usualmente 504MB), y FreeBSD se encargara
      de averiguar cuanto espacio tienes realmente. Si estas usando
      un disco antiguo con controladora MFM, necesitaras decirle
      explicitamente a FreeBSD cuantos cilindros puede usar.

      <p>Si quieres usar el disco con FreeBSD y otro sistema operativo,
      todavia puedes hacerlo sin necesitar un disk manager; solo asegurate
      que la particion raiz de FreeBSD y la particion de arranque del otro
      sistema operativo estan en los primeros 1024 cilindros. Si eres
      cuidadoso, una particion raiz de 20MB deberia ser suficiente.

    <sect1>
      <heading>
        Cuando arranco FreeBSD obtengo ``Missing Operating System''
        <label id="missing_os">
      </heading>

      <p>Esto es un clasico conflicto entre FreeBSD y DOS u otro sistema
      operativo sobre sus ideas de <ref id="geometry" name="geometria.">.
      Tendras que reinstalar FreeBSD, pero teniendo en cuenta la informacion
      que te damos mas arriba sobre este tema.

    <sect1>
      <heading>No puedo pasar del prompt`F?'.</heading>

      <p>Este es otro problema descrito en el parrafo anterior. La geometria
      de tu BIOS y los datos de configuracion de FreeBSD no coinciden. Si
      tu controladora o BIOS soporta la translacion de cilindros (tambien
      conocido como "soporte para discos de mas de 1GB"), intenta
      activar/desactivar esta opcion y reinstala FreeBSD.

    <sect1>
      <heading>
        Tengo &gt;16MB de RAM. Puede causar esto problemas?<label id="bigram">
      </heading>

      <p>Aparte del rendimiento, no. FreeBSD 2.X tiene buffers que permiten
      al "bus mastering controller" acceder a mas de 16MB. (Esto solo es
      aplicable si estas usando dispositivos ISA).

      <p>Tambien mira la seccion <ref id="reallybigram"
      name="maquinas con &gt;64M"> si tienes esta cantidad de memoria o si
      usas maquinas Compaq u otra BIOS que no da correctamente la cantidad
      de memoria disponible.

    <sect1>
      <heading>Necesito instalar las fuentes completas?</heading>

      <p>En general, no. De todas maneras, te recomendamos que instales,
      por lo menos, el kit de fuentes <tt/base/, el cual incluye muchos de
      de los ficheros aqui mencionados, y el kit <tt/sys/, que incluye el
      codigo fuente del kernel. No hay nada en el sistema que requiera el
      codigo fuente para funcionar, a excepcion del programa de configuracion
      de kernel <htmlurl url="http://www.freebsd.org/cgi/man.cgi?config"
      name="config">. Con la excepcion de las fuentes del kernel, nuestra
      estructura esta disenyada para que puedas montar una unidad en solo
      lectura via NFS en la que exista el codigo fuente, y aun asi, ser
      capaz de compilar los nuevos binarios. (Debido a las restriciones de
      los fuentes del kernel, recomendamos que no montes estos en
      <tt>/usr/src</tt> directamente, sino en cualquier otra parte del disco
      con los links simbolicos apropiados para duplicar la estructura
      principal del arbol de directorios original),

      <p>Teniendo los fuentes on-line y sabiendo como crear un sistema con
      ellas (compilar), te haremos mucho mas facil la actualizacion a
      futuras versiones de FreeBSD.

      <p>Actualmente, para seleccionar una parte del codigo fuente, usa
      la opcion Custom del menu cuando estas en el menu Distributions de
      la herramienta de instalacion. El script <tt>src/install.sh</tt>
      instalara solo partes de la distribucion de fuentes dependiendo de
      los parametros (argumentos) que se le pasen.

    <sect1>
      <heading>Necesito crear un nuevo kernel?</heading>

      <p>La creacion de un nuevo kernel era, originariamente, un paso
      requerido en la instalacion de FreeBSD, pero en las versiones mas
      recientes nos hemos beneficiado de la introduccion de una herramienta
      de configuracion de kernel mucho mas amigable. Cuando en el prompt de
      arranque de FreeBSD (boot:), usamos el parametro "-c", llegamos a una
      pantalla de configuracion visual la cual permite configurar las
      opciones del kernel para la mayoria de tarjetas ISA.

      <p>Todavia es recomendable la creacion de un nuevo kernel conteniendo
      solo los drivers que nos sean necesarios para ahorrar un poco de RAM,
      pero no es estrictamente necesario para la mayoria de sistemas.

    <sect1>
      <heading>Vivo fuera de USA. Puedo usar la encriptacion DES?</heading>

      <p>Si no es absolutamente necesario que uses la encriptacion DES,
      puedes usar la encriptacion por defecto de FreeBSD para una
      <bf/mejor/ seguridad, y sin restricciones de importacion. La
      encriptacion por defecto de los passwords en FreeBSD esta basada
      en <bf/MD5/, y es necesario un mayor uso intensivo de CPU
      con programas de descubrimiento de passwords que en DES. La unica
      razon para no usar hoy en dia la encriptacion <bf/MD5/ seria usar
      un sistema de passwords compartidos entre sistemas FreeBSD y
      no FreeBSD.

      <p>Desde que el algoritmo de encriptacion DES no puede ser legalmente
      exportado fuera de USA, los usuarios externos a USA deberian NO bajar
      este software desde los servidores FTP situados en USA.

      <p>Existe una alternativa para las librerias de encriptacion
      basadas en el codigo escrito en Australia por David Burren. Este
      codigo esta disponible en algunos mirrors de FreeBSD fuera de USA.
      Las fuentes de las librerias de encriptacion, y los binarios de los
      programas que las usan pueden encntrase en los siguientes
      servidores FTP:

      <descrip>
        <tag/South Africa/
          <tt>ftp://ftp.internat.freebsd.org/pub/FreeBSD</tt><newline>
          <tt>ftp://storm.sea.uct.ac.za/pub/FreeBSD</tt>

        <tag/Brazil/
          <tt>ftp://ftp.iqm.unicamp.br/pub/FreeBSD</tt>

        <tag/Finland/
          <tt>ftp://nic.funet.fi/pub/unix/FreeBSD/eurocrypt</tt>
      </descrip>

      <p>Los usuarios de fuera de los USA, no deben bajarse ningun
      software de encriptacion de servidores situados en USA, ya que de
      no seguir esta norma, los responsables de esos servidores podrian
      verse envueltos en importantes problemas legales.

      <p>Una distribucion no americana de Kerberos esta siendo desarrollada
      y las versiones actuels pueden obtenerse via ftp anonimo en
      <tt>braae.ru.ac.za</tt>.

      <p>Existe tambien una <ref id="mailing" name="lista de distribucion">
      para la discusion de software de encriptacion externo a USA. Para mas
      informacion envia un email con una simplre linea diciendo "<tt/help/
      en el cuerpo del mensaje a:

          <tt>&lt;majordomo@braae.ru.ac.za&gt;</tt>.

    <sect1>
      <heading>El "boot disc" arranca pero se cuelga en la pantalla "Probing
      Devices..."</heading>

      <p>Si tienes un ZIP ide o un JAZZ instalado, desinstalalo e intentalo
      de nuevo. El disco de arranque puede haberse confundido con los discos.
      Una vez el sistema este instalado, puedes volver a instalar/conectar
      los dispositivos. Esperamos que esto sea fijado en las proximas
      releases.

    <sect1>
      <heading>Aparece el siguiente error "panic: cant mount root" al 
      reiniciar el ordenador despues de la instalacion</heading>

      <p>Este error proviene de la confusion entre los bloques de arranque
      y lo que ve el kernel en los discos. El error se suele manifestar en 
      sistemas con dos discos IDE, con los discos duros dispuestos como 
      master o "sigle" en controladoras diferentes, estando FreeBSD instalado
      en la controladora IDE secundaria. Los bloques de arranque piensan que
      el sistema esta instalado en wd1 (el segundo disco en la BIOS) mientras
      el kernel asigna el primer disco de la controladora secundaria wd2. 
      Despues de la deteccion de dispositivos, el kernel intenta montar lo
      que los bloques de arranque piensan que es el disco de arranque, wd1,
      cuando realmente es el wd2, y falla.

      <p>Para solucionar el problema, haz una de las siguientes cosas:

      <enum>
       <item>En el prompt de arranque (boot:), pon
       <tt>1:wd(2,a)kernel</tt> y presiona Enter. Si el sistema arranca, 
       ejecuta el comando:
<verb>
echo "1:wd(2,a)kernel" > /boot.config
</verb>
       para actualizar la cadena de arranque por defecto.
       <item>Mueve el disco de FreeBSD a la controladora IDE primaria para
       que los discos sean consecutivos.
       <item><url url="../handbook/kernelconfig.html" 
       name="Crea un nuevo kernel,"> modifica las lineas de configuracion de
       wd de la siguiente manera:
<verb>
controller      wdc0    at isa? port "IO_WD1" bio irq 14 vector wdintr
disk            wd0     at wdc0 drive 0
# disk            wd1     at wdc0 drive 1 # comment out this line

controller      wdc1    at isa? port "IO_WD2" bio irq 15 vector wdintr
disk            wd1     at wdc1 drive 0 # change from wd2 to wd1
disk            wd2     at wdc1 drive 1 # change from wd3 to wd2
</verb> 
       Instala el nuevo kernel:
       Si moviste los discos y quieres recuperar la configuracion previa, 
       reemplaza los discos en la configuracion deseada y rearranca el 
       sistema. Tu sistema deberia arrancar sin problemas.
      </enum>

    <sect1>
      <heading>Cuales son los limites de memoria?.</heading>

      <p>Para memoria, el limite (teorico) es de 4 gigabytes. Un gigabyte
      ha sido comprobado y funciona sin problemas: generalmente no se pueden 
      comprar equipos i386 que soporten mas cantidad de memoria.

    <sect1>
      <heading>Cuales son los limites del sistema de ficheros ffs?</heading>

      <p>Para sistemas de ficheros ffs, el maximo teorico esta en 8 terabytes
      (bloques de 2G), o 16TB para el tamanyo de bloque por defecto de 8K.
      En la practica hay un limite por soft de 1 terabyte, pero con 
      pequenyas modificaciones es posible (y existen) sistemas de ficheros
      de 4 terabytes.

      <p>El tamanyo maximo de un ffs simple es aproximadamente de bloques de
      1G (4TB) so el tamanyo del bloque es de 4K.

      <verb>
                           maxfilesize
                ----------------------------------
                2.2.7    3.0
fs block size   -stable  -current  works  should-work
-------------   -------  --------  -----  -----------
4K              4T-1       4T-1    4T-1   4+T
8K              32+G       8T-1    32+G   16T-1
16K             128+G      16T-1   128+G  32T-1
32K             512+G      32T-1   512+G  64T-1
64K             2048+G     64T-1   2048+G 128T-1
     </verb>

     <p>Cuando el tamanyo del bloque del sistema de ficheros es de 4K, los 
     bloques triples funcionan y todo deberia estar limitado por el numero
     maximo de bloques que puede ser representado usando los bloques
     triples indirectos (aproximadamente 1K^3 + 1K^2 + 1K), pero todo esta
     limitado por un (mal) limite de 1G-1 en el numero de bloques. El
     limite en el numero de bloques deberia ser de 2G-1, pero estos
     numeros de bloque son inalcancables cuando los bloques del sistema de
     ficheros son de 4K.

    <sect1>
      <heading>Como puede poner fichero de 1TB en un disquete?</heading>
     
      <p>El tamanyo maximo de un fichero no depende directamente del 
      tamanyo maximo del disco. El tamanyo maximo del disco es de 1TB. Es
      una ventaja que el tamanyo del fichero pueda ser mayor que el 
      tamanyo del disco.

      <p>El siguiente ejemplo crea un fichero con un tamanyo de 1TB usando
      32K de espacio de disco (3 bloques indirectos y 1 bloque de datos) en
      una pequenya particion raiz.

<verb>
ttyv0:bde@alphplex:/tmp/q> cat foo
df .
dd if=/dev/zero of=z bs=1 seek=`echo 2^43 - 2 | bc` count=1
ls -l z
du z
df .
ttyv0:bde@alphplex:/tmp/q> sh foo
Filesystem  1024-blocks     Used    Avail Capacity  Mounted on
/dev/sd0a         64479    27702    31619    47%    /
1+0 records in
1+0 records out
1 bytes transferred in 0.000187 secs (5346 bytes/sec)
-rw-r--r--  1 bde  bin  8796093022207 Sep  7 16:04 z
32      z
Filesystem  1024-blocks     Used    Avail Capacity  Mounted on
/dev/sd0a         64479    27734    31587    47%    /
ttyv0:bde@alphplex:/tmp/q> exit
</verb>

<p>Bruce Evans, September 1998
  </sect>
