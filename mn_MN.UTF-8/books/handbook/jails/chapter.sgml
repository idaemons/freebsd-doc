<!--
    The FreeBSD Mongolian Documentation Project

    Original revision 1.3

    $FreeBSD$
-->
<chapter id="jails">
  <chapterinfo>
    <authorgroup>
      <author>
	<firstname>Матео</firstname>
	<surname>Риондато</surname>
	<contrib>Хувь нэмэр болгон оруулсан </contrib>
      </author>
    </authorgroup>
    <authorgroup>
      <author>
	<firstname>Цагаанхүүгийн</firstname>
	<surname>Ганболд</surname>
	<contrib>Орчуулсан  </contrib>
      </author>
    </authorgroup>
  </chapterinfo>

  <title>Jails буюу Шоронгууд</title>

  <indexterm><primary>шоронгууд</primary></indexterm>

  <sect1 id="jails-synopsis">
    <title>Ерөнхий агуулга</title>

    <para>Энэ бүлэг нь &os;-ийн шоронгууд гэж юу болох, тэдгээрийг хэрхэн ашиглах 
	талаар тайлбарлах болно. Шоронгууд буюу заримдаа <emphasis>chroot орчнууд</emphasis>ын 
	өргөжүүлсэн орлуулалт гэгддэг энэ боломж нь системийн администраторуудад 
	зориулагдсан маш хүчтэй хэрэгсэл боловч тэдгээрийн үндсэн хэрэглээ нь 
	илүү дэвшилтэт хэрэглэгчдэд бас үр ашигтай байдаг.</para>

    <para>Энэ бүлгийг уншсаны дараа, та дараах зүйлсийг мэдэх болно:</para>

    <itemizedlist>
      <listitem>
	<para>Шорон гэж юу болох, &os;-ийн суулгалтуудад ямар зорилгоор 
	ашиглагдаж болох талаар.</para>
      </listitem>

      <listitem>
	<para>Шоронг хэрхэн бүтээх, эхлүүлэх, болон зогсоох талаар.</para>
      </listitem>

      <listitem>
	<para>Шоронгийн гадна болон дотор талаас хийгдэж болох 
		удирдлагын үндсүүд.</para>
      </listitem>
    </itemizedlist>

    <para>Шоронгийн талаарх ашигтай мэдээллийн өөр бусад эхүүдийг дурдвал:</para>

    <itemizedlist>
      <listitem>
	<para>&man.jail.8; гарын авлагын хуудас. Энэ нь <command>jail</command> 
	хэрэгслийн бүрэн гүйцэд авлага юм &mdash; <command>jail</command> нь  &os; 
	дээр &os; шоронгуудыг эхлүүлэх, зогсоох, болон хянахад ашиглагдаж болох 
	удирдлагын хэрэгсэл юм.</para>
      </listitem>

      <listitem>
	<para>Захидлын жагсаалтууд болон тэдгээрийн архивууд. &a.questions; 
	болон бусад захидлын жагсаалтуудын архивууд нь &a.mailman.lists; дээр 
	байрладаг бөгөөд шоронгуудын талаар маш баялаг материалуудыг агуулсан байдаг. 
	Архивуудаас хайх юм уу эсвэл &a.questions.name; захидлын жагсаалт уруу 
	шинэ асуултаа илгээх нь үргэлж сонирхолтой байдаг.</para>
      </listitem>
    </itemizedlist>

  </sect1>

  <sect1 id="jails-terms">
    <title>Шоронгуудтай холбоотой ойлголтууд</title>

    <para>Шоронгуудтай холбоотой &os; системийн хэсгүүд, тэдгээрийн дотоод хэсгүүд болон 
	&os;-ийн бусад хэсэгтэй хэрхэн харилцдаг арга замыг илүүтэй ойлгохыг хөнгөвчлөхийн тулд 
	энэ хэсэгт дараах ойлголтуудыг ашиглах болно:</para>

    <variablelist>
      <varlistentry>
        <term>&man.chroot.2; (тушаал)</term>
        <listitem>
	  <para>Процесс болон түүний бүх үр удмуудын root санг өөрчилдөг 
		&os;-ийн системийн дуудлага.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
        <term>&man.chroot.2; (орчин)</term>
        <listitem>
	  <para><quote>chroot</quote>-д ажиллаж байгаа процессуудын орчин. 
		Үүнд харагдаж байгаа файлын системийн хэсэг, байгаа хэрэглэгч болон 
		бүлэг, сүлжээний интерфэйсүүд болон бусад IPC арга замууд гэх 
		мэт эх үүсвэрүүд ордог.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
        <term>&man.jail.8; (тушаал)</term>
        <listitem>
	  <para>Шоронгийн орчин дотор процессуудыг ажиллуулах боломжийг олгох 
		системийн удирдлагын хэрэгсэл.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
        <term>хост (систем, процесс, хэрэглэгч, гэх мэт.)</term>
        <listitem>
	  <para>Шоронгийн системийн хяналтын систем. Хост систем нь байгаа бүх тоног 
		төхөөрөмжийн эх үүсвэрүүдэд хандах боломжтой байдаг бөгөөд 
		шоронгийн орчны болон түүний гаднах процессуудыг хянаж чаддаг. 
		Хост системийн шоронгоос ялгарах нэг чухал ялгаа нь шорон доторх 
		супер хэрэглэгчийн процессуудад хамаарах хязгаарлалтууд  
		хост системийн процессуудын хувьд үйлчилдэггүй явдал юм.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
        <term>хост хийгдсэн (систем, процесс, хэрэглэгч, гэх мэт.)</term>
        <listitem>
	  <para>&os; шоронгоор эх үүсвэрүүдэд ханддаг хандалт нь хязгаарлагддаг 
		процесс, хэрэглэгч эсвэл бусад зүйлс.</para>
	</listitem>
      </varlistentry>
    </variablelist>
  </sect1>

  <sect1 id="jails-intro">
    <title>Танилцуулга</title>

    <para>Системийн удирдлага нь хэцүү, самууруулмаар ажил болохоор администраторын 
	амьдралыг хялбар болгох үүднээс олон хүчирхэг хэрэгслүүд хийгдэж хөгжүүлэгдсэн 
	байдаг. Эдгээр хэрэгслүүд нь системийг суулгах, тохируулах, болон арчлахад 
	нэгэн төрлийн өргөтгөлүүдийг ихэвчлэн хангаж өгдөг. Администраторуудын 
	хийх ёстой эдгээр ажлуудын нэг хэсэг нь системийн аюулгүй байдлыг зөв тохируулах 
	явдал юм. Ингэснээр аюулгүй байдлын зөрчлүүдгүйгээр систем өөрийн жинхэнэ 
	зорилгоороо үйлчлэх болно.</para>

    <para>&os; системийн аюулгүй байдлыг сайжруулахад ашиглагдаж болох хэрэгслүүдийн 
	нэг нь <emphasis>jails</emphasis> буюу <emphasis>шоронгууд</emphasis> 
	юм. Шоронгуудыг &os;-4.X дээр &a.phk; анх танилцуулсан юм. Гэхдээ тэдгээрийг 
	хүчирхэг, уян хатан дэд систем болгохын тулд &os;-5.X дээр илүү ихээр сайжруулсан 
	билээ. Тэдгээрийн ашигтай тал, ажиллагаа болон найдвартай байдлыг өргөжүүлэн
	тэдгээрийн хөгжүүлэлт үргэлжилсэн хэвээр болой.</para>

    <sect2 id="jails-what">
      <title>Шорон гэж юу вэ</title>

      <para>BSD-тэй төстэй үйлдлийн системүүд нь 4.2BSD-ийн үеэс эхлэн &man.chroot.2; 
	боломжтой болсон билээ. &man.chroot.8; хэрэгсэл нь процессуудын олонлогийн 
	root санг өөрчлөхөд ашиглагдаж 
	аюулгүй орчин үүсгэн системийн бусад хэсгээс тэдгээрийг тусгаарладаг.
	chroot хийгдсэн орчинд үүсгэгдсэн процессууд нь өөрийн орчноос гаднах файлууд 
	болон эх үүсвэрүүдэд хандаж чаддаггүй. Энэ шалтгаанаар chroot хийгдсэн 
	орчинд ажиллаж байгаа үйлчилгээг эвдэх нь халдагчид бүхэл системийг 
	эвдэх боломжийг олгох ёсгүй юм. &man.chroot.8; хэрэгсэл нь маш их уян хатан 
	чанар эсвэл төвөгтэй, дэвшилтэт боломжуудыг шаарддаггүй хялбар ажлуудад 
	сайн байдаг. Мөн chroot ойлголтын эхлэлээс эхлээд л chroot хийгдсэн орчноос 
	зугтах олон арга замууд олдсон бөгөөд хэдийгээр тэдгээр нь &os; цөмийн 
	орчин үеийн хувилбаруудад засагдсан боловч &man.chroot.2; нь үйлчилгээнүүдийг 
	аюулгүй болгоход зориулагдсан туйлын шийдэл биш нь тодорхой байсан юм.
	Үүнтэй холбоотой шинэ дэд систем хийгдэх шаардлагатай болсон байна.</para>

      <para>Энэ нь <emphasis>шоронгууд</emphasis> яагаад хөгжүүлэгдсэн
	гол шалтгаануудын нэг юм.</para>

      <para>Шоронгууд нь уламжлалт &man.chroot.2; орчны ойлголтуудыг хэд хэдэн 
	аргаар сайжруулдаг. Уламжлалт &man.chroot.2; орчинд процессууд нь 
	өөрийн хандаж болох файлын системийн нэг хэсэгт хязгаарлагдаж байдаг. 
	Системийн бусад эх үүсвэрүүд (системийн хэрэглэгчид, ажиллаж байгаа процессууд, 
	эсвэл сүлжээний дэд систем зэрэг) нь chroot хийгдсэн процессууд болон 
	хост системийн процессуудын хооронд хуваалцан хэрэглэгддэг. Шоронгууд нь 
	зөвхөн файлын систем уруу хандах хандалт биш бас хэрэглэгчид, &os; цөмийн 
	сүлжээний дэд систем болон бусад хэд хэдэн зүйлсүүдийг виртуалчлан энэ загварыг 
	өргөтгөдөг байна. Шорон болгосон орчны хандалтыг тааруулахад зориулсан 
	илүү бүрэн гүйцэд нарийн тааруулсан хяналтуудын олонлог байдаг нь 
	<xref linkend="jails-tuning"> хэсэгт тайлбарлагдсан байгаа.</para>

      <para>Шорон дөрвөн элементээр тодорхойлогддог:</para>

      <itemizedlist>
	<listitem>
	  <para>Сангийн дэд мод &mdash; шоронгийн орж ирдэг эхлэл цэг. 
		Шорон дотор орсны дараа процессийг энэ дэд модноос гадна 
		зугтахыг зөвшөөрдөггүй. Анхдагч &man.chroot.2; дизайныг 
		зовоосон аюулгүй байдлын уламжлалт асуудлууд нь &os; шоронгуудад 
		байдаггүй.</para>
	</listitem>

	<listitem>
	  <para>Хостын нэр &mdash; шорон дотор ашиглагдах хостын нэр. Шоронгууд нь 
		сүлжээний үйлчилгээнүүдийг хост хийхэд (байрлуулах) ихэвчлэн ашиглагддаг 
		болохоор шорон бүрийн хувьд тодорхойлсон нэртэй байх нь системийн администраторт 
		ихээхэн тус болж чадах юм.</para>
	</listitem>

	<listitem>
	  <para><acronym>IP</acronym> хаяг &mdash; энэ нь шорон бүрт өгөгдөх 
		бөгөөд шоронгийн оршин тогтнох хугацаанд ямар ч талаараа өөрчлөгдөх 
		ёсгүй. Шоронгийн IP хаяг нь ихэвчлэн байгаа сүлжээний интерфэйсийн alias хаяг 
		байх боловч заавал тийм байх шаардлагагүй юм.</para>
	</listitem>

	<listitem>
	  <para>Тушаал &mdash; шорон дотор ажиллах програм/тушаалын зам. 
		Энэ нь шоронгийн орчны root сантай харьцангуй байх бөгөөд 
		шоронгийн тусгай очны төрлөөс хамаараад асар өөр өөр байж болох 
		юм.</para>
	</listitem>
      </itemizedlist>

      <para>Эдгээрээс гадна шоронгууд нь өөрийн гэсэн хэрэглэгчид болон өөрийн 
	<username>root</username> хэрэглэгчтэй байж болдог. Мэдээжийн хэрэг 
	<username>root</username> хэрэглэгчийн хүч чадал шоронгийн орчин дотор 
	хязгаарлагддаг бөгөөд хост системийн үүднээс авч үзвэл шоронгийн <username>root</username> 
	хэрэглэгч нь бүхнийг чадагч хэрэглэгч биш юм. Мөн шоронгийн <username>root</username> 
	хэрэглэгчид өөрийнх нь харгалзах &man.jail.8; орчноос гадна осолтой үйлдлүүдийг 
	систем дээр хийлгэхийг зөвшөөрдөггүй. <username>root</username> хэрэглэгчийн 
	боломжууд болон хязгаарлалтуудын талаарх дэлгэрэнгүй мэдээллийг <xref
	  linkend="jails-tuning"> хэсэгт доор хэлэлцэх болно.</para>
    </sect2>
  </sect1>

  <sect1 id="jails-build">
    <title>Шоронг үүсгэж хянах нь</title>

    <para>Зарим администраторууд шоронг дараах хоёр төрөлд хуваадаг: эдгээр нь
	жинхэнэ &os; системтэй адил төстэй <quote>бүрэн</quote> шоронгууд болон 
	нэг програм юм уу эсвэл үйлчилгээнд зориулагдсан, магадгүй зөвшөөрлүүдтэй ажиллах 
	<quote>үйлчилгээ</quote> шоронгууд юм. Энэ нь зөвхөн ухагдахууны хуваагдал 
	бөгөөд шоронг бүтээх процесс үүнд хамаагүй юм. &man.jail.8; гарын авлагын 
	хуудас шоронг бүтээх аргачлалын талаар маш тодорхой зааварласан буй:</para>

      <screen>&prompt.root; <userinput>setenv D <replaceable>/here/is/the/jail</replaceable></userinput>
&prompt.root; <userinput>mkdir -p $D</userinput> <co id="jailpath">
&prompt.root; <userinput>cd /usr/src</userinput>
&prompt.root; <userinput>make world DESTDIR=$D</userinput> <co id="jailworld">
&prompt.root; <userinput>cd etc/</userinput> <footnote><para>Энэ алхам нь 
&os; 6.0 болон түүнээс хойшхи хувиилбаруудад шаардлагагүй.</para></footnote>
&prompt.root; <userinput>make distribution DESTDIR=$D</userinput> <co id="jaildistrib">
&prompt.root; <userinput>mount_devfs devfs $D/dev</userinput> <co id="jaildevfs"></screen>

    <calloutlist>
      <callout arearefs="jailpath">
	<para>Шоронгийн байрлалыг сонгох нь хамгийн шилдэг эхлэх цэг юм. 
	Энэ нь шорон физикээр өөрийн хостын файлын систем дотор байрлах байрлал юм. Сайн сонголт нь 
	<filename
	    role="directory">/usr/jail/<replaceable>jailname</replaceable></filename> 
	байж болох бөгөөд энд байгаа <replaceable>jailname</replaceable> нь 
	шоронг таниулж байгаа хостын нэр юм. <filename
	    role="directory">/usr/</filename> файлын систем нь 
	шоронгийн файлын системийн хувьд ихэвчлэн хангалттай зайтай байдаг. 
	Үндсэндээ  <quote>бүрэн</quote> шоронгуудын хувьд энэ шоронгийн 
	файлын систем нь үндсэн &os; системийн андагч 
	суулгацад байдаг бүх файлуудын хуулбар байдаг.</para>
      </callout>

      <callout arearefs="jailworld">
	<para>Энэ тушаал нь шоронгийн физик байрлал болгон сонгосон сангийн дэд модыг 
	файлын систем дээр шаардлагатай хоёртын файлууд, сангууд, гарын авлагын 
	хуудаснууд гэх зэргүүдийг тараан байрлуулах болно. Бүгд хэвшмэл &os; 
	загвараар хийгдэнэ &mdash; эхлээд бүгд бүтээгдэнэ/эмхэтгэгдэнэ, дараа нь 
	хүрэх замд суулгагдана.</para>
      </callout>

      <callout arearefs="jaildistrib">
	<para><application>make</application> тушаалд зориулагдсан 
	<maketarget>distribution</maketarget> тохируулга нь бүх шаардлагатай 
	тохиргооны файлыг суулгана, өөрөөр хэлбэл энэ нь 
	<filename role="directory">/usr/src/etc/</filename> сангийн 
	бүх суулгаж болох файлуудыг шоронгийн орчны 
	<filename role="directory">/etc</filename> сан болох 
	<filename role="directory">$D/etc/</filename> руу хуулдаг.</para>
      </callout>

      <callout arearefs="jaildevfs">
	<para>Шорон дотор &man.devfs.8; файлын системийг холбох шаардлагагүй. 
	Нөгөө талаас авч үзвэл дурын, бараг бүх програм өөрийн зорилгоосоо хамааран 
	хамгийн багаар бодоход ядаж ганц төхөөрөмжид хандах шаардлагатай байдаг.
	Шорон дотроос төхөөрөмжид хандах хандалтыг хянах нь маш чухал байдаг. 
	Учир нь буруу тохируулгууд халдагчид шорон дотор муухай зүйлс хийх боломжийг 
	олгож болох юм. &man.devfs.8; дээрх хяналтыг &man.devfs.8; болон 
	&man.devfs.conf.5; гарын авлагын хуудаснуудад тайлбарласан дүрмийн 
	олонлогуудаар удирддаг.</para>
      </callout>
    </calloutlist>

    <para>Шорон суулгагдсаны дараа &man.jail.8; хэрэгсэл ашиглан түүнийг 
	эхлүүлж болно. &man.jail.8; хэрэгсэл дөрвөн зайлшгүй шаардлагатай 
	нэмэлт өгөгдлийг авдаг бөгөөд эдгээр нь <xref
	linkend="jails-what"> хэсэгт тайлбарлагдсан байгаа болно. 
	Өөр бусад нэмэлт өгөгдлүүдийг бас зааж өгч болох бөгөөд жишээ нь 
	шорон хийгдсэн процессийг тухайн нэг хэрэглэгчийн итгэмжлэлүүдтэй ажиллуулж болох юм.
	<command>command</command>-н нэмэлт өгөгдөл нь 
	шоронгийн төрлөөс хамаарна; <emphasis>виртуал системийн</emphasis> 
	хувьд <filename>/etc/rc</filename> нь боломжийн сонголт байна.
	Энэ нь жинхэнэ &os; системийн эхлүүлэх дарааллыг хуулбарлах учраас тэр 
	юм. <emphasis>Үйлчилгээ</emphasis> шоронгийн хувьд шорон дотор 
	ажиллах үйлчилгээ эсвэл програмаас энэ нь хамаарна.</para>

    <para>Шоронгууд нь ихэвчлэн ачаалах үед эхлүүлэгддэг бөгөөд &os;
      <filename>rc</filename> арга зам нь үүнийг хийх хялбар аргаар 
	хангадаг.</para>

    <procedure>
      <step>
	<para>Ачаалах үед эхлэхээр идэвхжүүлэгдсэн шоронгуудын жагсаалтыг 
	&man.rc.conf.5; файлд нэмэх ёстой:</para>

	<programlisting>jail_enable="YES"   # Set to NO to disable starting of any jails
jail_list="<replaceable>www</replaceable>"     # Space separated list of names of jails</programlisting>
      </step>

      <step>
	<para>Шорон бүрийг тайлбарласан &man.rc.conf.5; тохируулгуудын бүлэг 
	<varname>jail_list</varname>-д жагсаагдсан шорон бүрийн 
	хувьд дараахийг нэмэх ёстой:</para>

	<programlisting>jail_<replaceable>www</replaceable>_rootdir="/usr/jail/www"     # jail's root directory
jail_<replaceable>www</replaceable>_hostname="<replaceable>www</replaceable>.example.org"   # jail's hostname
jail_<replaceable>www</replaceable>_ip_="192.168.0.10"          # jail's IP address
jail_<replaceable>www</replaceable>_devfs_enable="YES"          # mount devfs in the jail
jail_<replaceable>www</replaceable>_devfs_ruleset="<replaceable>www_ruleset</replaceable>" # devfs ruleset to apply to jail</programlisting>

	<para>&man.rc.conf.5;-д тохируулагдсан шоронгуудын анхдагч 
	эхлүүлэлт нь шоронг бүрэн виртуал систем гэж тооцдог шоронгийн 
	<filename>/etc/rc</filename> скриптийг ажиллуулах болно. Үйлчилгээний 
	шоронгуудын хувьд  
	<varname>jail_<replaceable>jailname</replaceable>_exec_start</varname>
	тохируулгыг зохистойгоор тохируулан шоронгийн анхдагч эхлүүлэх тушаалыг 
	өөрчлөх ёстой.</para>

	<note>
	  <para>Тохируулгуудын бүрэн жагсаалтыг &man.rc.conf.5; гарын 
		авлагын хуудаснаас үзнэ үү.</para>
	</note>
    </procedure>

    <para>Шоронд зориулагдсан оруулга <filename>rc.conf</filename> файлд байгаа 
	тохиолдолд <filename>/etc/rc.d/jail</filename> скрипт шоронг гараар эхлүүлэх 
	эсвэл зогсооход ашиглагдаж болох юм:</para>

    <screen>&prompt.root; <userinput>/etc/rc.d/jail start <replaceable>www</replaceable></userinput>
&prompt.root; <userinput>/etc/rc.d/jail stop <replaceable>www</replaceable></userinput></screen>

    <para>Одоогоор &man.jail.8;-г зогсоох цэвэр зам байхгүй байгаа. 
	Цэвэр системийн зогсолтыг хийх тушаалуудыг шорон дотор ашиглах боломжгүй 
	байдаг болохоор тэр юм. Шоронг зогсоох хамгийн шилдэг арга бол 
	дараах тушаалыг шорон дотроос ажиллуулах эсвэл шоронгийн гадна 
	&man.jexec.8; хэрэгслийг ашиглах явдал юм:</para>

    <screen>&prompt.root; <userinput>sh /etc/rc.shutdown</userinput></screen>

    <para>Үүний талаар дэлгэрэнгүй мэдээллийг &man.jail.8; гарын авлагын хуудаснаас 
	олж болно.</para>
  </sect1>

  <sect1 id="jails-tuning">
    <title>Нарийн тааруулалт болон удирдлага</title>

    <para>Аль ч шоронд зориулж тохируулж болох хэд хэдэн тохируулгууд байдаг бөгөөд 
	өндөр түвшний програмуудыг хийхийн тулд хост &os; системийг шоронгуудтай цуг 
	хослуулах төрөл бүрийн аргууд бас байдаг. Энэ хэсэг нь дараах зүйлсийг үзүүлнэ:</para>

    <itemizedlist>
      <listitem>
	<para>Ажиллагаа болон шоронгийн суулгалтаар хийгдсэн аюулгүй байдлын 
	хязгаарлалтуудыг тааруулахад зориулагдсан зарим тохируулгууд.</para>
      </listitem>

      <listitem>
	<para>&os;-ийн портын цуглуулгад байх, шорон дээр суурилсан шийдлүүдийг 
	хийхэд ашиглагдаж болох шорон удирдах зарим нэг өндөр түвшний 
	програмууд.</para>
    </itemizedlist>

    <sect2 id="jails-tuning-utilities">
      <title>&os; дээр шорон тааруулах системийн хэрэгслүүд</title>

      <para>Шоронгийн тохиргооны нарийн сайн тааруулалтыг &man.sysctl.8; 
	хувьсагчуудыг тохируулснаар ихэвчлэн хийдэг. Бүх хамаатай тохируулгуудыг 
	зохион байгуулах үндэс болон sysctl-ийн тусгай дэд мод байдаг; 
	&os; цөмийн тохируулгуудын <varname>security.jail.*</varname> шатлал 
	юм. Энд шоронтой холбоотой гол sysctl-уудын жагсаалтыг тэдгээрийн 
	анхдагч утгуудтайгаар харуулав. Нэрс нь өөрийгөө тайлбарласан байгаа, 
	гэхдээ тэдгээрийн талаар илүү мэдээллийг &man.jail.8; болон &man.sysctl.8; 
	гарын авлагын хуудаснуудаас лавлана уу.</para>

      <itemizedlist>
	<listitem>
	  <para><varname>security.jail.set_hostname_allowed:
	     1</varname></para>
	</listitem>

	<listitem>
	  <para><varname>security.jail.socket_unixiproute_only:
	     1</varname></para>
	</listitem>

	<listitem>
	  <para><varname>security.jail.sysvipc_allowed:
	     0</varname></para>
	</listitem>

	<listitem>
	  <para><varname>security.jail.enforce_statfs:
	     2</varname></para>
	</listitem>

	<listitem>
	  <para><varname>security.jail.allow_raw_sockets:
	     0</varname></para>
	</listitem>

	<listitem>
	  <para><varname>security.jail.chflags_allowed:
	    0</varname></para>
	</listitem>

	<listitem>
	  <para><varname>security.jail.jailed: 0</varname></para>
	</listitem>
      </itemizedlist>

      <para><username>root</username> хэрэглэгчид анхдагчаар ноогдуулсан хязгаарлалтуудын 
	заримыг нэмэх эсвэл хасахын тулд эдгээр хувьсагчуудыг <emphasis>хост системийн</emphasis> 
	администратор  ашиглаж болно. Зарим нэг хязгаарлалтуудыг хасаж болохгүйг 
	тэмдэглэе. <username>root</username> хэрэглэгчид &man.jail.8; 
	дотор файлын системүүдийг холбох эсвэл салгахыг зөвшөөрдөггүй. Шорон 
	доторх <username>root</username> хэрэглэгч &man.devfs.8; дүрмийн 
	олонлогуудыг дуудах эсвэл буцааж болиулах, галт ханын дүрмүүдийг тохируулах, 
	эсвэл цөмийн <varname>securelevel</varname> хувьсагчийг тохируулах зэрэг 
	цөм дэх өгөгдлийн өөрчлөлтүүдийг шаарддаг өөр олон бусад удирдлагын 
	ажлуудыг хийж чадахгүй байж болох юм.</para>

      <para>&os;-ийн үндсэн систем нь идэвхтэй шоронгуудын талаарх мэдээллийг үзүүлэх болон 
	удирдлагын тушаалуудыг ажиллуулахын тулд шоронд залгагдаж болох хялбар хэрэгслүүдийн 
	цуглуулгыг агуулдаг. &man.jls.8; болон &man.jexec.8; нь &os;-ийн үндсэн системийн 
	хэсэг бөгөөд дараах хялбар ажлуудыг хийж гүйцэтгэхэд ашиглагдаж болно:</para>

      <itemizedlist>
	<listitem>
	  <para>Идэвхтэй байгаа шоронгуудын жагсаалт болон тэдгээрийн харгалзах 
		шорон танигч (<acronym>JID</acronym>), <acronym>IP</acronym> 
		хаяг, хостын нэр болон замыг үзүүлнэ.</para>
	</listitem>

	<listitem>
	  <para>Өөрийнх нь хост системээс ажиллаж байгаа шоронд залгагдаж 
		шорон дотроос шоронгийн удирдлагын ажлуудаас тушаалыг ажиллуулна. 
		<username>root</username> хэрэглэгч шоронг цэвэрхэн 
		зогсоож унтраахыг хүсэх үед энэ нь ялангуяа ашигтай байдаг. 
		Шорон дотор удирдлага хийхийн тулд түүн дотор бүрхүүл эхлүүлэхэд 
		&man.jexec.8; хэрэгсэл бас ашиглагдаж болдог; жишээ нь:</para>

	  <screen>&prompt.root; <userinput>jexec <replaceable>1</replaceable> tcsh</userinput></screen>
	</listitem>
      </itemizedlist>
    </sect2>

    <sect2 id="jails-tuning-admintools">
      <title>&os;-ийн портын цуглуулга дахь өндөр түвшний удирдлагын хэрэгслүүд</title>

    <para>Шорон удирдлагад зориулагдсан гуравдагч талуудын олон хэрэгслүүдийн дундаас 
	хамгийн бүрэн гүйцэд, ашигтай нь <filename
	role="package">sysutils/jailutils</filename> юм. Энэ нь 
	&man.jail.8;-ийн удирдлагад хувь нэмэр болсон жижиг програмуудын цуглуулга
	юм. Дэлгэрэнгүй мэдээллийн талаар түүний веб хуудсанд хандана уу.</para>
    </sect2>
  </sect1>
</chapter>
